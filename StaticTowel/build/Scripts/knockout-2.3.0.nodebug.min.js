(function(){var DEBUG=!1;(function(undefined){var window=this||(0,eval)("this"),document=window.document,navigator=window.navigator,jQuery=window.jQuery,JSON=window.JSON;(function(a){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var b=module.exports||exports;a(b)}else typeof define=="function"&&define.amd?define(["exports"],a):a(window.ko={})})(function(a){function c(a){var c=this;return a&&b.utils.objectForEach(a,function(a,d){var e=b.extenders[a];typeof e=="function"&&(c=e(c,d))}),c}function j(a){b.bindingHandlers[a]={init:function(c,d,e,f){var g=function(){var b={};return b[a]=d(),b};return b.bindingHandlers.event.init.call(this,c,g,e,f)}}}function n(a,c,d,e){b.bindingHandlers[a]={init:function(a,c,d,e,f){return b.utils.domData.set(a,m,{}),{controlsDescendantBindings:!0}},update:function(a,f,g,h,i){var j=b.utils.domData.get(a,m),k=b.utils.unwrapObservable(f()),l=!d!=!k,n=!j.savedNodes,o=n||c||l!==j.didDisplayOnLastUpdate;o&&(n&&(j.savedNodes=b.utils.cloneNodes(b.virtualElements.childNodes(a),!0)),l?(n||b.virtualElements.setDomNodeChildren(a,b.utils.cloneNodes(j.savedNodes)),b.applyBindingsToDescendants(e?e(i,k):i,a)):b.virtualElements.emptyNode(a),j.didDisplayOnLastUpdate=l)}},b.expressionRewriting.bindingRewriteValidators[a]=!1,b.virtualElements.allowedBindings[a]=!0}function o(a,c,d){d&&c!==b.selectExtensions.readValue(a)&&b.selectExtensions.writeValue(a,c),c!==b.selectExtensions.readValue(a)&&b.dependencyDetection.ignore(b.utils.triggerEvent,null,[a,"change"])}var b=typeof a!="undefined"?a:{};b.exportSymbol=function(a,c){var d=a.split("."),e=b;for(var f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c},b.exportProperty=function(a,b,c){a[b]=c},b.version="2.3.0",b.exportSymbol("version",b.version),b.utils=function(){function j(a,c){if(b.utils.tagNameLower(a)!=="input"||!a.type)return!1;if(c.toLowerCase()!="click")return!1;var d=a.type;return d=="checkbox"||d=="radio"}var a=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},c={},d={},e=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";c[e]=["keyup","keydown","keypress"],c.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],a(c,function(a,b){if(b.length)for(var c=0,e=b.length;c<e;c++)d[b[c]]=a});var f={propertychange:!0},g=document&&function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");while(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",c[0]);return a>4?a:undefined}(),h=g===6,i=g===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])},arrayIndexOf:function(a,b){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d]))return a[d];return null},arrayRemoveItem:function(a,c){var d=b.utils.arrayIndexOf(a,c);d>=0&&a.splice(d,1)},arrayGetDistinctValues:function(a){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)b.utils.arrayIndexOf(c,a[d])<0&&c.push(a[d]);return c},arrayMap:function(a,b){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)c.push(b(a[d]));return c},arrayFilter:function(a,b){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)b(a[d])&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(a,c,d){var e=a.indexOf?a.indexOf(c):b.utils.arrayIndexOf(a,c);e<0?d&&a.push(c):d||a.splice(e,1)},extend:function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},objectForEach:a,emptyDomNode:function(a){while(a.firstChild)b.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(a){var c=b.utils.makeArray(a),d=document.createElement("div");for(var e=0,f=c.length;e<f;e++)d.appendChild(b.cleanNode(c[e]));return d},cloneNodes:function(a,c){for(var d=0,e=a.length,f=[];d<e;d++){var g=a[d].cloneNode(!0);f.push(c?b.cleanNode(g):g)}return f},setDomNodeChildren:function(a,c){b.utils.emptyDomNode(a);if(c)for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])},replaceDomNodes:function(a,c){var d=a.nodeType?[a]:a;if(d.length>0){var e=d[0],f=e.parentNode;for(var g=0,h=c.length;g<h;g++)f.insertBefore(c[g],e);for(var g=0,h=d.length;g<h;g++)b.removeNode(d[g])}},setOptionNodeSelectionState:function(a,b){g<7?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return a===null||a===undefined?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(a,c){var d=[],e=(a||"").split(c);for(var f=0,g=e.length;f<g;f++){var h=b.utils.stringTrim(e[f]);h!==""&&d.push(h)}return d},stringStartsWith:function(a,b){return a=a||"",b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(b.compareDocumentPosition)return(b.compareDocumentPosition(a)&16)==16;while(a!=null){if(a==b)return!0;a=a.parentNode}return!1},domNodeIsAttachedToDocument:function(a){return b.utils.domNodeIsContainedBy(a,a.ownerDocument)},anyDomNodeIsAttachedToDocument:function(a){return!!b.utils.arrayFirst(a,b.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(a,c,d){var e=g&&f[c];if(!e&&typeof jQuery!="undefined"){if(j(a,c)){var h=d;d=function(a,b){var c=this.checked;b&&(this.checked=b.checkedStateBeforeEvent!==!0),h.call(this,a),this.checked=c}}jQuery(a).bind(c,d)}else if(!e&&typeof a.addEventListener=="function")a.addEventListener(c,d,!1);else{if(typeof a.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");var i=function(b){d.call(a,b)},k="on"+c;a.attachEvent(k,i),b.utils.domNodeDisposal.addDisposeCallback(a,function(){a.detachEvent(k,i)})}},triggerEvent:function(a,b){if(!a||!a.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined"){var c=[];j(a,b)&&c.push({checkedStateBeforeEvent:a.checked}),jQuery(a).trigger(b,c)}else if(typeof document.createEvent=="function"){if(typeof a.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var e=d[b]||"HTMLEvents",f=document.createEvent(e);f.initEvent(b,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f)}else if(typeof a.fireEvent!="undefined")j(a,b)&&(a.checked=a.checked!==!0),a.fireEvent("on"+b);else throw new Error("Browser doesn't support triggering events")},unwrapObservable:function(a){return b.isObservable(a)?a():a},peekObservable:function(a){return b.isObservable(a)?a.peek():a},toggleDomNodeCssClass:function(a,c,d){if(c){var e=/\S+/g,f=a.className.match(e)||[];b.utils.arrayForEach(c.match(e),function(a){b.utils.addOrRemoveItem(f,a,d)}),a.className=f.join(" ")}},setTextContent:function(a,c){var d=b.utils.unwrapObservable(c);if(d===null||d===undefined)d="";var e=b.virtualElements.firstChild(a);!e||e.nodeType!=3||b.virtualElements.nextSibling(e)?b.virtualElements.setDomNodeChildren(a,[document.createTextNode(d)]):e.data=d,b.utils.forceRefresh(a)},setElementName:function(a,b){a.name=b;if(g<=7)try{a.mergeAttributes(document.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){if(g>=9){var b=a.nodeType==1?a:a.parentNode;b.style&&(b.style.zoom=b.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(a){if(g){var b=a.style.width;a.style.width=0,a.style.width=b}},range:function(a,c){a=b.utils.unwrapObservable(a),c=b.utils.unwrapObservable(c);var d=[];for(var e=a;e<=c;e++)d.push(e);return d},makeArray:function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},isIe6:h,isIe7:i,ieVersion:g,getFormFields:function(a,c){var d=b.utils.makeArray(a.getElementsByTagName("input")).concat(b.utils.makeArray(a.getElementsByTagName("textarea"))),e=typeof c=="string"?function(a){return a.name===c}:function(a){return c.test(a.name)},f=[];for(var g=d.length-1;g>=0;g--)e(d[g])&&f.push(d[g]);return f},parseJson:function(a){if(typeof a=="string"){a=b.utils.stringTrim(a);if(a)return JSON&&JSON.parse?JSON.parse(a):(new Function("return "+a))()}return null},stringifyJson:function(a,c,d){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(b.utils.unwrapObservable(a),c,d)},postJson:function(c,d,e){e=e||{};var f=e.params||{},g=e.includeFields||this.fieldsIncludedWithJsonPost,h=c;if(typeof c=="object"&&b.utils.tagNameLower(c)==="form"){var i=c;h=i.action;for(var j=g.length-1;j>=0;j--){var k=b.utils.getFormFields(i,g[j]);for(var l=k.length-1;l>=0;l--)f[k[l].name]=k[l].value}}d=b.utils.unwrapObservable(d);var m=document.createElement("form");m.style.display="none",m.action=h,m.method="post";for(var n in d){var o=document.createElement("input");o.name=n,o.value=b.utils.stringifyJson(b.utils.unwrapObservable(d[n])),m.appendChild(o)}a(f,function(a,b){var c=document.createElement("input");c.name=a,c.value=b,m.appendChild(c)}),document.body.appendChild(m),e.submitter?e.submitter(m):m.submit(),setTimeout(function(){m.parentNode.removeChild(m)},0)}}}(),b.exportSymbol("utils",b.utils),b.exportSymbol("utils.arrayForEach",b.utils.arrayForEach),b.exportSymbol("utils.arrayFirst",b.utils.arrayFirst),b.exportSymbol("utils.arrayFilter",b.utils.arrayFilter),b.exportSymbol("utils.arrayGetDistinctValues",b.utils.arrayGetDistinctValues),b.exportSymbol("utils.arrayIndexOf",b.utils.arrayIndexOf),b.exportSymbol("utils.arrayMap",b.utils.arrayMap),b.exportSymbol("utils.arrayPushAll",b.utils.arrayPushAll),b.exportSymbol("utils.arrayRemoveItem",b.utils.arrayRemoveItem),b.exportSymbol("utils.extend",b.utils.extend),b.exportSymbol("utils.fieldsIncludedWithJsonPost",b.utils.fieldsIncludedWithJsonPost),b.exportSymbol("utils.getFormFields",b.utils.getFormFields),b.exportSymbol("utils.peekObservable",b.utils.peekObservable),b.exportSymbol("utils.postJson",b.utils.postJson),b.exportSymbol("utils.parseJson",b.utils.parseJson),b.exportSymbol("utils.registerEventHandler",b.utils.registerEventHandler),b.exportSymbol("utils.stringifyJson",b.utils.stringifyJson),b.exportSymbol("utils.range",b.utils.range),b.exportSymbol("utils.toggleDomNodeCssClass",b.utils.toggleDomNodeCssClass),b.exportSymbol("utils.triggerEvent",b.utils.triggerEvent),b.exportSymbol("utils.unwrapObservable",b.utils.unwrapObservable),b.exportSymbol("utils.objectForEach",b.utils.objectForEach),b.exportSymbol("utils.addOrRemoveItem",b.utils.addOrRemoveItem),b.exportSymbol("unwrap",b.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments),a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}}),b.utils.domData=new function(){var a=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(a,c){var d=b.utils.domData.getAll(a,!1);return d===undefined?undefined:d[c]},set:function(a,c,d){if(d===undefined&&b.utils.domData.getAll(a,!1)===undefined)return;var e=b.utils.domData.getAll(a,!0);e[c]=d},getAll:function(b,e){var f=b[c],g=f&&f!=="null"&&d[f];if(!g){if(!e)return undefined;f=b[c]="ko"+a++,d[f]={}}return d[f]},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}}},b.exportSymbol("utils.domData",b.utils.domData),b.exportSymbol("utils.domData.clear",b.utils.domData.clear),b.utils.domNodeDisposal=new function(){function e(c,d){var e=b.utils.domData.get(c,a);return e===undefined&&d&&(e=[],b.utils.domData.set(c,a,e)),e}function f(c){b.utils.domData.set(c,a,undefined)}function g(a){var c=e(a,!1);if(c){c=c.slice(0);for(var f=0;f<c.length;f++)c[f](a)}b.utils.domData.clear(a),typeof jQuery=="function"&&typeof jQuery["cleanData"]=="function"&&jQuery.cleanData([a]),d[a.nodeType]&&h(a)}function h(a){var b,c=a.firstChild;while(b=c)c=b.nextSibling,b.nodeType===8&&g(b)}var a="__ko_domNodeDisposal__"+(new Date).getTime(),c={1:!0,8:!0,9:!0},d={1:!0,9:!0};return{addDisposeCallback:function(a,b){if(typeof b!="function")throw new Error("Callback must be a function");e(a,!0).push(b)},removeDisposeCallback:function(a,c){var d=e(a,!1);d&&(b.utils.arrayRemoveItem(d,c),d.length==0&&f(a))},cleanNode:function(a){if(c[a.nodeType]){g(a);if(d[a.nodeType]){var e=[];b.utils.arrayPushAll(e,a.getElementsByTagName("*"));for(var f=0,h=e.length;f<h;f++)g(e[f])}}return a},removeNode:function(a){b.cleanNode(a),a.parentNode&&a.parentNode.removeChild(a)}}},b.cleanNode=b.utils.domNodeDisposal.cleanNode,b.removeNode=b.utils.domNodeDisposal.removeNode,b.exportSymbol("cleanNode",b.cleanNode),b.exportSymbol("removeNode",b.removeNode),b.exportSymbol("utils.domNodeDisposal",b.utils.domNodeDisposal),b.exportSymbol("utils.domNodeDisposal.addDisposeCallback",b.utils.domNodeDisposal.addDisposeCallback),b.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",b.utils.domNodeDisposal.removeDisposeCallback),function(){function c(a){var c=b.utils.stringTrim(a).toLowerCase(),d=document.createElement("div"),e=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],f="ignored<div>"+e[1]+a+e[2]+"</div>";typeof window["innerShiv"]=="function"?d.appendChild(window.innerShiv(f)):d.innerHTML=f;while(e[0]--)d=d.lastChild;return b.utils.makeArray(d.lastChild.childNodes)}function d(a){if(jQuery.parseHTML)return jQuery.parseHTML(a)||[];var b=jQuery.clean([a]);if(b&&b[0]){var c=b[0];while(c.parentNode&&c.parentNode.nodeType!==11)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}return b}var a=/^(\s*)<!--(.*?)-->/;b.utils.parseHtmlFragment=function(a){return typeof jQuery!="undefined"?d(a):c(a)},b.utils.setHtml=function(a,c){b.utils.emptyDomNode(a),c=b.utils.unwrapObservable(c);if(c!==null&&c!==undefined){typeof c!="string"&&(c=c.toString());if(typeof jQuery!="undefined")jQuery(a).html(c);else{var d=b.utils.parseHtmlFragment(c);for(var e=0;e<d.length;e++)a.appendChild(d[e])}}}}(),b.exportSymbol("utils.parseHtmlFragment",b.utils.parseHtmlFragment),b.exportSymbol("utils.setHtml",b.utils.setHtml),b.memoization=function(){function c(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function d(){return c()+c()}function e(a,c){if(!a)return;if(a.nodeType==8){var d=b.memoization.parseMemoText(a.nodeValue);d!=null&&c.push({domNode:a,memoId:d})}else if(a.nodeType==1)for(var f=0,g=a.childNodes,h=g.length;f<h;f++)e(g[f],c)}var a={};return{memoize:function(b){if(typeof b!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var c=d();return a[c]=b,"<!--[ko_memo:"+c+"]-->"},unmemoize:function(b,c){var d=a[b];if(d===undefined)throw new Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return d.apply(null,c||[]),!0}finally{delete a[b]}},unmemoizeDomNodeAndDescendants:function(a,c){var d=[];e(a,d);for(var f=0,g=d.length;f<g;f++){var h=d[f].domNode,i=[h];c&&b.utils.arrayPushAll(i,c),b.memoization.unmemoize(d[f].memoId,i),h.nodeValue="",h.parentNode&&h.parentNode.removeChild(h)}},parseMemoText:function(a){var b=a.match(/^\[ko_memo\:(.*?)\]$/);return b?b[1]:null}}}(),b.exportSymbol("memoization",b.memoization),b.exportSymbol("memoization.memoize",b.memoization.memoize),b.exportSymbol("memoization.unmemoize",b.memoization.unmemoize),b.exportSymbol("memoization.parseMemoText",b.memoization.parseMemoText),b.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",b.memoization.unmemoizeDomNodeAndDescendants),b.extenders={throttle:function(a,c){a.throttleEvaluation=c;var d=null;return b.dependentObservable({read:a,write:function(b){clearTimeout(d),d=setTimeout(function(){a(b)},c)}})},notify:function(a,c){return a.equalityComparer=c=="always"?function(){return!1}:b.observable.fn.equalityComparer,a}},b.exportSymbol("extenders",b.extenders),b.subscription=function(a,c,d){this.target=a,this.callback=c,this.disposeCallback=d,b.exportProperty(this,"dispose",this.dispose)},b.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},b.subscribable=function(){this._subscriptions={},b.utils.extend(this,b.subscribable.fn),b.exportProperty(this,"subscribe",this.subscribe),b.exportProperty(this,"extend",this.extend),b.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var d="change";b.subscribable.fn={subscribe:function(a,c,e){e=e||d;var f=c?a.bind(c):a,g=new b.subscription(this,f,function(){b.utils.arrayRemoveItem(this._subscriptions[e],g)}.bind(this));return this._subscriptions[e]||(this._subscriptions[e]=[]),this._subscriptions[e].push(g),g},notifySubscribers:function(a,c){c=c||d,this._subscriptions[c]&&b.dependencyDetection.ignore(function(){b.utils.arrayForEach(this._subscriptions[c].slice(0),function(b){b&&b.isDisposed!==!0&&b.callback(a)})},this)},getSubscriptionsCount:function(){var a=0;return b.utils.objectForEach(this._subscriptions,function(b,c){a+=c.length}),a},extend:c},b.isSubscribable=function(a){return a!=null&&typeof a.subscribe=="function"&&typeof a["notifySubscribers"]=="function"},b.exportSymbol("subscribable",b.subscribable),b.exportSymbol("isSubscribable",b.isSubscribable),b.dependencyDetection=function(){var a=[];return{begin:function(b){a.push({callback:b,distinctDependencies:[]})},end:function(){a.pop()},registerDependency:function(c){if(!b.isSubscribable(c))throw new Error("Only subscribable things can act as dependencies");if(a.length>0){var d=a[a.length-1];if(!d||b.utils.arrayIndexOf(d.distinctDependencies,c)>=0)return;d.distinctDependencies.push(c),d.callback(c)}},ignore:function(b,c,d){try{return a.push(null),b.apply(c,d||[])}finally{a.pop()}}}}();var e={"undefined":!0,"boolean":!0,number:!0,string:!0};b.observable=function(a){function d(){if(arguments.length>0){if(!d.equalityComparer||!d.equalityComparer(c,arguments[0]))d.valueWillMutate(),c=arguments[0],DEBUG&&(d._latestValue=c),d.valueHasMutated();return this}return b.dependencyDetection.registerDependency(d),c}var c=a;return DEBUG&&(d._latestValue=c),b.subscribable.call(d),d.peek=function(){return c},d.valueHasMutated=function(){d.notifySubscribers(c)},d.valueWillMutate=function(){d.notifySubscribers(c,"beforeChange")},b.utils.extend(d,b.observable.fn),b.exportProperty(d,"peek",d.peek),b.exportProperty(d,"valueHasMutated",d.valueHasMutated),b.exportProperty(d,"valueWillMutate",d.valueWillMutate),d},b.observable.fn={equalityComparer:function(a,b){var c=a===null||typeof a in e;return c?a===b:!1}};var f=b.observable.protoProperty="__ko_proto__";b.observable.fn[f]=b.observable,b.hasPrototype=function(a,c){return a===null||a===undefined||a[f]===undefined?!1:a[f]===c?!0:b.hasPrototype(a[f],c)},b.isObservable=function(a){return b.hasPrototype(a,b.observable)},b.isWriteableObservable=function(a){return typeof a=="function"&&a[f]===b.observable?!0:typeof a=="function"&&a[f]===b.dependentObservable&&a.hasWriteFunction?!0:!1},b.exportSymbol("observable",b.observable),b.exportSymbol("isObservable",b.isObservable),b.exportSymbol("isWriteableObservable",b.isWriteableObservable),b.observableArray=function(a){a=a||[];if(typeof a=="object"&&"length"in a){var c=b.observable(a);return b.utils.extend(c,b.observableArray.fn),c}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},b.observableArray.fn={remove:function(a){var b=this.peek(),c=[],d=typeof a=="function"?a:function(b){return b===a};for(var e=0;e<b.length;e++){var f=b[e];d(f)&&(c.length===0&&this.valueWillMutate(),c.push(f),b.splice(e,1),e--)}return c.length&&this.valueHasMutated(),c},removeAll:function(a){if(a===undefined){var c=this.peek(),d=c.slice(0);return this.valueWillMutate(),c.splice(0,c.length),this.valueHasMutated(),d}return a?this.remove(function(c){return b.utils.arrayIndexOf(a,c)>=0}):[]},destroy:function(a){var b=this.peek(),c=typeof a=="function"?a:function(b){return b===a};this.valueWillMutate();for(var d=b.length-1;d>=0;d--){var e=b[d];c(e)&&(b[d]._destroy=!0)}this.valueHasMutated()},destroyAll:function(a){return a===undefined?this.destroy(function(){return!0}):a?this.destroy(function(c){return b.utils.arrayIndexOf(a,c)>=0}):[]},indexOf:function(a){var c=this();return b.utils.arrayIndexOf(c,a)},replace:function(a,b){var c=this.indexOf(a);c>=0&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}},b.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){b.observableArray.fn[a]=function(){var b=this.peek();this.valueWillMutate();var c=b[a].apply(b,arguments);return this.valueHasMutated(),c}}),b.utils.arrayForEach(["slice"],function(a){b.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),b.exportSymbol("observableArray",b.observableArray),b.dependentObservable=function(a,c,d){function i(a){t.push(a.subscribe(k))}function j(){b.utils.arrayForEach(t,function(a){a.dispose()}),t=[]}function k(){var a=m.throttleEvaluation;a&&a>=0?(clearTimeout(u),u=setTimeout(l,a)):l()}function l(){if(g)return;if(f&&r()){s();return}g=!0;try{var a=b.utils.arrayMap(t,function(a){return a.target});b.dependencyDetection.begin(function(c){var d;(d=b.utils.arrayIndexOf(a,c))>=0?a[d]=undefined:i(c)});var d=h.call(c);for(var j=a.length-1;j>=0;j--)a[j]&&t.splice(j,1)[0].dispose();f=!0,m.notifySubscribers(e,"beforeChange"),e=d,DEBUG&&(m._latestValue=e),m.notifySubscribers(e)}finally{b.dependencyDetection.end(),g=!1}t.length||s()}function m(){if(arguments.length>0){if(typeof p=="function")p.apply(c,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return f||l(),b.dependencyDetection.registerDependency(m),e}function n(){return f||l(),e}function o(){return!f||t.length>0}var e,f=!1,g=!1,h=a;h&&typeof h=="object"?(d=h,h=d.read):(d=d||{},h||(h=d.read));if(typeof h!="function")throw new Error("Pass a function that returns the value of the ko.computed");var p=d.write,q=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,r=d.disposeWhen||d.disposeWhen||function(){return!1},s=j,t=[],u=null;c||(c=d.owner),m.peek=n,m.getDependenciesCount=function(){return t.length},m.hasWriteFunction=typeof d.write=="function",m.dispose=function(){s()},m.isActive=o,b.subscribable.call(m),b.utils.extend(m,b.dependentObservable.fn),b.exportProperty(m,"peek",m.peek),b.exportProperty(m,"dispose",m.dispose),b.exportProperty(m,"isActive",m.isActive),b.exportProperty(m,"getDependenciesCount",m.getDependenciesCount),d.deferEvaluation!==!0&&l();if(q&&o()){s=function(){b.utils.domNodeDisposal.removeDisposeCallback(q,s),j()},b.utils.domNodeDisposal.addDisposeCallback(q,s);var v=r;r=function(){return!b.utils.domNodeIsAttachedToDocument(q)||v()}}return m},b.isComputed=function(a){return b.hasPrototype(a,b.dependentObservable)};var g=b.observable.protoProperty;b.dependentObservable[g]=b.observable,b.dependentObservable.fn={},b.dependentObservable.fn[g]=b.dependentObservable,b.exportSymbol("dependentObservable",b.dependentObservable),b.exportSymbol("computed",b.dependentObservable),b.exportSymbol("isComputed",b.isComputed),function(){function c(a,b,f){f=f||new e,a=b(a);var g=typeof a=="object"&&a!==null&&a!==undefined&&!(a instanceof Date)&&!(a instanceof String)&&!(a instanceof Number)&&!(a instanceof Boolean);if(!g)return a;var h=a instanceof Array?[]:{};return f.save(a,h),d(a,function(d){var e=b(a[d]);switch(typeof e){case"boolean":case"number":case"string":case"function":h[d]=e;break;case"object":case"undefined":var g=f.get(e);h[d]=g!==undefined?g:c(e,b,f)}}),h}function d(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);typeof a["toJSON"]=="function"&&b("toJSON")}else for(var d in a)b(d)}function e(){this.keys=[],this.values=[]}var a=10;b.toJS=function(d){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return c(d,function(c){for(var d=0;b.isObservable(c)&&d<a;d++)c=c();return c})},b.toJSON=function(a,c,d){var e=b.toJS(a);return b.utils.stringifyJson(e,c,d)},e.prototype={constructor:e,save:function(a,c){var d=b.utils.arrayIndexOf(this.keys,a);d>=0?this.values[d]=c:(this.keys.push(a),this.values.push(c))},get:function(a){var c=b.utils.arrayIndexOf(this.keys,a);return c>=0?this.values[c]:undefined}}}(),b.exportSymbol("toJS",b.toJS),b.exportSymbol("toJSON",b.toJSON),function(){var a="__ko__hasDomDataOptionValue__";b.selectExtensions={readValue:function(c){switch(b.utils.tagNameLower(c)){case"option":if(c[a]===!0)return b.utils.domData.get(c,b.bindingHandlers.options.optionValueDomDataKey);return b.utils.ieVersion<=7?c.getAttributeNode("value")&&c.getAttributeNode("value").specified?c.value:c.text:c.value;case"select":return c.selectedIndex>=0?b.selectExtensions.readValue(c.options[c.selectedIndex]):undefined;default:return c.value}},writeValue:function(c,d){switch(b.utils.tagNameLower(c)){case"option":switch(typeof d){case"string":b.utils.domData.set(c,b.bindingHandlers.options.optionValueDomDataKey,undefined),a in c&&delete c[a],c.value=d;break;default:b.utils.domData.set(c,b.bindingHandlers.options.optionValueDomDataKey,d),c[a]=!0,c.value=typeof d=="number"?d:""}break;case"select":d===""&&(d=undefined);if(d===null||d===undefined)c.selectedIndex=-1;for(var e=c.options.length-1;e>=0;e--)if(b.selectExtensions.readValue(c.options[e])==d){c.selectedIndex=e;break}!(c.size>1)&&c.selectedIndex===-1&&(c.selectedIndex=0);break;default:if(d===null||d===undefined)d="";c.value=d}}}}(),b.exportSymbol("selectExtensions",b.selectExtensions),b.exportSymbol("selectExtensions.readValue",b.selectExtensions.readValue),b.exportSymbol("selectExtensions.writeValue",b.selectExtensions.writeValue),b.expressionRewriting=function(){function e(b,c){var d=null;while(b!=d)d=b,b=b.replace(a,function(a,b){return c[b]});return b}function f(a){if(b.utils.arrayIndexOf(c,b.utils.stringTrim(a).toLowerCase())>=0)return!1;var e=a.match(d);return e===null?!1:e[1]?"Object("+e[1]+")"+e[2]:a}function g(a){var c=b.utils.stringTrim(a);switch(c.length&&c.charAt(0)){case"'":case'"':return a;default:return"'"+c+"'"}}var a=/\@ko_token_(\d+)\@/g,c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{bindingRewriteValidators:[],parseObjectLiteral:function(a){var c=b.utils.stringTrim(a);if(c.length<3)return[];c.charAt(0)==="{"&&(c=c.substring(1,c.length-1));var d=[],f=null,g;for(var h=0;h<c.length;h++){var i=c.charAt(h);if(f===null)switch(i){case'"':case"'":case"/":f=h,g=i}else if(i==g&&c.charAt(h-1)!=="\\"){var j=c.substring(f,h+1);d.push(j);var k="@ko_token_"+(d.length-1)+"@";c=c.substring(0,f)+k+c.substring(h+1),h-=j.length-k.length,f=null}}f=null,g=null;var l=0,m=null;for(var h=0;h<c.length;h++){var i=c.charAt(h);if(f===null)switch(i){case"{":f=h,m=i,g="}";break;case"(":f=h,m=i,g=")";break;case"[":f=h,m=i,g="]"}if(i===m)l++;else if(i===g){l--;if(l===0){var j=c.substring(f,h+1);d.push(j);var k="@ko_token_"+(d.length-1)+"@";c=c.substring(0,f)+k+c.substring(h+1),h-=j.length-k.length,f=null}}}var n=[],o=c.split(",");for(var p=0,q=o.length;p<q;p++){var r=o[p],s=r.indexOf(":");if(s>0&&s<r.length-1){var t=r.substring(0,s),u=r.substring(s+1);n.push({key:e(t,d),value:e(u,d)})}else n.push({unknown:e(r,d)})}return n},preProcessBindings:function(a){var c=typeof a=="string"?b.expressionRewriting.parseObjectLiteral(a):a,d=[],e=[],h;for(var i=0;h=c[i];i++){d.length>0&&d.push(",");if(h.key){var j=g(h.key),k=h.value;d.push(j),d.push(":"),d.push(k);if(k=f(b.utils.stringTrim(k)))e.length>0&&e.push(", "),e.push(j+" : function(__ko_value) { "+k+" = __ko_value; }")}else h.unknown&&d.push(h.unknown)}var l=d.join("");if(e.length>0){var m=e.join("");l=l+", '_ko_property_writers' : { "+m+" } "}return l},keyValueArrayContainsKey:function(a,c){for(var d=0;d<a.length;d++)if(b.utils.stringTrim(a[d]["key"])==c)return!0;return!1},writeValueToProperty:function(a,c,d,e,f){if(!a||!b.isObservable(a)){var g=c()._ko_property_writers;g&&g[d]&&g[d](e)}else b.isWriteableObservable(a)&&(!f||a.peek()!==e)&&a(e)}}}(),b.exportSymbol("expressionRewriting",b.expressionRewriting),b.exportSymbol("expressionRewriting.bindingRewriteValidators",b.expressionRewriting.bindingRewriteValidators),b.exportSymbol("expressionRewriting.parseObjectLiteral",b.expressionRewriting.parseObjectLiteral),b.exportSymbol("expressionRewriting.preProcessBindings",b.expressionRewriting.preProcessBindings),b.exportSymbol("jsonExpressionRewriting",b.expressionRewriting),b.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.expressionRewriting.preProcessBindings),function(){function f(b){return b.nodeType==8&&(a?b.text:b.nodeValue).match(c)}function g(b){return b.nodeType==8&&(a?b.text:b.nodeValue).match(d)}function h(a,b){var c=a,d=1,e=[];while(c=c.nextSibling){if(g(c)){d--;if(d===0)return e}e.push(c),f(c)&&d++}if(!b)throw new Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function i(a,b){var c=h(a,b);return c?c.length>0?c[c.length-1].nextSibling:a.nextSibling:null}function j(a){var b=a.firstChild,c=null;if(b)do if(c)c.push(b);else if(f(b)){var d=i(b,!0);d?b=d:c=[b]}else g(b)&&(c=[b]);while(b=b.nextSibling);return c}var a=document&&document.createComment("test").text==="<!--test-->",c=a?/^<!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*-->$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,d=a?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,e={ul:!0,ol:!0};b.virtualElements={allowedBindings:{},childNodes:function(a){return f(a)?h(a):a.childNodes},emptyNode:function(a){if(!f(a))b.utils.emptyDomNode(a);else{var c=b.virtualElements.childNodes(a);for(var d=0,e=c.length;d<e;d++)b.removeNode(c[d])}},setDomNodeChildren:function(a,c){if(!f(a))b.utils.setDomNodeChildren(a,c);else{b.virtualElements.emptyNode(a);var d=a.nextSibling;for(var e=0,g=c.length;e<g;e++)d.parentNode.insertBefore(c[e],d)}},prepend:function(a,b){f(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},insertAfter:function(a,c,d){d?f(a)?a.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?a.insertBefore(c,d.nextSibling):a.appendChild(c):b.virtualElements.prepend(a,c)},firstChild:function(a){return f(a)?!a.nextSibling||g(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){return f(a)&&(a=i(a)),a.nextSibling&&g(a.nextSibling)?null:a.nextSibling},virtualNodeBindingValue:function(a){var b=f(a);return b?b[1]:null},normaliseVirtualElementDomStructure:function(a){if(!e[b.utils.tagNameLower(a)])return;var c=a.firstChild;if(c)do if(c.nodeType===1){var d=j(c);if(d){var f=c.nextSibling;for(var g=0;g<d.length;g++)f?a.insertBefore(d[g],f):a.appendChild(d[g])}}while(c=c.nextSibling)}}}(),b.exportSymbol("virtualElements",b.virtualElements),b.exportSymbol("virtualElements.allowedBindings",b.virtualElements.allowedBindings),b.exportSymbol("virtualElements.emptyNode",b.virtualElements.emptyNode),b.exportSymbol("virtualElements.insertAfter",b.virtualElements.insertAfter),b.exportSymbol("virtualElements.prepend",b.virtualElements.prepend),b.exportSymbol("virtualElements.setDomNodeChildren",b.virtualElements.setDomNodeChildren),function(){function c(a,b){var c=a;return b[c]||(b[c]=d(a))}function d(a){var c=b.expressionRewriting.preProcessBindings(a),d="with($context){with($data||{}){return{"+c+"}}}";return new Function("$context","$element",d)}var a="data-bind";b.bindingProvider=function(){this.bindingCache={}},b.utils.extend(b.bindingProvider.prototype,{nodeHasBindings:function(c){switch(c.nodeType){case 1:return c.getAttribute(a)!=null;case 8:return b.virtualElements.virtualNodeBindingValue(c)!=null;default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):null},getBindingsString:function(c,d){switch(c.nodeType){case 1:return c.getAttribute(a);case 8:return b.virtualElements.virtualNodeBindingValue(c);default:return null}},parseBindingsString:function(a,b,d){try{var e=c(a,this.bindingCache);return e(b,d)}catch(f){throw f.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+f.message,f}}}),b.bindingProvider.instance=new b.bindingProvider}(),b.exportSymbol("bindingProvider",b.bindingProvider),function(){function a(a){var c=b.virtualElements.allowedBindings[a];if(!c)throw new Error("The binding '"+a+"' cannot be used with virtual elements")}function c(a,c,e){var f,g=b.virtualElements.firstChild(c);while(f=g)g=b.virtualElements.nextSibling(f),d(a,f,e)}function d(a,d,e){var g=!0,h=d.nodeType===1;h&&b.virtualElements.normaliseVirtualElementDomStructure(d);var i=h&&e||b.bindingProvider.instance.nodeHasBindings(d);i&&(g=f(d,null,a,e).shouldBindDescendants),g&&c(a,d,!h)}function f(c,d,f,g){function j(a){return function(){return i[a]}}function k(){return i}var h=0,i,l,m=b.utils.domData.get(c,e);if(!d){if(m)throw Error("You cannot apply bindings multiple times to the same element.");b.utils.domData.set(c,e,!0)}return b.dependentObservable(function(){var e=f&&f instanceof b.bindingContext?f:new b.bindingContext(b.utils.unwrapObservable(f)),n=e.$data;!m&&g&&b.storedBindingContextForNode(c,e);var o=typeof d=="function"?d(e,c):d;i=o||b.bindingProvider.instance.getBindings(c,e),i&&(h===0&&(h=1,b.utils.objectForEach(i,function(d){var f=b.bindingHandlers[d];f&&c.nodeType===8&&a(d);if(f&&typeof f["init"]=="function"){var g=f.init,h=g(c,j(d),k,n,e);if(h&&h.controlsDescendantBindings){if(l!==undefined)throw new Error("Multiple bindings ("+l+" and "+d+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=d}}}),h=2),h===2&&b.utils.objectForEach(i,function(a){var d=b.bindingHandlers[a];if(d&&typeof d["update"]=="function"){var f=d.update;f(c,j(a),k,n,e)}}))},null,{disposeWhenNodeIsRemoved:c}),{shouldBindDescendants:l===undefined}}b.bindingHandlers={},b.bindingContext=function(a,c,d){c?(b.utils.extend(this,c),this.$parentContext=c,this.$parent=c.$data,this.$parents=(c.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a,this.ko=b),this.$data=a,d&&(this[d]=a)},b.bindingContext.prototype.createChildContext=function(a,c){return new b.bindingContext(a,this,c)},b.bindingContext.prototype.extend=function(a){var c=b.utils.extend(new b.bindingContext,this);return b.utils.extend(c,a)};var e="__ko_boundElement",g="__ko_bindingContext__";b.storedBindingContextForNode=function(a,c){if(arguments.length==2)b.utils.domData.set(a,g,c);else return b.utils.domData.get(a,g)},b.applyBindingsToNode=function(a,c,d){return a.nodeType===1&&b.virtualElements.normaliseVirtualElementDomStructure(a),f(a,c,d,!0)},b.applyBindingsToDescendants=function(a,b){(b.nodeType===1||b.nodeType===8)&&c(a,b,!0)},b.applyBindings=function(a,b){if(b&&b.nodeType!==1&&b.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||window.document.body,d(a,b,!0)},b.contextFor=function(a){switch(a.nodeType){case 1:case 8:var c=b.storedBindingContextForNode(a);if(c)return c;if(a.parentNode)return b.contextFor(a.parentNode)}return undefined},b.dataFor=function(a){var c=b.contextFor(a);return c?c.$data:undefined},b.exportSymbol("bindingHandlers",b.bindingHandlers),b.exportSymbol("applyBindings",b.applyBindings),b.exportSymbol("applyBindingsToDescendants",b.applyBindingsToDescendants),b.exportSymbol("applyBindingsToNode",b.applyBindingsToNode),b.exportSymbol("contextFor",b.contextFor),b.exportSymbol("dataFor",b.dataFor)}();var h={"class":"className","for":"htmlFor"};b.bindingHandlers.attr={update:function(a,c,d){var e=b.utils.unwrapObservable(c())||{};b.utils.objectForEach(e,function(c,d){d=b.utils.unwrapObservable(d);var e=d===!1||d===null||d===undefined;e&&a.removeAttribute(c),b.utils.ieVersion<=8&&c in h?(c=h[c],e?a.removeAttribute(c):a[c]=d):e||a.setAttribute(c,d.toString()),c==="name"&&b.utils.setElementName(a,e?"":d.toString())})}},b.bindingHandlers.checked={init:function(a,c,d){var e=function(){var e;if(a.type=="checkbox")e=a.checked;else if(a.type=="radio"&&a.checked)e=a.value;else return;var f=c(),g=b.utils.unwrapObservable(f);a.type=="checkbox"&&g instanceof Array?b.utils.addOrRemoveItem(f,a.value,a.checked):b.expressionRewriting.writeValueToProperty(f,d,"checked",e,!0)};b.utils.registerEventHandler(a,"click",e),a.type=="radio"&&!a.name&&b.bindingHandlers.uniqueName.init(a,function(){return!0})},update:function(a,c){var d=b.utils.unwrapObservable(c());a.type=="checkbox"?d instanceof Array?a.checked=b.utils.arrayIndexOf(d,a.value)>=0:a.checked=d:a.type=="radio"&&(a.checked=a.value==d)}};var i="__ko__cssValue";b.bindingHandlers.css={update:function(a,c){var d=b.utils.unwrapObservable(c());typeof d=="object"?b.utils.objectForEach(d,function(c,d){d=b.utils.unwrapObservable(d),b.utils.toggleDomNodeCssClass(a,c,d)}):(d=String(d||""),b.utils.toggleDomNodeCssClass(a,a[i],!1),a[i]=d,b.utils.toggleDomNodeCssClass(a,d,!0))}},b.bindingHandlers.enable={update:function(a,c){var d=b.utils.unwrapObservable(c());d&&a.disabled?a.removeAttribute("disabled"):!d&&!a.disabled&&(a.disabled=!0)}},b.bindingHandlers.disable={update:function(a,c){b.bindingHandlers.enable.update(a,function(){return!b.utils.unwrapObservable(c())})}},b.bindingHandlers.event={init:function(a,c,d,e){var f=c()||{};b.utils.objectForEach(f,function(f){typeof f=="string"&&b.utils.registerEventHandler(a,f,function(a){var g,h=c()[f];if(!h)return;var i=d();try{var j=b.utils.makeArray(arguments);j.unshift(e),g=h.apply(e,j)}finally{g!==!0&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}var k=i[f+"Bubble"]!==!1;k||(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())})})}},b.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var c=a(),d=b.utils.peekObservable(c);return!d||typeof d.length=="number"?{foreach:c,templateEngine:b.nativeTemplateEngine.instance}:(b.utils.unwrapObservable(c),{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:b.nativeTemplateEngine.instance})}},init:function(a,c,d,e,f){return b.bindingHandlers.template.init(a,b.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(a,c,d,e,f){return b.bindingHandlers.template.update(a,b.bindingHandlers.foreach.makeTemplateValueAccessor(c),d,e,f)}},b.expressionRewriting.bindingRewriteValidators.foreach=!1,b.virtualElements.allowedBindings.foreach=!0;var k="__ko_hasfocusUpdating",l="__ko_hasfocusLastValue";b.bindingHandlers.hasfocus={init:function(a,c,d){var e=function(e){a[k]=!0;var f=a.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(h){g=f.body}e=g===a}var i=c();b.expressionRewriting.writeValueToProperty(i,d,"hasfocus",e,!0),a[l]=e,a[k]=!1},f=e.bind(null,!0),g=e.bind(null,!1);b.utils.registerEventHandler(a,"focus",f),b.utils.registerEventHandler(a,"focusin",f),b.utils.registerEventHandler(a,"blur",g),b.utils.registerEventHandler(a,"focusout",g)},update:function(a,c){var d=!!b.utils.unwrapObservable(c());!a[k]&&a[l]!==d&&(d?a.focus():a.blur(),b.dependencyDetection.ignore(b.utils.triggerEvent,null,[a,d?"focusin":"focusout"]))}},b.bindingHandlers.hasFocus=b.bindingHandlers.hasfocus,b.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.utils.setHtml(a,c())}};var m="__ko_withIfBindingData";n("if"),n("ifnot",!1,!0),n("with",!0,!1,function(a,b){return a.createChildContext(b)}),b.bindingHandlers.options={init:function(a){if(b.utils.tagNameLower(a)!=="select")throw new Error("options binding applies only to SELECT elements");while(a.length>0)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,c,d){function n(a,b,c){var d=typeof b;return d=="function"?b(a):d=="string"?a[b]:c}function p(a,c,d){d.length&&(l=d[0].selected&&[b.selectExtensions.readValue(d[0])]);var e=document.createElement("option");if(a===j)b.utils.setHtml(e,k),b.selectExtensions.writeValue(e,undefined);else{var f=n(a,h.optionsValue,a);b.selectExtensions.writeValue(e,b.utils.unwrapObservable(f));var g=n(a,h.optionsText,f);b.utils.setTextContent(e,g)}return[e]}function q(a,c){if(l){var d=b.utils.arrayIndexOf(l,b.selectExtensions.readValue(c[0]))>=0;b.utils.setOptionNodeSelectionState(c[0],d)}}var e=a.length==0,f=!e&&a.multiple?a.scrollTop:null,g=b.utils.unwrapObservable(c()),h=d(),i=h.optionsIncludeDestroyed,j={},k,l;a.multiple?l=b.utils.arrayMap(a.selectedOptions||b.utils.arrayFilter(a.childNodes,function(a){return a.tagName&&b.utils.tagNameLower(a)==="option"&&a.selected}),function(a){return b.selectExtensions.readValue(a)}):a.selectedIndex>=0&&(l=[b.selectExtensions.readValue(a.options[a.selectedIndex])]);if(g){typeof g.length=="undefined"&&(g=[g]);var m=b.utils.arrayFilter(g,function(a){return i||a===undefined||a===null||!b.utils.unwrapObservable(a._destroy)});"optionsCaption"in h&&(k=b.utils.unwrapObservable(h.optionsCaption),k!==null&&k!==undefined&&m.unshift(j))}else g=[];var r=q;h.optionsAfterRender&&(r=function(a,c){q(a,c),b.dependencyDetection.ignore(h.optionsAfterRender,null,[c[0],a!==j?a:undefined])}),b.utils.setDomNodeChildrenFromArrayMapping(a,m,p,null,r),l=null,e&&"value"in h&&o(a,b.utils.peekObservable(h.value),!0),b.utils.ensureSelectElementIsRenderedCorrectly(a),f&&Math.abs(f-a.scrollTop)>20&&(a.scrollTop=f)}},b.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",b.bindingHandlers.selectedOptions={init:function(a,c,d){b.utils.registerEventHandler(a,"change",function(){var e=c(),f=[];b.utils.arrayForEach(a.getElementsByTagName("option"),function(a){a.selected&&f.push(b.selectExtensions.readValue(a))}),b.expressionRewriting.writeValueToProperty(e,d,"selectedOptions",f)})},update:function(a,c){if(b.utils.tagNameLower(a)!="select")throw new Error("values binding applies only to SELECT elements");var d=b.utils.unwrapObservable(c());d&&typeof d.length=="number"&&b.utils.arrayForEach(a.getElementsByTagName("option"),function(a){var c=b.utils.arrayIndexOf(d,b.selectExtensions.readValue(a))>=0;b.utils.setOptionNodeSelectionState(a,c)})}},b.bindingHandlers.style={update:function(a,c){var d=b.utils.unwrapObservable(c()||{});b.utils.objectForEach(d,function(c,d){d=b.utils.unwrapObservable(d),a.style[c]=d||""})}},b.bindingHandlers.submit={init:function(a,c,d,e){if(typeof c()!="function")throw new Error("The value for a submit binding must be a function");b.utils.registerEventHandler(a,"submit",function(b){var d,f=c();try{d=f.call(e,a)}finally{d!==!0&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}})}},b.bindingHandlers.text={update:function(a,c){b.utils.setTextContent(a,c())}},b.virtualElements.allowedBindings.text=!0,b.bindingHandlers.uniqueName={init:function(a,c){if(c()){var d="ko_unique_"+ ++b.bindingHandlers.uniqueName.currentIndex;b.utils.setElementName(a,d)}}},b.bindingHandlers.uniqueName.currentIndex=0,b.bindingHandlers.value={init:function(a,c,d){var e=["change"],f=d().valueUpdate,g=!1;f&&(typeof f=="string"&&(f=[f]),b.utils.arrayPushAll(e,f),e=b.utils.arrayGetDistinctValues(e));var h=function(){g=!1;var e=c(),f=b.selectExtensions.readValue(a);b.expressionRewriting.writeValueToProperty(e,d,"value",f)},i=b.utils.ieVersion&&a.tagName.toLowerCase()=="input"&&a.type=="text"&&a.autocomplete!="off"&&(!a.form||a.form.autocomplete!="off");i&&b.utils.arrayIndexOf(e,"propertychange")==-1&&(b.utils.registerEventHandler(a,"propertychange",function(){g=!0}),b.utils.registerEventHandler(a,"blur",function(){g&&h()})),b.utils.arrayForEach(e,function(c){var d=h;b.utils.stringStartsWith(c,"after")&&(d=function(){setTimeout(h,0)},c=c.substring("after".length)),b.utils.registerEventHandler(a,c,d)})},update:function(a,c){var d=b.utils.tagNameLower(a)==="select",e=b.utils.unwrapObservable(c()),f=b.selectExtensions.readValue(a),g=e!==f;if(g){var h=function(){b.selectExtensions.writeValue(a,e)};h();var i=d;i&&setTimeout(h,0)}d&&a.length>0&&o(a,e,!1)}},b.bindingHandlers.visible={update:function(a,c){var d=b.utils.unwrapObservable(c()),e=a.style.display!="none";d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}},j("click"),b.templateEngine=function(){},b.templateEngine.prototype.renderTemplateSource=function(a,b,c){throw new Error("Override renderTemplateSource")},b.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw new Error("Override createJavaScriptEvaluatorBlock")},b.templateEngine.prototype.makeTemplateSource=function(a,c){if(typeof a=="string"){c=c||document;var d=c.getElementById(a);if(!d)throw new Error("Cannot find template with ID "+a);return new b.templateSources.domElement(d)}if(a.nodeType==1||a.nodeType==8)return new b.templateSources.anonymousTemplate(a);throw new Error("Unknown template type: "+a)},b.templateEngine.prototype.renderTemplate=function(a,b,c,d){var e=this.makeTemplateSource(a,d);return this.renderTemplateSource(e,b,c)},b.templateEngine.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(a,b).data("isRewritten")},b.templateEngine.prototype.rewriteTemplate=function(a,b,c){var d=this.makeTemplateSource(a,c),e=b(d.text());d.text(e),d.data("isRewritten",!0)},b.exportSymbol("templateEngine",b.templateEngine),b.templateRewriting=function(){function d(a){var c=b.expressionRewriting.bindingRewriteValidators;for(var d=0;d<a.length;d++){var e=a[d].key;if(c.hasOwnProperty(e)){var f=c[e];if(typeof f=="function"){var g=f(a[d].value);if(g)throw new Error(g)}else if(!f)throw new Error("This template engine does not support the '"+e+"' binding within its templates")}}}function e(a,c,e,f){var g=b.expressionRewriting.parseObjectLiteral(a);d(g);var h=b.expressionRewriting.preProcessBindings(g),i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+h+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(i)+c}var a=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(a,c,d){c.isTemplateRewritten(a,d)||c.rewriteTemplate(a,function(a){return b.templateRewriting.memoizeBindingAttributeSyntax(a,c)},d)},memoizeBindingAttributeSyntax:function(b,d){return b.replace(a,function(){return e(arguments[4],arguments[1],arguments[2],d)}).replace(c,function(){return e(arguments[1],"<!-- ko -->","#comment",d)})},applyMemoizedBindingsToNextSibling:function(a,c){return b.memoization.memoize(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&b.applyBindingsToNode(f,a,e)})}}}(),b.exportSymbol("__tr_ambtns",b.templateRewriting.applyMemoizedBindingsToNextSibling),function(){b.templateSources={},b.templateSources.domElement=function(a){this.domElement=a},b.templateSources.domElement.prototype.text=function(){var a=b.utils.tagNameLower(this.domElement),c=a==="script"?"text":a==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[c];var d=arguments[0];c==="innerHTML"?b.utils.setHtml(this.domElement,d):this.domElement[c]=d},b.templateSources.domElement.prototype.data=function(a){if(arguments.length===1)return b.utils.domData.get(this.domElement,"templateSourceData_"+a);b.utils.domData.set(this.domElement,"templateSourceData_"+a,arguments[1])};var a="__ko_anon_template__";b.templateSources.anonymousTemplate=function(a){this.domElement=a},b.templateSources.anonymousTemplate.prototype=new b.templateSources.domElement,b.templateSources.anonymousTemplate.prototype.constructor=b.templateSources.anonymousTemplate,b.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var c=b.utils.domData.get(this.domElement,a)||{};return c.textData===undefined&&c.containerData&&(c.textData=c.containerData.innerHTML),c.textData}var d=arguments[0];b.utils.domData.set(this.domElement,a,{textData:d})},b.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var c=b.utils.domData.get(this.domElement,a)||{};return c.containerData}var d=arguments[0];b.utils.domData.set(this.domElement,a,{containerData:d})},b.exportSymbol("templateSources",b.templateSources),b.exportSymbol("templateSources.domElement",b.templateSources.domElement),b.exportSymbol("templateSources.anonymousTemplate",b.templateSources.anonymousTemplate)}(),function(){function c(a,c,d){var e,f=a,g=b.virtualElements.nextSibling(c);while(f&&(e=f)!==g)f=b.virtualElements.nextSibling(e),(e.nodeType===1||e.nodeType===8)&&d(e)}function d(a,d){if(a.length){var e=a[0],f=a[a.length-1];c(e,f,function(a){b.applyBindings(d,a)}),c(e,f,function(a){b.memoization.unmemoizeDomNodeAndDescendants(a,[d])})}}function e(a){return a.nodeType?a:a.length>0?a[0]:null}function f(c,f,g,h,i){i=i||{};var j=c&&e(c),k=j&&j.ownerDocument,l=i.templateEngine||a;b.templateRewriting.ensureTemplateIsRewritten(g,l,k);var m=l.renderTemplate(g,h,i,k);if(typeof m.length!="number"||m.length>0&&typeof m[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var n=!1;switch(f){case"replaceChildren":b.virtualElements.setDomNodeChildren(c,m),n=!0;break;case"replaceNode":b.utils.replaceDomNodes(c,m),n=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+f)}return n&&(d(m,h),i.afterRender&&b.dependencyDetection.ignore(i.afterRender,null,[m,h.$data])),m}function h(a,c){var d=b.utils.domData.get(a,g);d&&typeof d.dispose=="function"&&d.dispose(),b.utils.domData.set(a,g,c&&c.isActive()?c:undefined)}var a;b.setTemplateEngine=function(c){if(c==undefined||c instanceof b.templateEngine)a=c;else throw new Error("templateEngine must inherit from ko.templateEngine")},b.renderTemplate=function(c,d,g,h,i){g=g||{};if((g["templateEngine"]||a)==undefined)throw new Error("Set a template engine before calling renderTemplate");i=i||"replaceChildren";if(h){var j=e(h),k=function(){return!j||!b.utils.domNodeIsAttachedToDocument(j)},l=j&&i=="replaceNode"?j.parentNode:j;return b.dependentObservable(function(){var a=d&&d instanceof b.bindingContext?d:new b.bindingContext(b.utils.unwrapObservable(d)),k=typeof c=="function"?c(a.$data,a):c,l=f(h,i,k,a,g);i=="replaceNode"&&(h=l,j=e(h))},null,{disposeWhen:k,disposeWhenNodeIsRemoved:l})}return b.memoization.memoize(function(a){b.renderTemplate(c,d,g,a,"replaceNode")})},b.renderTemplateForEach=function(a,c,e,g,h){var i,j=function(c,d){i=h.createChildContext(b.utils.unwrapObservable(c),e.as),i.$index=d;var g=typeof a=="function"?a(c,i):a;return f(null,"ignoreTargetNode",g,i,e)},k=function(a,b,c){d(b,i),e.afterRender&&e.afterRender(b,a)};return b.dependentObservable(function(){var a=b.utils.unwrapObservable(c)||[];typeof a.length=="undefined"&&(a=[a]);var d=b.utils.arrayFilter(a,function(a){return e.includeDestroyed||a===undefined||a===null||!b.utils.unwrapObservable(a._destroy)});b.dependencyDetection.ignore(b.utils.setDomNodeChildrenFromArrayMapping,null,[g,d,j,e,k])},null,{disposeWhenNodeIsRemoved:g})};var g="__ko__templateComputedDomDataKey__";b.bindingHandlers.template={init:function(a,c){var d=b.utils.unwrapObservable(c());if(typeof d!="string"&&!d.name&&(a.nodeType==1||a.nodeType==8)){var e=a.nodeType==1?a.childNodes:b.virtualElements.childNodes(a),f=b.utils.moveCleanedNodesToContainerElement(e);(new b.templateSources.anonymousTemplate(a)).nodes(f)}return{controlsDescendantBindings:!0}},update:function(a,c,d,e,f){var g=b.utils.unwrapObservable(c()),i={},j=!0,k,l=null;typeof g!="string"&&(i=g,g=b.utils.unwrapObservable(i.name),"if"in i&&(j=b.utils.unwrapObservable(i["if"])),j&&"ifnot"in i&&(j=!b.utils.unwrapObservable(i.ifnot)),k=b.utils.unwrapObservable(i.data));if("foreach"in i){var m=j&&i.foreach||[];l=b.renderTemplateForEach(g||a,m,i,a,f)}else if(!j)b.virtualElements.emptyNode(a);else{var n="data"in i?f.createChildContext(k,i.as):f;l=b.renderTemplate(g||a,n,i,a)}h(a,l)}},b.expressionRewriting.bindingRewriteValidators.template=function(a){var c=b.expressionRewriting.parseObjectLiteral(a);return c.length==1&&c[0].unknown?null:b.expressionRewriting.keyValueArrayContainsKey(c,"name")?null:"This template engine does not support anonymous templates nested within its templates"},b.virtualElements.allowedBindings.template=!0}(),b.exportSymbol("setTemplateEngine",b.setTemplateEngine),b.exportSymbol("renderTemplate",b.renderTemplate),b.utils.compareArrays=function(){function c(c,e,f){return c=c||[],e=e||[],c.length<=e.length?d(c,e,a,b,f):d(e,c,b,a,f)}function d(a,b,c,d,e){var f=Math.min,g=Math.max,h=[],i,j=a.length,k,l=b.length,m=l-j||1,n=j+l+1,o,p,q,r;for(i=0;i<=j;i++){p=o,h.push(o=[]),q=f(l,i+m),r=g(0,i-1);for(k=r;k<=q;k++)if(!k)o[k]=i+1;else if(!i)o[k]=k+1;else if(a[i-1]===b[k-1])o[k]=p[k-1];else{var s=p[k]||n,t=o[k-1]||n;o[k]=f(s,t)+1}}var u=[],v,w=[],x=[];for(i=j,k=l;i||k;)v=h[i][k]-1,k&&v===h[i][k-1]?w.push(u[u.length]={status:c,value:b[--k],index:k}):i&&v===h[i-1][k]?x.push(u[u.length]={status:d,value:a[--i],index:i}):(u.push({status:"retained",value:b[--k]}),--i);if(w.length&&x.length){var y=j*10,z,A,B,C,D;for(z=A=0;(e||z<y)&&(C=w[A]);A++){for(B=0;D=x[B];B++)if(C.value===D.value){C.moved=D.index,D.moved=C.index,x.splice(B,1),z=B=0;break}z+=B}}return u.reverse()}var a="added",b="deleted";return c}(),b.exportSymbol("utils.compareArrays",b.utils.compareArrays),function(){function a(a){while(a.length&&!b.utils.domNodeIsAttachedToDocument(a[0]))a.splice(0,1);if(a.length>1){var c=a[0],d=a[a.length-1],e=[c];while(c!==d){c=c.nextSibling;if(!c)return;e.push(c)}Array.prototype.splice.apply(a,[0,a.length].concat(e))}return a}function c(c,d,e,f,g){var h=[],i=b.dependentObservable(function(){var c=d(e,g,a(h))||[];h.length>0&&(b.utils.replaceDomNodes(h,c),f&&b.dependencyDetection.ignore(f,null,[e,c,g])),h.splice(0,h.length),b.utils.arrayPushAll(h,c)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return!b.utils.anyDomNodeIsAttachedToDocument(h)}});return{mappedNodes:h,dependentObservable:i.isActive()?i:undefined}}var d="setDomNodeChildrenFromArrayMapping_lastMappingResult";b.utils.setDomNodeChildrenFromArrayMapping=function(e,f,g,h,i){function w(b,c){v=k[c],p!==c&&(t[b]=v),v.indexObservable(p++),a(v.mappedNodes),n.push(v),r.push(v)}function x(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.utils.arrayForEach(c[d].mappedNodes,function(b){a(b,d,c[d].arrayEntry)})}f=f||[],h=h||{};var j=b.utils.domData.get(e,d)===undefined,k=b.utils.domData.get(e,d)||[],l=b.utils.arrayMap(k,function(a){return a.arrayEntry}),m=b.utils.compareArrays(l,f,h.dontLimitMoves),n=[],o=0,p=0,q=[],r=[],s=[],t=[],u=[],v;for(var y=0,z,A;z=m[y];y++){A=z.moved;switch(z.status){case"deleted":A===undefined&&(v=k[o],v.dependentObservable&&v.dependentObservable.dispose(),q.push.apply(q,a(v.mappedNodes)),h.beforeRemove&&(s[y]=v,r.push(v))),o++;break;case"retained":w(y,o++);break;case"added":A!==undefined?w(y,A):(v={arrayEntry:z.value,indexObservable:b.observable(p++)},n.push(v),r.push(v),j||(u[y]=v))}}x(h.beforeMove,t),b.utils.arrayForEach(q,h.beforeRemove?b.cleanNode:b.removeNode);for(var y=0,B=b.virtualElements.firstChild(e),C,D;v=r[y];y++){v.mappedNodes||b.utils.extend(v,c(e,g,v.arrayEntry,i,v.indexObservable));for(var E=0;D=v.mappedNodes[E];B=D.nextSibling,C=D,E++)D!==B&&b.virtualElements.insertAfter(e,D,C);!v.initialized&&i&&(i(v.arrayEntry,v.mappedNodes,v.indexObservable),v.initialized=!0)}x(h.beforeRemove,s),x(h.afterMove,t),x(h.afterAdd,u),b.utils.domData.set(e,d,n)}}(),b.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",b.utils.setDomNodeChildrenFromArrayMapping),b.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},b.nativeTemplateEngine.prototype=new b.templateEngine,b.nativeTemplateEngine.prototype.constructor=b.nativeTemplateEngine,b.nativeTemplateEngine.prototype.renderTemplateSource=function(a,c,d){var e=!(b.utils.ieVersion<9),f=e?a.nodes:null,g=f?a.nodes():null;if(g)return b.utils.makeArray(g.cloneNode(!0).childNodes);var h=a.text();return b.utils.parseHtmlFragment(h)},b.nativeTemplateEngine.instance=new b.nativeTemplateEngine,b.setTemplateEngine(b.nativeTemplateEngine.instance),b.exportSymbol("nativeTemplateEngine",b.nativeTemplateEngine),function(){b.jqueryTmplTemplateEngine=function(){function b(){if(a<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function c(a,b,c){return jQuery.tmpl(a,b,c)}var a=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();this.renderTemplateSource=function(a,d,e){e=e||{},b();var f=a.data("precompiled");if(!f){var g=a.text()||"";g="{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}",f=jQuery.template(null,g),a.data("precompiled",f)}var h=[d.$data],i=jQuery.extend({koBindingContext:d},e.templateOptions),j=c(f,h,i);return j.appendTo(document.createElement("div")),jQuery.fragments={},j},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){document.write("<script type='text/html' id='"+a+"'>"+b+"<"+"/script>")},a>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},b.jqueryTmplTemplateEngine.prototype=new b.templateEngine,b.jqueryTmplTemplateEngine.prototype.constructor=b.jqueryTmplTemplateEngine;var a=new b.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&b.setTemplateEngine(a),b.exportSymbol("jqueryTmplTemplateEngine",b.jqueryTmplTemplateEngine)}()})})()})()