define(["require","exports","plugins/router","config","base/menuContainer","services/dataService","services/logger"],function(e,n,o,i,t,r,a){var u=o,s=i,l=t,c=r,g=a,d=function(){function e(){this.appTitle=ko.observable("Hot|Split Towel SPA"),this.isLoading=ko.computed(function(){return u.isNavigating()||c.ctx.isLoading()},this)}return e.prototype.boot=function(){var e=this;return g.logger.log("Hot Towel SPA Loaded!",null,"app",!0),u.on("router:route:not-found",function(){g.logger.logError("No Route Found",e,"app",!0)}),e.mainMenu=ko.observable(new l.MenuContainer("mainMenu")),Q.when(e.mainMenu().init(s.cfg.mainMenuItems,!1,"").then(function(){return u.makeRelative({moduleId:"viewmodels"}).map(s.cfg.routes).buildNavigationModel().activate()}))},e}();n.MainClass=d,n.cspMain=new d});