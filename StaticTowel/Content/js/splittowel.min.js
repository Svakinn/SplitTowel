;(function(a,b){function I(a){var b=a.length,c=t.type(a);return t.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function K(a){var b=J[a]={};return t.each(a.match(v)||[],function(a,c){b[c]=!0}),b}function N(a,c,d,e){if(t.acceptData(a)){var f,g,h=t.expando,i="string"==typeof c,j=a.nodeType,l=j?t.cache:a,m=j?a[h]:a[h]&&h;if(m&&l[m]&&(e||l[m].data)||!i||d!==b)return m||(j?a[h]=m=k.pop()||t.guid++:m=h),l[m]||(l[m]={},j||(l[m].toJSON=t.noop)),("object"==typeof c||"function"==typeof c)&&(e?l[m]=t.extend(l[m],c):l[m].data=t.extend(l[m].data,c)),f=l[m],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[t.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[t.camelCase(c)])):g=f,g}}function O(a,b,c){if(t.acceptData(a)){var d,e,f,g=a.nodeType,h=g?t.cache:a,i=g?a[t.expando]:t.expando;if(h[i]){if(b&&(f=c?h[i]:h[i].data)){t.isArray(b)?b=b.concat(t.map(b,t.camelCase)):b in f?b=[b]:(b=t.camelCase(b),b=b in f?[b]:b.split(" "));for(d=0,e=b.length;e>d;d++)delete f[b[d]];if(!(c?Q:t.isEmptyObject)(f))return}(c||(delete h[i].data,Q(h[i])))&&(g?t.cleanData([a],!0):t.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null)}}}function P(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(M,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:L.test(d)?t.parseJSON(d):d}catch(f){}t.data(a,c,d)}else d=b}return d}function Q(a){var b;for(b in a)if(("data"!==b||!t.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function be(){return!0}function bf(){return!1}function bl(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function bm(a,b,c){if(b=b||0,t.isFunction(b))return t.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return t.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=t.grep(a,function(a){return 1===a.nodeType});if(bi.test(b))return t.filter(b,d,!c);b=t.filter(b,d)}return t.grep(a,function(a){return t.inArray(a,b)>=0===c})}function bn(a){var b=bo.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bF(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bG(a){var b=a.getAttributeNode("type");return a.type=(b&&b.specified)+"/"+a.type,a}function bH(a){var b=bA.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function bI(a,b){var c,d=0;for(;null!=(c=a[d]);d++)t._data(c,"globalEval",!b||t._data(b[d],"globalEval"))}function bJ(a,b){if(1===b.nodeType&&t.hasData(a)){var c,d,e,f=t._data(a),g=t._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)t.event.add(b,c,h[c][d])}g.data&&(g.data=t.extend({},g.data))}}function bK(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!t.support.noCloneEvent&&b[t.expando]){e=t._data(b);for(d in e.events)t.removeEvent(b,d,e.handle);b.removeAttribute(t.expando)}"script"===c&&b.text!==a.text?(bG(b).text=a.text,bH(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),t.support.html5Clone&&a.innerHTML&&!t.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bx.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function bL(a,c){var d,f,g=0,h=typeof a.getElementsByTagName!==e?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==e?a.querySelectorAll(c||"*"):b;if(!h)for(h=[],d=a.childNodes||a;null!=(f=d[g]);g++)!c||t.nodeName(f,c)?h.push(f):t.merge(h,bL(f,c));return c===b||c&&t.nodeName(a,c)?t.merge([a],h):h}function bM(a){bx.test(a.type)&&(a.defaultChecked=a.checked)}function cb(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=ca.length;while(e--)if(b=ca[e]+c,b in a)return b;return d}function cc(a,b){return a=b||a,"none"===t.css(a,"display")||!t.contains(a.ownerDocument,a)}function cd(a,b){var c,d,e,f=[],g=0,h=a.length;for(;h>g;g++)d=a[g],d.style&&(f[g]=t._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&cc(d)&&(f[g]=t._data(d,"olddisplay",ch(d.nodeName)))):f[g]||(e=cc(d),(c&&"none"!==c||!e)&&t._data(d,"olddisplay",e?c:t.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function ce(a,b,c){var d=bV.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function cf(a,b,c,d,e){var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;for(;4>f;f+=2)"margin"===c&&(g+=t.css(a,c+b_[f],!0,e)),d?("content"===c&&(g-=t.css(a,"padding"+b_[f],!0,e)),"margin"!==c&&(g-=t.css(a,"border"+b_[f]+"Width",!0,e))):(g+=t.css(a,"padding"+b_[f],!0,e),"padding"!==c&&(g+=t.css(a,"border"+b_[f]+"Width",!0,e)));return g}function cg(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=bO(a),g=t.support.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=bP(a,b,f),(0>e||null==e)&&(e=a.style[b]),bW.test(e))return e;d=g&&(t.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+cf(a,b,c||(g?"border":"content"),d,f)+"px"}function ch(a){var b=f,c=bY[a];return c||(c=ci(a,b),"none"!==c&&c||(bN=(bN||t("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(bN[0].contentWindow||bN[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=ci(a,b),bN.detach()),bY[a]=c),c}function ci(a,b){var c=t(b.createElement(a)).appendTo(b.body),d=t.css(c[0],"display");return c.remove(),d}function co(a,b,c,d){var e;if(t.isArray(b))t.each(b,function(b,e){c||ck.test(a)?d(a,e):co(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==t.type(b))d(a,b);else for(e in b)co(a+"["+e+"]",b[e],c,d)}function cF(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(v)||[];if(t.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function cG(a,c,d,e){function h(i){var j;return f[i]=!0,t.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||g||f[k]?g?!(j=k):b:(c.dataTypes.unshift(k),h(k),!1)}),j}var f={},g=a===cC;return h(c.dataTypes[0])||!f["*"]&&h("*")}function cH(a,c){var d,e,f=t.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&t.extend(!0,a,d),a}function cI(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(h in k)h in d&&(c[k[h]]=d[h]);while("*"===j[0])j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function cJ(a,b){var c,d,e,f,g={},h=0,i=a.dataTypes.slice(),j=i[0];if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i[1])for(e in a.converters)g[e.toLowerCase()]=a.converters[e];for(;d=i[++h];)if("*"!==d){if("*"!==j&&j!==d){if(e=g[j+" "+d]||g["* "+d],!e)for(c in g)if(f=c.split(" "),f[1]===d&&(e=g[j+" "+f[0]]||g["* "+f[0]])){e===!0?e=g[c]:g[c]!==!0&&(d=f[0],i.splice(h--,0,d));break}if(e!==!0)if(e&&a["throws"])b=e(b);else try{b=e(b)}catch(k){return{state:"parsererror",error:e?k:"No conversion from "+j+" to "+d}}}j=d}return{state:"success",data:b}}function cQ(){try{return new a.XMLHttpRequest}catch(b){}}function cR(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cZ(){return setTimeout(function(){cS=b}),cS=t.now()}function c$(a,b){t.each(b,function(b,c){var d=(cY[b]||[]).concat(cY["*"]),e=0,f=d.length;for(;f>e;e++)if(d[e].call(a,b,c))return})}function c_(a,b,c){var d,e,f=0,g=cX.length,h=t.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;var b=cS||cZ(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;for(;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:t.extend({},b),opts:t.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cS||cZ(),duration:c.duration,tweens:[],createTween:function(b,c){var d=t.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(da(k,j.opts.specialEasing);g>f;f++)if(d=cX[f].call(j,a,k,j.opts))return d;return c$(j,k),t.isFunction(j.opts.start)&&j.opts.start.call(a,j),t.fx.timer(t.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function da(a,b){var c,d,e,f,g;for(e in a)if(d=t.camelCase(e),f=b[d],c=a[e],t.isArray(c)&&(f=c[1],c=a[e]=c[0]),e!==d&&(a[d]=c,delete a[e]),g=t.cssHooks[d],g&&"expand"in g){c=g.expand(c),delete a[d];for(e in c)e in a||(a[e]=c[e],b[e]=f)}else b[d]=f}function db(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&cc(a);c.queue||(k=t._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,t.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===t.css(a,"display")&&"none"===t.css(a,"float")&&(t.support.inlineBlockNeedsLayout&&"inline"!==ch(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",t.support.shrinkWrapBlocks||m.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(e in b)if(g=b[e],cU.exec(g)){if(delete b[e],i=i||"toggle"===g,g===(q?"hide":"show"))continue;p.push(e)}if(f=p.length){h=t._data(a,"fxshow")||t._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?t(a).show():m.done(function(){t(a).hide()}),m.done(function(){var b;t._removeData(a,"fxshow");for(b in o)t.style(a,b,o[b])});for(e=0;f>e;e++)d=p[e],j=m.createTween(d,q?h[d]:0),o[d]=h[d]||t.style(a,d),d in h||(h[d]=j.start,q&&(j.end=j.start,j.start="width"===d||"height"===d?1:0))}}function dc(a,b,c,d,e){return new dc.prototype.init(a,b,c,d,e)}function dd(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=b_[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function de(a){return t.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var c,d,e=typeof b,f=a.document,g=a.location,h=a.jQuery,i=a.$,j={},k=[],l="1.9.1",m=k.concat,n=k.push,o=k.slice,p=k.indexOf,q=j.toString,r=j.hasOwnProperty,s=l.trim,t=function(a,b){return new t.fn.init(a,b,d)},u=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,v=/\S+/g,w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,y=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,z=/^[\],:{}\s]*$/,A=/(?:^|:|,)(?:\s*\[)+/g,B=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,C=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,E=/-([\da-z])/gi,F=function(a,b){return b.toUpperCase()},G=function(a){(f.addEventListener||"load"===a.type||"complete"===f.readyState)&&(H(),t.ready())},H=function(){f.addEventListener?(f.removeEventListener("DOMContentLoaded",G,!1),a.removeEventListener("load",G,!1)):(f.detachEvent("onreadystatechange",G),a.detachEvent("onload",G))};t.fn=t.prototype={jquery:l,constructor:t,init:function(a,c,d){var e,g;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:x.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof t?c[0]:c,t.merge(this,t.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:f,!0)),y.test(e[1])&&t.isPlainObject(c))for(e in c)t.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(g=f.getElementById(e[2]),g&&g.parentNode){if(g.id!==e[2])return d.find(a);this.length=1,this[0]=g}return this.context=f,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):t.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),t.makeArray(a,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return o.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=t.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return t.each(this,a,b)},ready:function(a){return t.ready.promise().done(a),this},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(t.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:n,sort:[].sort,splice:[].splice},t.fn.init.prototype=t.fn,t.extend=t.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||t.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(t.isPlainObject(d)||(c=t.isArray(d)))?(c?(c=!1,g=a&&t.isArray(a)?a:[]):g=a&&t.isPlainObject(a)?a:{},h[e]=t.extend(k,g,d)):d!==b&&(h[e]=d));return h},t.extend({noConflict:function(b){return a.$===t&&(a.$=i),b&&a.jQuery===t&&(a.jQuery=h),t},isReady:!1,readyWait:1,holdReady:function(a){a?t.readyWait++:t.ready(!0)},ready:function(a){if(a===!0?!--t.readyWait:!t.isReady){if(!f.body)return setTimeout(t.ready);t.isReady=!0,a!==!0&&--t.readyWait>0||(c.resolveWith(f,[t]),t.fn.trigger&&t(f).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===t.type(a)},isArray:Array.isArray||function(a){return"array"===t.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[q.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==t.type(a)||a.nodeType||t.isWindow(a))return!1;try{if(a.constructor&&!r.call(a,"constructor")&&!r.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||r.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||f;var d=y.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=t.buildFragment([a],b,e),e&&t(e).remove(),t.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=t.trim(c),c&&z.test(c.replace(B,"@").replace(C,"]").replace(A,"")))?Function("return "+c)():(t.error("Invalid JSON: "+c),b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&t.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(D,"ms-").replace(E,F)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=I(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:s&&!s.call("﻿ ")?function(a){return null==a?"":s.call(a)}:function(a){return null==a?"":(a+"").replace(w,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(I(Object(a))?t.merge(c,"string"==typeof a?[a]:a):n.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(p)return p.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,c){var d,e=0,f=a.length,g=I(a),h=[];if(g)for(;f>e;e++)d=b(a[e],e,c),null!=d&&(h[h.length]=d);else for(e in a)d=b(a[e],e,c),null!=d&&(h[h.length]=d);return m.apply([],h)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),t.isFunction(a)?(d=o.call(arguments,2),e=function(){return a.apply(c||this,d.concat(o.call(arguments)))},e.guid=a.guid=a.guid||t.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===t.type(d)){f=!0;for(i in d)t.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,t.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(t(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()}}),t.ready.promise=function(b){if(!c)if(c=t.Deferred(),"complete"===f.readyState)setTimeout(t.ready);else if(f.addEventListener)f.addEventListener("DOMContentLoaded",G,!1),a.addEventListener("load",G,!1);else{f.attachEvent("onreadystatechange",G),a.attachEvent("onload",G);var d=!1;try{d=null==a.frameElement&&f.documentElement}catch(e){}d&&d.doScroll&&function g(){if(!t.isReady){try{d.doScroll("left")}catch(a){return setTimeout(g,50)}H(),t.ready()}}()}return c.promise(b)},t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()}),d=t(f);var J={};t.Callbacks=function(a){a="string"==typeof a?J[a]||K(a):t.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){for(d=a.memory&&b,e=!0,g=h||0,h=0,f=i.length,c=!0;i&&f>g;g++)if(i[g].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}c=!1,i&&(j?j.length&&k(j.shift()):d?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function e(b){t.each(b,function(b,c){var d=t.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&e(c)})})(arguments),c?f=i.length:d&&(h=b,k(d))}return this},remove:function(){return i&&t.each(arguments,function(a,b){var d;while((d=t.inArray(b,i,d))>-1)i.splice(d,1),c&&(f>=d&&f--,g>=d&&g--)}),this},has:function(a){return a?t.inArray(a,i)>-1:!!i&&!!i.length},empty:function(){return i=[],this},disable:function(){return i=j=d=b,this},disabled:function(){return!i},lock:function(){return j=b,d||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!i||e&&!j||(c?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},t.extend({Deferred:function(a){var b=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return t.Deferred(function(c){t.each(b,function(b,f){var g=f[0],h=t.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&t.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?t.extend(a,d):d}},e={};return d.pipe=d.then,t.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=o.call(arguments),d=c.length,e=1!==d||a&&t.isFunction(a.promise)?d:0,f=1===e?a:t.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?o.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1)for(h=Array(d),i=Array(d),j=Array(d);d>b;b++)c[b]&&t.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e;return e||f.resolveWith(j,c),f.promise()}}),t.support=function(){var b,c,d,g,h,i,j,k,l,m,n=f.createElement("div");if(n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],!c||!d||!c.length)return{};h=f.createElement("select"),j=h.appendChild(f.createElement("option")),g=n.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={getSetAttribute:"t"!==n.className,leadingWhitespace:3===n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:!!g.value,optSelected:j.selected,enctype:!!f.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==f.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===f.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,h.disabled=!0,b.optDisabled=!j.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}g=f.createElement("input"),g.setAttribute("value",""),b.input=""===g.getAttribute("value"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","t"),g.setAttribute("name","t"),i=f.createDocumentFragment(),i.appendChild(g),b.appendChecked=g.checked,b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,n.attachEvent&&(n.attachEvent("onclick",function(){b.noCloneEvent=!1}),n.cloneNode(!0).click());for(m in{submit:!0,change:!0,focusin:!0})n.setAttribute(k="on"+m,"t"),b[m+"Bubbles"]=k in a||n.attributes[k].expando===!1;return n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===n.style.backgroundClip,t(function(){var c,d,g,h="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",i=f.getElementsByTagName("body")[0];i&&(c=f.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(c).appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",g=n.getElementsByTagName("td"),g[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",b.reliableHiddenOffsets=l&&0===g[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===n.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==i.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(n,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(n,null)||{width:"4px"}).width,d=n.appendChild(f.createElement("div")),d.style.cssText=n.style.cssText=h,d.style.marginRight=d.style.width="0",n.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof n.style.zoom!==e&&(n.innerHTML="",n.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.innerHTML="<div></div>",n.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==n.offsetWidth,b.inlineBlockNeedsLayout&&(i.style.zoom=1)),i.removeChild(c),c=n=g=d=null)}),c=h=i=j=d=g=null,b}();var L=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,M=/([A-Z])/g;t.extend({cache:{},expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?t.cache[a[t.expando]]:a[t.expando],!!a&&!Q(a)},data:function(a,b,c){return N(a,b,c)},removeData:function(a,b){return O(a,b)},_data:function(a,b,c){return N(a,b,c,!0)},_removeData:function(a,b){return O(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&t.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),t.fn.extend({data:function(a,c){var d,e,f=this[0],g=0,h=null;if(a===b){if(this.length&&(h=t.data(f),1===f.nodeType&&!t._data(f,"parsedAttrs"))){for(d=f.attributes;d.length>g;g++)e=d[g].name,e.indexOf("data-")||(e=t.camelCase(e.slice(5)),P(f,e,h[e]));t._data(f,"parsedAttrs",!0)}return h}return"object"==typeof a?this.each(function(){t.data(this,a)}):t.access(this,function(c){return c===b?f?P(f,a,t.data(f,a)):null:(this.each(function(){t.data(this,a,c)}),b)},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){t.removeData(this,a)})}}),t.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=t._data(a,c),d&&(!e||t.isArray(d)?e=t._data(a,c,t.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=t.queue(a,b),d=c.length,e=c.shift(),f=t._queueHooks(a,b),g=function(){t.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),f.cur=e,e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return t._data(a,c)||t._data(a,c,{empty:t.Callbacks("once memory").add(function(){t._removeData(a,b+"queue"),t._removeData(a,c)})})}}),t.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?t.queue(this[0],a):c===b?this:this.each(function(){var b=t.queue(this,a,c);t._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&t.dequeue(this,a)})},dequeue:function(a){return this.each(function(){t.dequeue(this,a)})},delay:function(a,b){return a=t.fx?t.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=t.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};"string"!=typeof a&&(c=a,a=b),a=a||"fx";while(h--)d=t._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var R,S,T=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,W=/^(?:a|area)$/i,X=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Y=/^(?:checked|selected)$/i,Z=t.support.getSetAttribute,$=t.support.input;t.fn.extend({attr:function(a,b){return t.access(this,t.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){t.removeAttr(this,a)})},prop:function(a,b){return t.access(this,t.prop,a,b,arguments.length>1)},removeProp:function(a){return a=t.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(t.isFunction(a))return this.each(function(b){t(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(v)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(T," "):" ")){f=0;while(e=b[f++])0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=t.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(t.isFunction(a))return this.each(function(b){t(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(v)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(T," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");c.className=a?t.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return t.isFunction(a)?this.each(function(c){t(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c){var f,g=0,h=t(this),i=b,j=a.match(v)||[];while(f=j[g++])i=d?i:!h.hasClass(f),h[i?"addClass":"removeClass"](f)}else(c===e||"boolean"===c)&&(this.className&&t._data(this,"__className__",this.className),this.className=this.className||a===!1?"":t._data(this,"__className__")||"")})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(T," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(arguments.length)return e=t.isFunction(a),this.each(function(c){var f,g=t(this);1===this.nodeType&&(f=e?a.call(this,c,g.val()):a,null==f?f="":"number"==typeof f?f+="":t.isArray(f)&&(f=t.map(f,function(a){return null==a?"":a+""})),d=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return d=t.valHooks[f.type]||t.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(U,""):null==c?"":c)}}),t.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;for(;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(t.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&t.nodeName(c.parentNode,"optgroup"))){if(b=t(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=t.makeArray(b);return t(a).find("option").each(function(){this.selected=t.inArray(t(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attr:function(a,c,d){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return typeof a.getAttribute===e?t.prop(a,c,d):(g=1!==i||!t.isXMLDoc(a),g&&(c=c.toLowerCase(),f=t.attrHooks[c]||(X.test(c)?S:R)),d===b?f&&g&&"get"in f&&null!==(h=f.get(a,c))?h:(typeof a.getAttribute!==e&&(h=a.getAttribute(c)),null==h?b:h):null!==d?f&&g&&"set"in f&&(h=f.set(a,d,c))!==b?h:(a.setAttribute(c,d+""),d):(t.removeAttr(a,c),b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(v);if(f&&1===a.nodeType)while(c=f[e++])d=t.propFix[c]||c,X.test(c)?!Z&&Y.test(c)?a[t.camelCase("default-"+c)]=a[d]=!1:a[d]=!1:t.attr(a,c,""),a.removeAttribute(Z?c:d)},attrHooks:{type:{set:function(a,b){if(!t.support.radioValue&&"radio"===b&&t.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!t.isXMLDoc(a),g&&(c=t.propFix[c]||c,f=t.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):V.test(a.nodeName)||W.test(a.nodeName)&&a.href?0:b}}}}),S={get:function(a,c){var d=t.prop(a,c),e="boolean"==typeof d&&a.getAttribute(c),f="boolean"==typeof d?$&&Z?null!=e:Y.test(c)?a[t.camelCase("default-"+c)]:!!e:a.getAttributeNode(c);return f&&f.value!==!1?c.toLowerCase():b},set:function(a,b,c){return b===!1?t.removeAttr(a,c):$&&Z||!Y.test(c)?a.setAttribute(!Z&&t.propFix[c]||c,c):a[t.camelCase("default-"+c)]=a[c]=!0,c}},$&&Z||(t.attrHooks.value={get:function(a,c){var d=a.getAttributeNode(c);return t.nodeName(a,"input")?a.defaultValue:d&&d.specified?d.value:b},set:function(a,c,d){return t.nodeName(a,"input")?(a.defaultValue=c,b):R&&R.set(a,c,d)}}),Z||(R=t.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&("id"===c||"name"===c||"coords"===c?""!==d.value:d.specified)?d.value:b},set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},t.attrHooks.contenteditable={get:R.get,set:function(a,b,c){R.set(a,""===b?!1:b,c)}},t.each(["width","height"],function(a,c){t.attrHooks[c]=t.extend(t.attrHooks[c],{set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}})})),t.support.hrefNormalized||(t.each(["href","src","width","height"],function(a,c){t.attrHooks[c]=t.extend(t.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null==d?b:d}})}),t.each(["href","src"],function(a,b){t.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}})),t.support.style||(t.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),t.support.optSelected||(t.propHooks.selected=t.extend(t.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),t.support.enctype||(t.propFix.enctype="encoding"),t.support.checkOn||t.each(["radio","checkbox"],function(){t.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),t.each(["radio","checkbox"],function(){t.valHooks[this]=t.extend(t.valHooks[this],{set:function(a,c){return t.isArray(c)?a.checked=t.inArray(t(a).val(),c)>=0:b}})});var _=/^(?:input|select|textarea)$/i,ba=/^key/,bb=/^(?:mouse|contextmenu)|click/,bc=/^(?:focusinfocus|focusoutblur)$/,bd=/^([^.]*)(?:\.(.+)|)$/;t.event={global:{},add:function(a,c,d,f,g){var h,i,j,k,l,m,n,o,p,q,r,s=t._data(a);if(s){d.handler&&(k=d,d=k.handler,g=k.selector),d.guid||(d.guid=t.guid++),(i=s.events)||(i=s.events={}),(m=s.handle)||(m=s.handle=function(a){return typeof t===e||a&&t.event.triggered===a.type?b:t.event.dispatch.apply(m.elem,arguments)},m.elem=a),c=(c||"").match(v)||[""],j=c.length;while(j--)h=bd.exec(c[j])||[],p=r=h[1],q=(h[2]||"").split(".").sort(),l=t.event.special[p]||{},p=(g?l.delegateType:l.bindType)||p,l=t.event.special[p]||{},n=t.extend({type:p,origType:r,data:f,handler:d,guid:d.guid,selector:g,needsContext:g&&t.expr.match.needsContext.test(g),namespace:q.join(".")},k),(o=i[p])||(o=i[p]=[],o.delegateCount=0,l.setup&&l.setup.call(a,f,q,m)!==!1||(a.addEventListener?a.addEventListener(p,m,!1):a.attachEvent&&a.attachEvent("on"+p,m))),l.add&&(l.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),g?o.splice(o.delegateCount++,0,n):o.push(n),t.event.global[p]=!0;a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=t.hasData(a)&&t._data(a);if(q&&(k=q.events)){b=(b||"").match(v)||[""],j=b.length;while(j--)if(h=bd.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=t.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||t.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)t.event.remove(a,n+b[j],c,d,!0);t.isEmptyObject(k)&&(delete q.handle,t._removeData(a,"events"))}},trigger:function(c,d,e,g){var h,i,j,k,l,m,n,o=[e||f],p=r.call(c,"type")?c.type:c,q=r.call(c,"namespace")?c.namespace.split("."):[];if(j=m=e=e||f,3!==e.nodeType&&8!==e.nodeType&&!bc.test(p+t.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),i=0>p.indexOf(":")&&"on"+p,c=c[t.expando]?c:new t.Event(p,"object"==typeof c&&c),c.isTrigger=!0,c.namespace=q.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:t.makeArray(d,[c]),l=t.event.special[p]||{},g||!l.trigger||l.trigger.apply(e,d)!==!1)){if(!g&&!l.noBubble&&!t.isWindow(e)){for(k=l.delegateType||p,bc.test(k+p)||(j=j.parentNode);j;j=j.parentNode)o.push(j),m=j;m===(e.ownerDocument||f)&&o.push(m.defaultView||m.parentWindow||a)}n=0;while((j=o[n++])&&!c.isPropagationStopped())c.type=n>1?k:l.bindType||p,h=(t._data(j,"events")||{})[c.type]&&t._data(j,"handle"),h&&h.apply(j,d),h=i&&j[i],h&&t.acceptData(j)&&h.apply&&h.apply(j,d)===!1&&c.preventDefault();if(c.type=p,!(g||c.isDefaultPrevented()||l._default&&l._default.apply(e.ownerDocument,d)!==!1||"click"===p&&t.nodeName(e,"a")||!t.acceptData(e)||!i||!e[p]||t.isWindow(e))){m=e[i],m&&(e[i]=null),t.event.triggered=p;try{e[p]()}catch(s){}t.event.triggered=b,m&&(e[i]=m)}return c.result}},dispatch:function(a){a=t.event.fix(a);var c,d,e,f,g,h=[],i=o.call(arguments),j=(t._data(this,"events")||{})[a.type]||[],k=t.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=t.event.handlers.call(this,a,j),c=0;while((f=h[c++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((t.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?t(d,this).index(j)>=0:t.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[t.expando])return a;var b,c,d,e=a.type,g=a,h=this.fixHooks[e];h||(this.fixHooks[e]=h=bb.test(e)?this.mouseHooks:ba.test(e)?this.keyHooks:{}),d=h.props?this.props.concat(h.props):this.props,a=new t.Event(g),b=d.length;while(b--)c=d[b],a[c]=g[c];return a.target||(a.target=g.srcElement||f),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,g,h=c.button,i=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||f,g=e.documentElement,d=e.body,a.pageX=c.clientX+(g&&g.scrollLeft||d&&d.scrollLeft||0)-(g&&g.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(g&&g.scrollTop||d&&d.scrollTop||0)-(g&&g.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),a.which||h===b||(a.which=1&h?1:2&h?3:4&h?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return t.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b}},focus:{trigger:function(){if(this!==f.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===f.activeElement&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=t.extend(new t.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?t.event.trigger(e,null,b):t.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},t.removeEvent=f.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===e&&(a[d]=null),a.detachEvent(d,c))},t.Event=function(a,c){return this instanceof t.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?be:bf):this.type=a,c&&t.extend(this,c),this.timeStamp=a&&a.timeStamp||t.now(),this[t.expando]=!0,b):new t.Event(a,c)},t.Event.prototype={isDefaultPrevented:bf,isPropagationStopped:bf,isImmediatePropagationStopped:bf,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=be,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=be,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=be,this.stopPropagation()}},t.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){t.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!t.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),t.support.submitBubbles||(t.event.special.submit={setup:function(){return t.nodeName(this,"form")?!1:(t.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=t.nodeName(c,"input")||t.nodeName(c,"button")?c.form:b;d&&!t._data(d,"submitBubbles")&&(t.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),t._data(d,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&t.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return t.nodeName(this,"form")?!1:(t.event.remove(this,"._submit"),b)}}),t.support.changeBubbles||(t.event.special.change={setup:function(){return _.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(t.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),t.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),t.event.simulate("change",this,a,!0)})),!1):(t.event.add(this,"beforeactivate._change",function(a){var b=a.target;_.test(b.nodeName)&&!t._data(b,"changeBubbles")&&(t.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||t.event.simulate("change",this.parentNode,a,!0)}),t._data(b,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return t.event.remove(this,"._change"),!_.test(this.nodeName)}}),t.support.focusinBubbles||t.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){t.event.simulate(b,a.target,t.event.fix(a),!0)};t.event.special[b]={setup:function(){0===c++&&f.addEventListener(a,d,!0)},teardown:function(){0===--c&&f.removeEventListener(a,d,!0)}}}),t.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=bf;else if(!e)return this;return 1===f&&(h=e,e=function(a){return t().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=t.guid++)),this.each(function(){t.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,t(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=bf),this.each(function(){t.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){t.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?t.event.trigger(a,c,d,!0):b}}),function(a,b){function bd(a){return W.test(a+"")}function be(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>e.cacheLength&&delete a[b.shift()],a[c]=d}}function bf(a){return a[u]=!0,a}function bg(a){var b=l.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}}function bh(a,b,c,d){var e,f,g,h,i,j,m,p,q,s;if((b?b.ownerDocument||b:v)!==l&&k(b),b=b||l,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(!n&&!d){if(e=X.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&r(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return G.apply(c,H.call(b.getElementsByTagName(a),0)),c;if((g=e[3])&&w.getByClassName&&b.getElementsByClassName)return G.apply(c,H.call(b.getElementsByClassName(g),0)),c}if(w.qsa&&!o.test(a)){if(m=!0,p=u,q=b,s=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){j=bm(a),(m=b.getAttribute("id"))?p=m.replace($,"\\$&"):b.setAttribute("id",p),p="[id='"+p+"'] ",i=j.length;while(i--)j[i]=p+bn(j[i]);q=V.test(a)&&b.parentNode||b,s=j.join(",")}if(s)try{return G.apply(c,H.call(q.querySelectorAll(s),0)),c}catch(t){}finally{m||b.removeAttribute("id")}}}return bv(a.replace(P,"$1"),b,c,d)}function bi(a,b){var c=b&&a,d=c&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function bj(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function bk(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function bl(a){return bf(function(b){return b=+b,bf(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bm(a,b){var c,d,f,g,h,i,j,k=A[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){(!c||(d=Q.exec(h)))&&(d&&(h=h.slice(d[0].length)||h),i.push(f=[])),c=!1,(d=R.exec(h))&&(c=d.shift(),f.push({value:c,type:d[0].replace(P," ")}),h=h.slice(c.length));for(g in e.filter)!(d=U[g].exec(h))||j[g]&&!(d=j[g](d))||(c=d.shift(),f.push({value:c,type:g,matches:d}),h=h.slice(c.length));if(!c)break}return b?h.length:h?bh.error(a):A(a,i).slice(0)}function bn(a){var b=0,c=a.length,d="";for(;c>b;b++)d+=a[b].value;return d}function bo(a,b,c){var e=b.dir,f=c&&"parentNode"===e,g=y++;return b.first?function(b,c,d){while(b=b[e])if(1===b.nodeType||f)return a(b,c,d)}:function(b,c,h){var i,j,k,l=x+" "+g;if(h){while(b=b[e])if((1===b.nodeType||f)&&a(b,c,h))return!0}else while(b=b[e])if(1===b.nodeType||f)if(k=b[u]||(b[u]={}),(j=k[e])&&j[0]===l){if((i=j[1])===!0||i===d)return i===!0}else if(j=k[e]=[l],j[1]=a(b,c,h)||d,j[1]===!0)return!0}}function bp(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bq(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=null!=b;for(;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function br(a,b,c,d,e,f){return d&&!d[u]&&(d=br(d)),e&&!e[u]&&(e=br(e,f)),bf(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||bu(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:bq(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=bq(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=bq(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function bs(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,k=bo(function(a){return a===b},h,!0),l=bo(function(a){return I.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];for(;f>i;i++)if(c=e.relative[a[i].type])m=[bo(bp(m),c)];else{if(c=e.filter[a[i].type].apply(null,a[i].matches),c[u]){for(d=++i;f>d;d++)if(e.relative[a[d].type])break;return br(i>1&&bp(m),i>1&&bn(a.slice(0,i-1)).replace(P,"$1"),c,d>i&&bs(a.slice(i,d)),f>d&&bs(a=a.slice(d)),f>d&&bn(a))}m.push(c)}return bp(m)}function bt(a,b){var c=0,f=b.length>0,g=a.length>0,h=function(h,i,k,m,n){var o,p,q,r=[],s=0,t="0",u=h&&[],v=null!=n,w=j,y=h||g&&e.find.TAG("*",n&&i.parentNode||i),z=x+=null==w?1:Math.random()||.1;for(v&&(j=i!==l&&i,d=c);null!=(o=y[t]);t++){if(g&&o){p=0;while(q=a[p++])if(q(o,i,k)){m.push(o);break}v&&(x=z,d=++c)}f&&((o=!q&&o)&&s--,h&&u.push(o))}if(s+=t,f&&t!==s){p=0;while(q=b[p++])q(u,r,i,k);if(h){if(s>0)while(t--)u[t]||r[t]||(r[t]=F.call(m));r=bq(r)}G.apply(m,r),v&&!h&&r.length>0&&s+b.length>1&&bh.uniqueSort(m)}return v&&(x=z,j=w),u};return f?bf(h):h}function bu(a,b,c){var d=0,e=b.length;for(;e>d;d++)bh(a,b[d],c);return c}function bv(a,b,c,d){var f,g,i,j,k,l=bm(a);if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!n&&e.relative[g[1].type]){if(b=e.find.ID(i.matches[0].replace(ba,bb),b)[0],!b)return c;a=a.slice(g.shift().value.length)}f=U.needsContext.test(a)?0:g.length;while(f--){if(i=g[f],e.relative[j=i.type])break;if((k=e.find[j])&&(d=k(i.matches[0].replace(ba,bb),V.test(g[0].type)&&b.parentNode||b))){if(g.splice(f,1),a=d.length&&bn(g),!a)return G.apply(c,H.call(d,0)),c;break}}}return h(a,l)(d,b,n,c,V.test(a)),c}function bw(){}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,u="sizzle"+ -(new Date),v=a.document,w={},x=0,y=0,z=be(),A=be(),B=be(),C=typeof b,D=1<<31,E=[],F=E.pop,G=E.push,H=E.slice,I=E.indexOf||function(a){var b=0,c=this.length;for(;c>b;b++)if(this[b]===a)return b;return-1},J="[\\x20\\t\\r\\n\\f]",K="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=K.replace("w","w#"),M="([*^$|!~]?=)",N="\\["+J+"*("+K+")"+J+"*(?:"+M+J+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+J+"*\\]",O=":("+K+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),Q=RegExp("^"+J+"*,"+J+"*"),R=RegExp("^"+J+"*([\\x20\\t\\r\\n\\f>+~])"+J+"*"),S=RegExp(O),T=RegExp("^"+L+"$"),U={ID:RegExp("^#("+K+")"),CLASS:RegExp("^\\.("+K+")"),NAME:RegExp("^\\[name=['\"]?("+K+")['\"]?\\]"),TAG:RegExp("^("+K.replace("w","w*")+")"),ATTR:RegExp("^"+N),PSEUDO:RegExp("^"+O),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),needsContext:RegExp("^"+J+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,W=/^[^{]+\{\s*\[native code/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/'|\\/g,_=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ba=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,bb=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{H.call(v.documentElement.childNodes,0)[0].nodeType}catch(bc){H=function(a){var b,c=[];while(b=this[a++])c.push(b);return c}}g=bh.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=bh.setDocument=function(a){var c=a?a.ownerDocument||a:v;return c!==l&&9===c.nodeType&&c.documentElement?(l=c,m=c.documentElement,n=g(c),w.tagNameNoComments=bg(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),w.attributes=bg(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),w.getByClassName=bg(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),w.getByName=bg(function(a){a.id=u+0,a.innerHTML="<a name='"+u+"'></a><div name='"+u+"'></div>",m.insertBefore(a,m.firstChild);var b=c.getElementsByName&&c.getElementsByName(u).length===2+c.getElementsByName(u+0).length;return w.getIdNotName=!c.getElementById(u),m.removeChild(a),b}),e.attrHandle=bg(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},w.getIdNotName?(e.find.ID=function(a,b){if(typeof b.getElementById!==C&&!n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},e.filter.ID=function(a){var b=a.replace(ba,bb);return function(a){return a.getAttribute("id")===b}}):(e.find.ID=function(a,c){if(typeof c.getElementById!==C&&!n){var d=c.getElementById(a);return d?d.id===a||typeof d.getAttributeNode!==C&&d.getAttributeNode("id").value===a?[d]:b:[]}},e.filter.ID=function(a){var b=a.replace(ba,bb);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),e.find.TAG=w.tagNameNoComments?function(a,c){return typeof c.getElementsByTagName!==C?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},e.find.NAME=w.getByName&&function(a,c){return typeof c.getElementsByName!==C?c.getElementsByName(name):b},e.find.CLASS=w.getByClassName&&function(a,c){return typeof c.getElementsByClassName===C||n?b:c.getElementsByClassName(a)},p=[],o=[":focus"],(w.qsa=bd(c.querySelectorAll))&&(bg(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||o.push("\\["+J+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||o.push(":checked")}),bg(function(a){a.innerHTML="<input type='hidden' i=''/>",a.querySelectorAll("[i^='']").length&&o.push("[*^$]="+J+"*(?:\"\"|'')"),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(w.matchesSelector=bd(q=m.matchesSelector||m.mozMatchesSelector||m.webkitMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&bg(function(a){w.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=RegExp(o.join("|")),p=RegExp(p.join("|")),r=bd(m.contains)||m.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!d&&1===d.nodeType&&!!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},s=m.compareDocumentPosition?function(a,b){var d;return a===b?(i=!0,0):(d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b))?1&d||a.parentNode&&11===a.parentNode.nodeType?a===c||r(v,a)?-1:b===c||r(v,b)?1:0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,f=a.parentNode,g=b.parentNode,h=[a],j=[b];if(a===b)return i=!0,0;if(!f||!g)return a===c?-1:b===c?1:f?-1:g?1:0;if(f===g)return bi(a,b);d=a;while(d=d.parentNode)h.unshift(d);d=b;while(d=d.parentNode)j.unshift(d);while(h[e]===j[e])e++;return e?bi(h[e],j[e]):h[e]===v?-1:j[e]===v?1:0},i=!1,[0,0].sort(s),w.detectDuplicates=i,l):l},bh.matches=function(a,b){return bh(a,null,null,b)},bh.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(_,"='$1']"),!(!w.matchesSelector||n||p&&p.test(b)||o.test(b)))try{var c=q.call(a,b);if(c||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return bh(b,l,null,[a]).length>0},bh.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},bh.attr=function(a,b){var c;return(a.ownerDocument||a)!==l&&k(a),n||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):n||w.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&a[b]===!0?b:c&&c.specified?c.value:null},bh.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},bh.uniqueSort=function(a){var b,c=[],d=1,e=0;if(i=!w.detectDuplicates,a.sort(s),i){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));while(e--)a.splice(c[e],1)}return a},f=bh.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},e=bh.selectors={cacheLength:50,createPseudo:bf,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,bb),a[3]=(a[4]||a[5]||"").replace(ba,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||bh.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&bh.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return U.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&S.test(c)&&(b=bm(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ba,bb).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=z[a+" "];return b||(b=RegExp("(^|"+J+")"+a+"("+J+"|$)"))&&z(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=bh.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===x&&j[1],m=j[0]===x&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[x,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===x)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[x,m]),l===b))break;return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bh.error("unsupported pseudo: "+a);return d[u]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?bf(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=I.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:bf(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?bf(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:bf(function(a){return function(b){return bh(a,b).length>0}}),contains:bf(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),lang:bf(function(a){return T.test(a||"")||bh.error("unsupported lang: "+a),a=a.replace(ba,bb).toLowerCase(),function(b){var c;do if(c=n?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!e.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:bl(function(){return[0]}),last:bl(function(a,b){return[b-1]}),eq:bl(function(a,b,c){return[0>c?c+b:c]}),even:bl(function(a,b){var c=0;for(;b>c;c+=2)a.push(c);return a}),odd:bl(function(a,b){var c=1;for(;b>c;c+=2)a.push(c);return a}),lt:bl(function(a,b,c){var d=0>c?c+b:c;for(;--d>=0;)a.push(d);return a}),gt:bl(function(a,b,c){var d=0>c?c+b:c;for(;b>++d;)a.push(d);return a})}};for(c in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[c]=bj(c);for(c in{submit:!0,reset:!0})e.pseudos[c]=bk(c);h=bh.compile=function(a,b){var c,d=[],e=[],f=B[a+" "];if(!f){b||(b=bm(a)),c=b.length;while(c--)f=bs(b[c]),f[u]?d.push(f):e.push(f);f=B(a,bt(e,d))}return f},e.pseudos.nth=e.pseudos.eq,e.filters=bw.prototype=e.pseudos,e.setFilters=new bw,k(),bh.attr=t.attr,t.find=bh,t.expr=bh.selectors,t.expr[":"]=t.expr.pseudos,t.unique=bh.uniqueSort,t.text=bh.getText,t.isXMLDoc=bh.isXML,t.contains=bh.contains}(a);var bg=/Until$/,bh=/^(?:parents|prev(?:Until|All))/,bi=/^.[^:#\[\.,]*$/,bj=t.expr.match.needsContext,bk={children:!0,contents:!0,next:!0,prev:!0};t.fn.extend({find:function(a){var b,c,d,e=this.length;if("string"!=typeof a)return d=this,this.pushStack(t(a).filter(function(){for(b=0;e>b;b++)if(t.contains(d[b],this))return!0}));for(c=[],b=0;e>b;b++)t.find(a,this[b],c);return c=this.pushStack(e>1?t.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+a,c},has:function(a){var b,c=t(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(t.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bm(this,a,!1))},filter:function(a){return this.pushStack(bm(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?bj.test(a)?t(a,this.context).index(this[0])>=0:t.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bj.test(a)||"string"!=typeof a?t(a,b||this.context):0;for(;e>d;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&11!==c.nodeType){if(g?g.index(c)>-1:t.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return this.pushStack(f.length>1?t.unique(f):f)},index:function(a){return a?"string"==typeof a?t.inArray(this[0],t(a)):t.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?t(a,b):t.makeArray(a&&a.nodeType?[a]:a),d=t.merge(this.get(),c);return this.pushStack(t.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),t.fn.andSelf=t.fn.addBack,t.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return t.dir(a,"parentNode")},parentsUntil:function(a,b,c){return t.dir(a,"parentNode",c)},next:function(a){return bl(a,"nextSibling")},prev:function(a){return bl(a,"previousSibling")},nextAll:function(a){return t.dir(a,"nextSibling")},prevAll:function(a){return t.dir(a,"previousSibling")},nextUntil:function(a,b,c){return t.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return t.dir(a,"previousSibling",c)},siblings:function(a){return t.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return t.sibling(a.firstChild)},contents:function(a){return t.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:t.merge([],a.childNodes)}},function(a,b){t.fn[a]=function(c,d){var e=t.map(this,b,c);return bg.test(a)||(d=c),d&&"string"==typeof d&&(e=t.filter(d,e)),e=this.length>1&&!bk[a]?t.unique(e):e,this.length>1&&bh.test(a)&&(e=e.reverse()),this.pushStack(e)}}),t.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?t.find.matchesSelector(b[0],a)?[b[0]]:[]:t.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!t(f).is(d)))1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var bo="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bp=/ jQuery\d+="(?:null|\d+)"/g,bq=RegExp("<(?:"+bo+")[\\s/>]","i"),br=/^\s+/,bs=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,bu=/<tbody/i,bv=/<|&#?\w+;/,bw=/<(?:script|style|link)/i,bx=/^(?:checkbox|radio)$/i,by=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/^$|\/(?:java|ecma)script/i,bA=/^true\/(.*)/,bB=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,bC={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:t.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},bD=bn(f),bE=bD.appendChild(f.createElement("div"));bC.optgroup=bC.option,bC.tbody=bC.tfoot=bC.colgroup=bC.caption=bC.thead,bC.th=bC.td,t.fn.extend({text:function(a){return t.access(this,function(a){return a===b?t.text(this):this.empty().append((this[0]&&this[0].ownerDocument||f).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(t.isFunction(a))return this.each(function(b){t(this).wrapAll(a.call(this,b))});if(this[0]){var b=t(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return t.isFunction(a)?this.each(function(b){t(this).wrapInner(a.call(this,b))}):this.each(function(){var b=t(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=t.isFunction(a);return this.each(function(c){t(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){var c,d=0;for(;null!=(c=this[d]);d++)(!a||t.filter(a,[c]).length>0)&&(b||1!==c.nodeType||t.cleanData(bL(c)),c.parentNode&&(b&&t.contains(c.ownerDocument,c)&&bI(bL(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){var a,b=0;for(;null!=(a=this[b]);b++){1===a.nodeType&&t.cleanData(bL(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&t.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return t.clone(this,a,b)})},html:function(a){return t.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(bp,""):b;if(!("string"!=typeof a||bw.test(a)||!t.support.htmlSerialize&&bq.test(a)||!t.support.leadingWhitespace&&br.test(a)||bC[(bt.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(bs,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(t.cleanData(bL(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){var b=t.isFunction(a);return b||"string"==typeof a||(a=t(a).not(this).detach()),this.domManip([a],!0,function(a){var b=this.nextSibling,c=this.parentNode;c&&(t(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=m.apply([],a);var e,f,g,h,i,j,k=0,l=this.length,n=this,o=l-1,p=a[0],q=t.isFunction(p);if(q||!(1>=l||"string"!=typeof p||t.support.checkClone)&&by.test(p))return this.each(function(e){var f=n.eq(e);q&&(a[0]=p.call(this,e,c?f.html():b)),f.domManip(a,c,d)});if(l&&(j=t.buildFragment(a,this[0].ownerDocument,!1,this),e=j.firstChild,1===j.childNodes.length&&(j=e),e)){for(c=c&&t.nodeName(e,"tr"),h=t.map(bL(j,"script"),bG),g=h.length;l>k;k++)f=j,k!==o&&(f=t.clone(f,!0,!0),g&&t.merge(h,bL(f,"script"))),d.call(c&&t.nodeName(this[k],"table")?bF(this[k],"tbody"):this[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,t.map(h,bH),k=0;g>k;k++)f=h[k],bz.test(f.type||"")&&!t._data(f,"globalEval")&&t.contains(i,f)&&(f.src?t.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):t.globalEval((f.text||f.textContent||f.innerHTML||"").replace(bB,"")));j=e=null}return this}}),t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){t.fn[a]=function(a){var c,d=0,e=[],f=t(a),g=f.length-1;for(;g>=d;d++)c=d===g?this:this.clone(!0),t(f[d])[b](c),n.apply(e,c.get());return this.pushStack(e)}}),t.extend({clone:function(a,b,c){var d,e,f,g,h,i=t.contains(a.ownerDocument,a);if(t.support.html5Clone||t.isXMLDoc(a)||!bq.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(bE.innerHTML=a.outerHTML,bE.removeChild(f=bE.firstChild)),!(t.support.noCloneEvent&&t.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||t.isXMLDoc(a)))for(d=bL(f),h=bL(a),g=0;null!=(e=h[g]);++g)d[g]&&bK(e,d[g]);if(b)if(c)for(h=h||bL(a),d=d||bL(f),g=0;null!=(e=h[g]);g++)bJ(e,d[g]);else bJ(a,f);return d=bL(f,"script"),d.length>0&&bI(d,!i&&bL(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){var e,f,g,h,i,j,k,l=a.length,m=bn(b),n=[],o=0;for(;l>o;o++)if(f=a[o],f||0===f)if("object"===t.type(f))t.merge(n,f.nodeType?[f]:f);else if(bv.test(f)){h=h||m.appendChild(b.createElement("div")),i=(bt.exec(f)||["",""])[1].toLowerCase(),k=bC[i]||bC._default,h.innerHTML=k[1]+f.replace(bs,"<$1></$2>")+k[2],e=k[0];while(e--)h=h.lastChild;if(!t.support.leadingWhitespace&&br.test(f)&&n.push(b.createTextNode(br.exec(f)[0])),!t.support.tbody){f="table"!==i||bu.test(f)?"<table>"!==k[1]||bu.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)t.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}t.merge(n,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));h&&m.removeChild(h),t.support.appendChecked||t.grep(bL(n,"input"),bM),o=0;while(f=n[o++])if((!d||-1===t.inArray(f,d))&&(g=t.contains(f.ownerDocument,f),h=bL(m.appendChild(f),"script"),g&&bI(h),c)){e=0;while(f=h[e++])bz.test(f.type||"")&&c.push(f)}return h=null,m},cleanData:function(a,b){var c,d,f,g,h=0,i=t.expando,j=t.cache,l=t.support.deleteExpando,m=t.event.special;for(;null!=(c=a[h]);h++)if((b||t.acceptData(c))&&(f=c[i],g=f&&j[f])){if(g.events)for(d in g.events)m[d]?t.event.remove(c,d):t.removeEvent(c,d,g.handle);j[f]&&(delete j[f],l?delete c[i]:typeof c.removeAttribute!==e?c.removeAttribute(i):c[i]=null,k.push(f))}}});var bN,bO,bP,bQ=/alpha\([^)]*\)/i,bR=/opacity\s*=\s*([^)]*)/,bS=/^(top|right|bottom|left)$/,bT=/^(none|table(?!-c[ea]).+)/,bU=/^margin/,bV=RegExp("^("+u+")(.*)$","i"),bW=RegExp("^("+u+")(?!px)[a-z%]+$","i"),bX=RegExp("^([+-])=("+u+")","i"),bY={BODY:"block"},bZ={position:"absolute",visibility:"hidden",display:"block"},b$={letterSpacing:0,fontWeight:400},b_=["Top","Right","Bottom","Left"],ca=["Webkit","O","Moz","ms"];t.fn.extend({css:function(a,c){return t.access(this,function(a,c,d){var e,f,g={},h=0;if(t.isArray(c)){for(f=bO(a),e=c.length;e>h;h++)g[c[h]]=t.css(a,c[h],!1,f);return g}return d!==b?t.style(a,c,d):t.css(a,c)},a,c,arguments.length>1)},show:function(){return cd(this,!0)},hide:function(){return cd(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:cc(this))?t(this).show():t(this).hide()})}}),t.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bP(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":t.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=t.camelCase(c),j=a.style;if(c=t.cssProps[i]||(t.cssProps[i]=cb(j,i)),h=t.cssHooks[c]||t.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=bX.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(t.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||t.cssNumber[i]||(d+="px"),t.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=t.camelCase(c);return c=t.cssProps[i]||(t.cssProps[i]=cb(a.style,i)),h=t.cssHooks[c]||t.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=bP(a,c,e)),"normal"===g&&c in b$&&(g=b$[c]),""===d||d?(f=parseFloat(g),d===!0||t.isNumeric(f)?f||0:g):g},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),a.getComputedStyle?(bO=function(b){return a.getComputedStyle(b,null)},bP=function(a,c,d){var e,f,g,h=d||bO(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||t.contains(a.ownerDocument,a)||(i=t.style(a,c)),bW.test(i)&&bU.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):f.documentElement.currentStyle&&(bO=function(a){return a.currentStyle},bP=function(a,c,d){var e,f,g,h=d||bO(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),bW.test(i)&&!bS.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),t.each(["height","width"],function(a,c){t.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&bT.test(t.css(a,"display"))?t.swap(a,bZ,function(){return cg(a,c,e)}):cg(a,c,e):b},set:function(a,b,d){var e=d&&bO(a);return ce(a,b,d?cf(a,c,d,t.support.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,e),e):0)}}}),t.support.opacity||(t.cssHooks.opacity={get:function(a,b){return bR.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=t.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===t.trim(f.replace(bQ,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=bQ.test(f)?f.replace(bQ,e):f+" "+e)}}),t(function(){t.support.reliableMarginRight||(t.cssHooks.marginRight={get:function(a,c){return c?t.swap(a,{display:"inline-block"},bP,[a,"marginRight"]):b}}),!t.support.pixelPosition&&t.fn.position&&t.each(["top","left"],function(a,c){t.cssHooks[c]={get:function(a,d){return d?(d=bP(a,c),bW.test(d)?t(a).position()[c]+"px":d):b}}})}),t.expr&&t.expr.filters&&(t.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!t.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||t.css(a,"display"))},t.expr.filters.visible=function(a){return!t.expr.filters.hidden(a)}),t.each({margin:"",padding:"",border:"Width"},function(a,b){t.cssHooks[a+b]={expand:function(c){var d=0,e={},f="string"==typeof c?c.split(" "):[c];for(;4>d;d++)e[a+b_[d]+b]=f[d]||f[d-2]||f[0];return e}},bU.test(a)||(t.cssHooks[a+b].set=ce)});var cj=/%20/g,ck=/\[\]$/,cl=/\r?\n/g,cm=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=t.prop(this,"elements");return a?t.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!t(this).is(":disabled")&&cn.test(this.nodeName)&&!cm.test(a)&&(this.checked||!bx.test(a))}).map(function(a,b){var c=t(this).val();return null==c?null:t.isArray(c)?t.map(c,function(a){return{name:b.name,value:a.replace(cl,"\r\n")}}):{name:b.name,value:c.replace(cl,"\r\n")}}).get()}}),t.param=function(a,c){var d,e=[],f=function(a,b){b=t.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(a)||a.jquery&&!t.isPlainObject(a))t.each(a,function(){f(this.name,this.value)});else for(d in a)co(d,a[d],c,f);return e.join("&").replace(cj,"+")},t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){t.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),t.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var cp,cq,cr=t.now(),cs=/\?/,ct=/#.*$/,cu=/([?&])_=[^&]*/,cv=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,cw=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,cx=/^(?:GET|HEAD)$/,cy=/^\/\//,cz=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cA=t.fn.load,cB={},cC={},cD="*/".concat("*");try{cq=g.href}catch(cE){cq=f.createElement("a"),cq.href="",cq=cq.href}cp=cz.exec(cq.toLowerCase())||[],t.fn.load=function(a,c,d){if("string"!=typeof a&&cA)return cA.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),t.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&t.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?t("<div>").append(t.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){t.fn[b]=function(a){return this.on(b,a)}}),t.each(["get","post"],function(a,c){t[c]=function(a,d,e,f){return t.isFunction(d)&&(f=f||e,e=d,d=b),t.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cq,type:"GET",isLocal:cw.test(cp[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cD,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?cH(cH(a,t.ajaxSettings),b):cH(t.ajaxSettings,a)},ajaxPrefilter:cF(cB),ajaxTransport:cF(cC),ajax:function(a,c){function z(a,c,d,e){var k,r,s,v,w,y=c;2!==u&&(u=2,h&&clearTimeout(h),j=b,g=e||"",x.readyState=a>0?4:0,d&&(v=cI(l,x,d)),a>=200&&300>a||304===a?(l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(t.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(t.etag[f]=w)),204===a?(k=!0,y="nocontent"):304===a?(k=!0,y="notmodified"):(k=cJ(l,v),y=k.state,r=k.data,s=k.error,k=!s)):(s=y,(a||!y)&&(y="error",0>a&&(a=0))),x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[r,y,x]):o.rejectWith(m,[x,y,s]),x.statusCode(q),q=b,i&&n.trigger(k?"ajaxSuccess":"ajaxError",[x,l,k?r:s]),p.fireWith(m,[x,y]),i&&(n.trigger("ajaxComplete",[x,l]),--t.active||t.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=t.ajaxSetup({},c),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?t(m):t.event,o=t.Deferred(),p=t.Callbacks("once memory"),q=l.statusCode||{},r={},s={},u=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=cv.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)q[b]=[q[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return j&&j.abort(b),z(0,b),this}};if(o.promise(x).complete=p.add,x.success=x.done,x.error=x.fail,l.url=((a||l.url||cq)+"").replace(ct,"").replace(cy,cp[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=t.trim(l.dataType||"*").toLowerCase().match(v)||[""],null==l.crossDomain&&(d=cz.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===cp[1]&&d[2]===cp[2]&&(d[3]||("http:"===d[1]?80:443))==(cp[3]||("http:"===cp[1]?80:443)))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=t.param(l.data,l.traditional)),cG(cB,l,c,x),2===u)return x;i=l.global,i&&0===t.active++&&t.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!cx.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(cs.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=cu.test(f)?f.replace(cu,"$1_="+cr++):f+(cs.test(f)?"&":"?")+"_="+cr++)),l.ifModified&&(t.lastModified[f]&&x.setRequestHeader("If-Modified-Since",t.lastModified[f]),t.etag[f]&&x.setRequestHeader("If-None-Match",t.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+cD+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)x.setRequestHeader(e,l.headers[e]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&2!==u){w="abort";for(e in{success:1,error:1,complete:1})x[e](l[e]);if(j=cG(cC,l,c,x)){x.readyState=1,i&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{u=1,j.send(r,z)}catch(y){if(2>u)z(-1,y);else throw y}}else z(-1,"No Transport");return x}return x.abort()},getScript:function(a,c){return t.get(a,b,c,"script")},getJSON:function(a,b,c){return t.get(a,b,c,"json")}}),t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return t.globalEval(a),a}}}),t.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),t.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=f.head||t("head")[0]||f.documentElement;return{send:function(b,e){c=f.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var cK=[],cL=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cK.pop()||t.expando+"_"+cr++;return this[a]=!0,a}}),t.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(cL.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cL.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=t.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(cL,"$1"+f):c.jsonp!==!1&&(c.url+=(cs.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||t.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cK.push(f)),h&&t.isFunction(g)&&g(h[0]),h=g=b}),"script"):b});var cM,cN,cO=0,cP=a.ActiveXObject&&function(){var a;for(a in cM)cM[a](b,!0)};t.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cQ()||cR()}:cQ,cN=t.ajaxSettings.xhr(),t.support.cors=!!cN&&"withCredentials"in cN,cN=t.support.ajax=!!cN,cN&&t.ajaxTransport(function(c){if(!c.crossDomain||t.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=t.noop,cP&&delete cM[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++cO,cP&&(cM||(cM={},t(a).unload(cP)),cM[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var cS,cT,cU=/^(?:toggle|show|hide)$/,cV=RegExp("^(?:([+-])=|)("+u+")([a-z%]*)$","i"),cW=/queueHooks$/,cX=[db],cY={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cV.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(t.cssNumber[a]?"":"px"),"px"!==d&&h){h=t.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,t.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};t.Animation=t.extend(c_,{tweener:function(a,b){t.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;e>d;d++)c=a[d],cY[c]=cY[c]||[],cY[c].unshift(b)},prefilter:function(a,b){b?cX.unshift(a):cX.push(a)}}),t.Tween=dc,dc.prototype={constructor:dc,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(t.cssNumber[c]?"":"px")},cur:function(){var a=dc.propHooks[this.prop];return a&&a.get?a.get(this):dc.propHooks._default.get(this)},run:function(a){var b,c=dc.propHooks[this.prop];return this.pos=b=this.options.duration?t.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):dc.propHooks._default.set(this),this}},dc.prototype.init.prototype=dc.prototype,dc.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=t.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){t.fx.step[a.prop]?t.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[t.cssProps[a.prop]]||t.cssHooks[a.prop])?t.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},dc.propHooks.scrollTop=dc.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},t.each(["toggle","show","hide"],function(a,b){var c=t.fn[b];t.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(dd(b,!0),a,d,e)}}),t.fn.extend({fadeTo:function(a,b,c,d){return this.filter(cc).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=t.isEmptyObject(a),f=t.speed(b,c,d),g=function(){var b=c_(this,t.extend({},a),f);g.finish=function(){b.stop(!0)},(e||t._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=t.timers,g=t._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cW.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&t.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=t._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=t.timers,g=d?d.length:0;for(c.finish=!0,t.queue(this,a,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),t.each({slideDown:dd("show"),slideUp:dd("hide"),slideToggle:dd("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){t.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),t.speed=function(a,b,c){var d=a&&"object"==typeof a?t.extend({},a):{complete:c||!c&&b||t.isFunction(a)&&a,duration:a,easing:c&&b||b&&!t.isFunction(b)&&b};return d.duration=t.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in t.fx.speeds?t.fx.speeds[d.duration]:t.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){t.isFunction(d.old)&&d.old.call(this),d.queue&&t.dequeue(this,d.queue)},d},t.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},t.timers=[],t.fx=dc.prototype.init,t.fx.tick=function(){var a,c=t.timers,d=0;for(cS=t.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||t.fx.stop(),cS=b},t.fx.timer=function(a){a()&&t.timers.push(a)&&t.fx.start()},t.fx.interval=13,t.fx.start=function(){cT||(cT=setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){clearInterval(cT),cT=null},t.fx.speeds={slow:600,fast:200,_default:400},t.fx.step={},t.expr&&t.expr.filters&&(t.expr.filters.animated=function(a){return t.grep(t.timers,function(b){return a===b.elem}).length}),t.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){t.offset.setOffset(this,a,b)});var c,d,f={top:0,left:0},g=this[0],h=g&&g.ownerDocument;if(h)return c=h.documentElement,t.contains(c,g)?(typeof g.getBoundingClientRect!==e&&(f=g.getBoundingClientRect()),d=de(h),{top:f.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:f.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):f},t.offset={setOffset:function(a,b,c){var d=t.css(a,"position");"static"===d&&(a.style.position="relative");var e=t(a),f=e.offset(),g=t.css(a,"top"),h=t.css(a,"left"),i=("absolute"===d||"fixed"===d)&&t.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),t.isFunction(b)&&(b=b.call(a,c,f)),null!=b.top&&(j.top=b.top-f.top+l),null!=b.left&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},t.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===t.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),t.nodeName(a[0],"html")||(c=a.offset()),c.top+=t.css(a[0],"borderTopWidth",!0),c.left+=t.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-t.css(d,"marginTop",!0),left:b.left-c.left-t.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||f.documentElement;while(a&&!t.nodeName(a,"html")&&"static"===t.css(a,"position"))a=a.offsetParent;return a||f.documentElement})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);t.fn[a]=function(e){return t.access(this,function(a,e,f){var g=de(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?t(g).scrollLeft():f,d?f:t(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}}),t.each({Height:"height",Width:"width"},function(a,c){t.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){t.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return t.access(this,function(c,d,e){var f;return t.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?t.css(c,d,h):t.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=t,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return t})})(window)
;(function(a){if(typeof bootstrap=="function")bootstrap("promise",a);else if(typeof exports=="object")module.exports=a();else if(typeof define=="function"&&define.amd)define(a);else if(typeof ses!="undefined"){if(!ses.ok())return;ses.makeQ=a}else Q=a()})(function(){function h(a){return function(){return g.apply(a,arguments)}}function q(a){return a===Object(a)}function r(a){return p(a)==="[object StopIteration]"||a instanceof s}function v(b,c){if(a&&c.stack&&typeof b=="object"&&b!==null&&b.stack&&b.stack.indexOf(u)===-1){var d=[];for(var e=c;!!e;e=e.source)e.stack&&d.unshift(e.stack);d.unshift(b.stack);var f=d.join("\n"+u+"\n");b.stack=w(f)}}function w(a){var b=a.split("\n"),c=[];for(var d=0;d<b.length;++d){var e=b[d];!z(e)&&!x(e)&&e&&c.push(e)}return c.join("\n")}function x(a){return a.indexOf("(module.js:")!==-1||a.indexOf("(node.js:")!==-1}function y(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);if(d)return[d[1],Number(d[2])]}function z(a){var b=y(a);if(!b)return!1;var e=b[0],f=b[1];return e===d&&f>=c&&f<=bk}function A(){if(!a)return;try{throw new Error}catch(b){var c=b.stack.split("\n"),e=c[0].indexOf("@")>0?c[1]:c[2],f=y(e);if(!f)return;return d=f[0],f[1]}}function B(a,b,c){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(b+" is deprecated, use "+c+" instead.",(new Error("")).stack),a.apply(a,arguments)}}function C(a){return J(a)?a:K(a)?Z(a):Y(a)}function D(){function k(a){d=a,g.source=a,j(b,function(b,c){f(function(){a.promiseDispatch.apply(a,c)})},void 0),b=void 0,c=void 0}var b=[],c=[],d,e=m(D.prototype),g=m(G.prototype);g.promiseDispatch=function(a,e,g){var h=i(arguments);b?(b.push(h),e==="when"&&g[1]&&c.push(g[1])):f(function(){d.promiseDispatch.apply(d,h)})},g.valueOf=B(function(){if(b)return g;var a=I(d);return J(a)&&(d=a),a},"valueOf","inspect"),g.inspect=function(){return d?d.inspect():{state:"pending"}};if(C.longStackSupport&&a)try{throw new Error}catch(h){g.stack=h.stack.substring(h.stack.indexOf("\n")+1)}return e.promise=g,e.resolve=function(a){if(d)return;k(C(a))},e.fulfill=function(a){if(d)return;k(Y(a))},e.reject=function(a){if(d)return;k(X(a))},e.notify=function(a){if(d)return;j(c,function(b,c){f(function(){c(a)})},void 0)},e}function E(a){if(typeof a!="function")throw new TypeError("resolver must be a function.");var b=D();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function F(a){return E(function(b,c){for(var d=0,e=a.length;d<e;d++)C(a[d]).then(b,c)})}function G(a,b,c){b===void 0&&(b=function(a){return X(new Error("Promise does not support operation: "+a))}),c===void 0&&(c=function(){return{state:"unknown"}});var d=m(G.prototype);d.promiseDispatch=function(c,e,f){var g;try{a[e]?g=a[e].apply(d,f):g=b.call(d,e,f)}catch(h){g=X(h)}c&&c(g)},d.inspect=c;if(c){var e=c();e.state==="rejected"&&(d.exception=e.reason),d.valueOf=B(function(){var a=c();return a.state==="pending"||a.state==="rejected"?d:a.value})}return d}function H(a,b,c,d){return C(a).then(b,c,d)}function I(a){if(J(a)){var b=a.inspect();if(b.state==="fulfilled")return b.value}return a}function J(a){return q(a)&&typeof a.promiseDispatch=="function"&&typeof a.inspect=="function"}function K(a){return q(a)&&typeof a.then=="function"}function L(a){return J(a)&&a.inspect().state==="pending"}function M(a){return!J(a)||a.inspect().state==="fulfilled"}function N(a){return J(a)&&a.inspect().state==="rejected"}function S(){!Q&&typeof window!="undefined"&&!window.Touch&&window.console&&console.warn("[Q] Unhandled rejection reasons (should be empty):",O),Q=!0}function T(){for(var a=0;a<O.length;a++){var b=O[a];console.warn("Unhandled rejection reason:",b)}}function U(){O.length=0,P.length=0,Q=!1,R||(R=!0,typeof process!="undefined"&&process.on&&process.on("exit",T))}function V(a,b){if(!R)return;P.push(a),b&&typeof b.stack!="undefined"?O.push(b.stack):O.push("(no stack) "+b),S()}function W(a){if(!R)return;var b=k(P,a);b!==-1&&(P.splice(b,1),O.splice(b,1))}function X(a){var b=G({when:function(b){return b&&W(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return V(b,a),b}function Y(a){return G({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return b===null||b===void 0?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return o(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function Z(a){var b=D();return f(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function $(a){return G({isDef:function(){}},function b(b,c){return be(a,b,c)},function(){return C(a).inspect()})}function _(a,b,c){return C(a).spread(b,c)}function ba(a){return function(){function b(a,b){var f;if(t){try{f=c[a](b)}catch(g){return X(g)}return f.done?f.value:H(f.value,d,e)}try{f=c[a](b)}catch(g){return r(g)?g.value:X(g)}return H(f,d,e)}var c=a.apply(this,arguments),d=b.bind(b,"next"),e=b.bind(b,"throw");return d()}}function bb(a){C.done(C.async(a)())}function bc(a){throw new s(a)}function bd(a){return function(){return _([this,bf(arguments)],function(b,c){return a.apply(b,c)})}}function be(a,b,c){return C(a).dispatch(b,c)}function bf(a){return H(a,function(a){var b=0,c=D();return j(a,function(d,e,f){var g;J(e)&&(g=e.inspect()).state==="fulfilled"?a[f]=g.value:(++b,H(e,function(d){a[f]=d,--b===0&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),b===0&&c.resolve(a),c.promise})}function bg(a){return H(a,function(a){return a=l(a,C),H(bf(l(a,function(a){return H(a,e,e)})),function(){return a})})}function bh(a){return C(a).allSettled()}function bi(a,b){return C(a).then(void 0,void 0,b)}function bj(a,b){return C(a).nodeify(b)}"use strict";var a=!1;try{throw new Error}catch(b){a=!!b.stack}var c=A(),d,e=function(){},f=function(){function g(){while(a.next){a=a.next;var b=a.task;a.task=void 0;var d=a.domain;d&&(a.domain=void 0,d.enter());try{b()}catch(f){if(e)throw d&&d.exit(),setTimeout(g,0),d&&d.enter(),f;setTimeout(function(){throw f},0)}d&&d.exit()}c=!1}var a={task:void 0,next:null},b=a,c=!1,d=void 0,e=!1;f=function(a){b=b.next={task:a,domain:e&&process.domain,next:null},c||(c=!0,d())};if(typeof process!="undefined"&&process.nextTick)e=!0,d=function(){process.nextTick(g)};else if(typeof setImmediate=="function")typeof window!="undefined"?d=setImmediate.bind(window,g):d=function(){setImmediate(g)};else if(typeof MessageChannel!="undefined"){var h=new MessageChannel;h.port1.onmessage=function(){d=i,h.port1.onmessage=g,g()};var i=function(){h.port2.postMessage(0)};d=function(){setTimeout(g,0),i()}}else d=function(){setTimeout(g,0)};return f}(),g=Function.call,i=h(Array.prototype.slice),j=h(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(arguments.length===1)do{if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}while(1);for(;c<d;c++)c in this&&(b=a(b,this[c],c));return b}),k=h(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),l=h(Array.prototype.map||function(a,b){var c=this,d=[];return j(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),m=Object.create||function(a){function b(){}return b.prototype=a,new b},n=h(Object.prototype.hasOwnProperty),o=Object.keys||function(a){var b=[];for(var c in a)n(a,c)&&b.push(c);return b},p=h(Object.prototype.toString),s;typeof ReturnValue!="undefined"?s=ReturnValue:s=function(a){this.value=a};var t;try{new Function("(function* (){ yield 1; })"),t=!0}catch(b){t=!1}var u="From previous event:";C.resolve=C,C.nextTick=f,C.longStackSupport=!1,C.defer=D,D.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(i(arguments,1)):a.resolve(c)}},C.promise=E,C.passByCopy=function(a){return a},G.prototype.passByCopy=function(){return this},C.join=function(a,b){return C(a).join(b)},G.prototype.join=function(a){return C([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},C.race=F,G.prototype.race=function(){return this.then(C.race)},C.makePromise=G,G.prototype.toString=function(){return"[object Promise]"},G.prototype.then=function(a,b,c){function h(b){try{return typeof a=="function"?a(b):b}catch(c){return X(c)}}function i(a){if(typeof b=="function"){v(a,d);try{return b(a)}catch(c){return X(c)}}return X(a)}function j(a){return typeof c=="function"?c(a):a}var d=this,e=D(),g=!1;return f(function(){d.promiseDispatch(function(a){if(g)return;g=!0,e.resolve(h(a))},"when",[function(a){if(g)return;g=!0,e.resolve(i(a))}])}),d.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=j(a)}catch(d){c=!0;if(C.onerror)C.onerror(d);else throw d}c||e.notify(b)}]),e.promise},C.when=H,G.prototype.thenResolve=function(a){return this.then(function(){return a})},C.thenResolve=function(a,b){return C(a).thenResolve(b)},G.prototype.thenReject=function(a){return this.then(function(){throw a})},C.thenReject=function(a,b){return C(a).thenReject(b)},C.nearer=I,C.isPromise=J,C.isPromiseAlike=K,C.isPending=L,G.prototype.isPending=function(){return this.inspect().state==="pending"},C.isFulfilled=M,G.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},C.isRejected=N,G.prototype.isRejected=function(){return this.inspect().state==="rejected"};var O=[],P=[],Q=!1,R=!0;C.resetUnhandledRejections=U,C.getUnhandledReasons=function(){return O.slice()},C.stopUnhandledRejectionTracking=function(){U(),typeof process!="undefined"&&process.on&&process.removeListener("exit",T),R=!1},U(),C.reject=X,C.fulfill=Y,C.master=$,C.spread=_,G.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},C.async=ba,C.spawn=bb,C["return"]=bc,C.promised=bd,C.dispatch=be,G.prototype.dispatch=function(a,b){var c=this,d=D();return f(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},C.get=function(a,b){return C(a).dispatch("get",[b])},G.prototype.get=function(a){return this.dispatch("get",[a])},C.set=function(a,b,c){return C(a).dispatch("set",[b,c])},G.prototype.set=function(a,b){return this.dispatch("set",[a,b])},C.del=C["delete"]=function(a,b){return C(a).dispatch("delete",[b])},G.prototype.del=G.prototype["delete"]=function(a){return this.dispatch("delete",[a])},C.mapply=C.post=function(a,b,c){return C(a).dispatch("post",[b,c])},G.prototype.mapply=G.prototype.post=function(a,b){return this.dispatch("post",[a,b])},C.send=C.mcall=C.invoke=function(a,b){return C(a).dispatch("post",[b,i(arguments,2)])},G.prototype.send=G.prototype.mcall=G.prototype.invoke=function(a){return this.dispatch("post",[a,i(arguments,1)])},C.fapply=function(a,b){return C(a).dispatch("apply",[void 0,b])},G.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},C["try"]=C.fcall=function(a){return C(a).dispatch("apply",[void 0,i(arguments,1)])},G.prototype.fcall=function(){return this.dispatch("apply",[void 0,i(arguments)])},C.fbind=function(a){var b=C(a),c=i(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(i(arguments))])}},G.prototype.fbind=function(){var a=this,b=i(arguments);return function(){return a.dispatch("apply",[this,b.concat(i(arguments))])}},C.keys=function(a){return C(a).dispatch("keys",[])},G.prototype.keys=function(){return this.dispatch("keys",[])},C.all=bf,G.prototype.all=function(){return bf(this)},C.allResolved=B(bg,"allResolved","allSettled"),G.prototype.allResolved=function(){return bg(this)},C.allSettled=bh,G.prototype.allSettled=function(){return this.then(function(a){return bf(l(a,function(a){function b(){return a.inspect()}return a=C(a),a.then(b,b)}))})},C.fail=C["catch"]=function(a,b){return C(a).then(void 0,b)},G.prototype.fail=G.prototype["catch"]=function(a){return this.then(void 0,a)},C.progress=bi,G.prototype.progress=function(a){return this.then(void 0,void 0,a)},C.fin=C["finally"]=function(a,b){return C(a)["finally"](b)},G.prototype.fin=G.prototype["finally"]=function(a){return a=C(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},C.done=function(a,b,c,d){return C(a).done(b,c,d)},G.prototype.done=function(a,b,c){var d=function(a){f(function(){v(a,e);if(C.onerror)C.onerror(a);else throw a})},e=a||b||c?this.then(a,b,c):this;typeof process=="object"&&process&&process.domain&&(d=process.domain.bind(d)),e.then(void 0,d)},C.timeout=function(a,b,c){return C(a).timeout(b,c)},G.prototype.timeout=function(a,b){var c=D(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},C.delay=function(a,b){return b===void 0&&(b=a,a=void 0),C(a).delay(b)},G.prototype.delay=function(a){return this.then(function(b){var c=D();return setTimeout(function(){c.resolve(b)},a),c.promise})},C.nfapply=function(a,b){return C(a).nfapply(b)},G.prototype.nfapply=function(a){var b=D(),c=i(a);return c.push(b.makeNodeResolver()),this.fapply(c).fail(b.reject),b.promise},C.nfcall=function(a){var b=i(arguments,1);return C(a).nfapply(b)},G.prototype.nfcall=function(){var a=i(arguments),b=D();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},C.nfbind=C.denodeify=function(a){var b=i(arguments,1);return function(){var c=b.concat(i(arguments)),d=D();return c.push(d.makeNodeResolver()),C(a).fapply(c).fail(d.reject),d.promise}},G.prototype.nfbind=G.prototype.denodeify=function(){var a=i(arguments);return a.unshift(this),C.denodeify.apply(void 0,a)},C.nbind=function(a,b){var c=i(arguments,2);return function(){function f(){return a.apply(b,arguments)}var d=c.concat(i(arguments)),e=D();return d.push(e.makeNodeResolver()),C(f).fapply(d).fail(e.reject),e.promise}},G.prototype.nbind=function(){var a=i(arguments,0);return a.unshift(this),C.nbind.apply(void 0,a)},C.nmapply=C.npost=function(a,b,c){return C(a).npost(b,c)},G.prototype.nmapply=G.prototype.npost=function(a,b){var c=i(b||[]),d=D();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},C.nsend=C.nmcall=C.ninvoke=function(a,b){var c=i(arguments,2),d=D();return c.push(d.makeNodeResolver()),C(a).dispatch("post",[b,c]).fail(d.reject),d.promise},G.prototype.nsend=G.prototype.nmcall=G.prototype.ninvoke=function(a){var b=i(arguments,1),c=D();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},C.nodeify=bj,G.prototype.nodeify=function(a){if(a)this.then(function(b){f(function(){a(null,b)})},function(b){f(function(){a(b)})});else return this};var bk=A();return C})
;(function(){var DEBUG=!1;(function(undefined){var window=this||(0,eval)("this"),document=window.document,navigator=window.navigator,jQuery=window.jQuery,JSON=window.JSON;(function(a){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var b=module.exports||exports;a(b)}else typeof define=="function"&&define.amd?define(["exports"],a):a(window.ko={})})(function(a){function c(a){var c=this;return a&&b.utils.objectForEach(a,function(a,d){var e=b.extenders[a];typeof e=="function"&&(c=e(c,d))}),c}function j(a){b.bindingHandlers[a]={init:function(c,d,e,f){var g=function(){var b={};return b[a]=d(),b};return b.bindingHandlers.event.init.call(this,c,g,e,f)}}}function n(a,c,d,e){b.bindingHandlers[a]={init:function(a,c,d,e,f){return b.utils.domData.set(a,m,{}),{controlsDescendantBindings:!0}},update:function(a,f,g,h,i){var j=b.utils.domData.get(a,m),k=b.utils.unwrapObservable(f()),l=!d!=!k,n=!j.savedNodes,o=n||c||l!==j.didDisplayOnLastUpdate;o&&(n&&(j.savedNodes=b.utils.cloneNodes(b.virtualElements.childNodes(a),!0)),l?(n||b.virtualElements.setDomNodeChildren(a,b.utils.cloneNodes(j.savedNodes)),b.applyBindingsToDescendants(e?e(i,k):i,a)):b.virtualElements.emptyNode(a),j.didDisplayOnLastUpdate=l)}},b.expressionRewriting.bindingRewriteValidators[a]=!1,b.virtualElements.allowedBindings[a]=!0}function o(a,c,d){d&&c!==b.selectExtensions.readValue(a)&&b.selectExtensions.writeValue(a,c),c!==b.selectExtensions.readValue(a)&&b.dependencyDetection.ignore(b.utils.triggerEvent,null,[a,"change"])}var b=typeof a!="undefined"?a:{};b.exportSymbol=function(a,c){var d=a.split("."),e=b;for(var f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c},b.exportProperty=function(a,b,c){a[b]=c},b.version="2.3.0",b.exportSymbol("version",b.version),b.utils=function(){function j(a,c){if(b.utils.tagNameLower(a)!=="input"||!a.type)return!1;if(c.toLowerCase()!="click")return!1;var d=a.type;return d=="checkbox"||d=="radio"}var a=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},c={},d={},e=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";c[e]=["keyup","keydown","keypress"],c.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],a(c,function(a,b){if(b.length)for(var c=0,e=b.length;c<e;c++)d[b[c]]=a});var f={propertychange:!0},g=document&&function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");while(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",c[0]);return a>4?a:undefined}(),h=g===6,i=g===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])},arrayIndexOf:function(a,b){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d]))return a[d];return null},arrayRemoveItem:function(a,c){var d=b.utils.arrayIndexOf(a,c);d>=0&&a.splice(d,1)},arrayGetDistinctValues:function(a){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)b.utils.arrayIndexOf(c,a[d])<0&&c.push(a[d]);return c},arrayMap:function(a,b){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)c.push(b(a[d]));return c},arrayFilter:function(a,b){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)b(a[d])&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(a,c,d){var e=a.indexOf?a.indexOf(c):b.utils.arrayIndexOf(a,c);e<0?d&&a.push(c):d||a.splice(e,1)},extend:function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},objectForEach:a,emptyDomNode:function(a){while(a.firstChild)b.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(a){var c=b.utils.makeArray(a),d=document.createElement("div");for(var e=0,f=c.length;e<f;e++)d.appendChild(b.cleanNode(c[e]));return d},cloneNodes:function(a,c){for(var d=0,e=a.length,f=[];d<e;d++){var g=a[d].cloneNode(!0);f.push(c?b.cleanNode(g):g)}return f},setDomNodeChildren:function(a,c){b.utils.emptyDomNode(a);if(c)for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])},replaceDomNodes:function(a,c){var d=a.nodeType?[a]:a;if(d.length>0){var e=d[0],f=e.parentNode;for(var g=0,h=c.length;g<h;g++)f.insertBefore(c[g],e);for(var g=0,h=d.length;g<h;g++)b.removeNode(d[g])}},setOptionNodeSelectionState:function(a,b){g<7?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return a===null||a===undefined?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(a,c){var d=[],e=(a||"").split(c);for(var f=0,g=e.length;f<g;f++){var h=b.utils.stringTrim(e[f]);h!==""&&d.push(h)}return d},stringStartsWith:function(a,b){return a=a||"",b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(b.compareDocumentPosition)return(b.compareDocumentPosition(a)&16)==16;while(a!=null){if(a==b)return!0;a=a.parentNode}return!1},domNodeIsAttachedToDocument:function(a){return b.utils.domNodeIsContainedBy(a,a.ownerDocument)},anyDomNodeIsAttachedToDocument:function(a){return!!b.utils.arrayFirst(a,b.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(a,c,d){var e=g&&f[c];if(!e&&typeof jQuery!="undefined"){if(j(a,c)){var h=d;d=function(a,b){var c=this.checked;b&&(this.checked=b.checkedStateBeforeEvent!==!0),h.call(this,a),this.checked=c}}jQuery(a).bind(c,d)}else if(!e&&typeof a.addEventListener=="function")a.addEventListener(c,d,!1);else{if(typeof a.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");var i=function(b){d.call(a,b)},k="on"+c;a.attachEvent(k,i),b.utils.domNodeDisposal.addDisposeCallback(a,function(){a.detachEvent(k,i)})}},triggerEvent:function(a,b){if(!a||!a.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined"){var c=[];j(a,b)&&c.push({checkedStateBeforeEvent:a.checked}),jQuery(a).trigger(b,c)}else if(typeof document.createEvent=="function"){if(typeof a.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var e=d[b]||"HTMLEvents",f=document.createEvent(e);f.initEvent(b,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f)}else if(typeof a.fireEvent!="undefined")j(a,b)&&(a.checked=a.checked!==!0),a.fireEvent("on"+b);else throw new Error("Browser doesn't support triggering events")},unwrapObservable:function(a){return b.isObservable(a)?a():a},peekObservable:function(a){return b.isObservable(a)?a.peek():a},toggleDomNodeCssClass:function(a,c,d){if(c){var e=/\S+/g,f=a.className.match(e)||[];b.utils.arrayForEach(c.match(e),function(a){b.utils.addOrRemoveItem(f,a,d)}),a.className=f.join(" ")}},setTextContent:function(a,c){var d=b.utils.unwrapObservable(c);if(d===null||d===undefined)d="";var e=b.virtualElements.firstChild(a);!e||e.nodeType!=3||b.virtualElements.nextSibling(e)?b.virtualElements.setDomNodeChildren(a,[document.createTextNode(d)]):e.data=d,b.utils.forceRefresh(a)},setElementName:function(a,b){a.name=b;if(g<=7)try{a.mergeAttributes(document.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){if(g>=9){var b=a.nodeType==1?a:a.parentNode;b.style&&(b.style.zoom=b.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(a){if(g){var b=a.style.width;a.style.width=0,a.style.width=b}},range:function(a,c){a=b.utils.unwrapObservable(a),c=b.utils.unwrapObservable(c);var d=[];for(var e=a;e<=c;e++)d.push(e);return d},makeArray:function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},isIe6:h,isIe7:i,ieVersion:g,getFormFields:function(a,c){var d=b.utils.makeArray(a.getElementsByTagName("input")).concat(b.utils.makeArray(a.getElementsByTagName("textarea"))),e=typeof c=="string"?function(a){return a.name===c}:function(a){return c.test(a.name)},f=[];for(var g=d.length-1;g>=0;g--)e(d[g])&&f.push(d[g]);return f},parseJson:function(a){if(typeof a=="string"){a=b.utils.stringTrim(a);if(a)return JSON&&JSON.parse?JSON.parse(a):(new Function("return "+a))()}return null},stringifyJson:function(a,c,d){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(b.utils.unwrapObservable(a),c,d)},postJson:function(c,d,e){e=e||{};var f=e.params||{},g=e.includeFields||this.fieldsIncludedWithJsonPost,h=c;if(typeof c=="object"&&b.utils.tagNameLower(c)==="form"){var i=c;h=i.action;for(var j=g.length-1;j>=0;j--){var k=b.utils.getFormFields(i,g[j]);for(var l=k.length-1;l>=0;l--)f[k[l].name]=k[l].value}}d=b.utils.unwrapObservable(d);var m=document.createElement("form");m.style.display="none",m.action=h,m.method="post";for(var n in d){var o=document.createElement("input");o.name=n,o.value=b.utils.stringifyJson(b.utils.unwrapObservable(d[n])),m.appendChild(o)}a(f,function(a,b){var c=document.createElement("input");c.name=a,c.value=b,m.appendChild(c)}),document.body.appendChild(m),e.submitter?e.submitter(m):m.submit(),setTimeout(function(){m.parentNode.removeChild(m)},0)}}}(),b.exportSymbol("utils",b.utils),b.exportSymbol("utils.arrayForEach",b.utils.arrayForEach),b.exportSymbol("utils.arrayFirst",b.utils.arrayFirst),b.exportSymbol("utils.arrayFilter",b.utils.arrayFilter),b.exportSymbol("utils.arrayGetDistinctValues",b.utils.arrayGetDistinctValues),b.exportSymbol("utils.arrayIndexOf",b.utils.arrayIndexOf),b.exportSymbol("utils.arrayMap",b.utils.arrayMap),b.exportSymbol("utils.arrayPushAll",b.utils.arrayPushAll),b.exportSymbol("utils.arrayRemoveItem",b.utils.arrayRemoveItem),b.exportSymbol("utils.extend",b.utils.extend),b.exportSymbol("utils.fieldsIncludedWithJsonPost",b.utils.fieldsIncludedWithJsonPost),b.exportSymbol("utils.getFormFields",b.utils.getFormFields),b.exportSymbol("utils.peekObservable",b.utils.peekObservable),b.exportSymbol("utils.postJson",b.utils.postJson),b.exportSymbol("utils.parseJson",b.utils.parseJson),b.exportSymbol("utils.registerEventHandler",b.utils.registerEventHandler),b.exportSymbol("utils.stringifyJson",b.utils.stringifyJson),b.exportSymbol("utils.range",b.utils.range),b.exportSymbol("utils.toggleDomNodeCssClass",b.utils.toggleDomNodeCssClass),b.exportSymbol("utils.triggerEvent",b.utils.triggerEvent),b.exportSymbol("utils.unwrapObservable",b.utils.unwrapObservable),b.exportSymbol("utils.objectForEach",b.utils.objectForEach),b.exportSymbol("utils.addOrRemoveItem",b.utils.addOrRemoveItem),b.exportSymbol("unwrap",b.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments),a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}}),b.utils.domData=new function(){var a=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(a,c){var d=b.utils.domData.getAll(a,!1);return d===undefined?undefined:d[c]},set:function(a,c,d){if(d===undefined&&b.utils.domData.getAll(a,!1)===undefined)return;var e=b.utils.domData.getAll(a,!0);e[c]=d},getAll:function(b,e){var f=b[c],g=f&&f!=="null"&&d[f];if(!g){if(!e)return undefined;f=b[c]="ko"+a++,d[f]={}}return d[f]},clear:function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}}},b.exportSymbol("utils.domData",b.utils.domData),b.exportSymbol("utils.domData.clear",b.utils.domData.clear),b.utils.domNodeDisposal=new function(){function e(c,d){var e=b.utils.domData.get(c,a);return e===undefined&&d&&(e=[],b.utils.domData.set(c,a,e)),e}function f(c){b.utils.domData.set(c,a,undefined)}function g(a){var c=e(a,!1);if(c){c=c.slice(0);for(var f=0;f<c.length;f++)c[f](a)}b.utils.domData.clear(a),typeof jQuery=="function"&&typeof jQuery["cleanData"]=="function"&&jQuery.cleanData([a]),d[a.nodeType]&&h(a)}function h(a){var b,c=a.firstChild;while(b=c)c=b.nextSibling,b.nodeType===8&&g(b)}var a="__ko_domNodeDisposal__"+(new Date).getTime(),c={1:!0,8:!0,9:!0},d={1:!0,9:!0};return{addDisposeCallback:function(a,b){if(typeof b!="function")throw new Error("Callback must be a function");e(a,!0).push(b)},removeDisposeCallback:function(a,c){var d=e(a,!1);d&&(b.utils.arrayRemoveItem(d,c),d.length==0&&f(a))},cleanNode:function(a){if(c[a.nodeType]){g(a);if(d[a.nodeType]){var e=[];b.utils.arrayPushAll(e,a.getElementsByTagName("*"));for(var f=0,h=e.length;f<h;f++)g(e[f])}}return a},removeNode:function(a){b.cleanNode(a),a.parentNode&&a.parentNode.removeChild(a)}}},b.cleanNode=b.utils.domNodeDisposal.cleanNode,b.removeNode=b.utils.domNodeDisposal.removeNode,b.exportSymbol("cleanNode",b.cleanNode),b.exportSymbol("removeNode",b.removeNode),b.exportSymbol("utils.domNodeDisposal",b.utils.domNodeDisposal),b.exportSymbol("utils.domNodeDisposal.addDisposeCallback",b.utils.domNodeDisposal.addDisposeCallback),b.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",b.utils.domNodeDisposal.removeDisposeCallback),function(){function c(a){var c=b.utils.stringTrim(a).toLowerCase(),d=document.createElement("div"),e=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],f="ignored<div>"+e[1]+a+e[2]+"</div>";typeof window["innerShiv"]=="function"?d.appendChild(window.innerShiv(f)):d.innerHTML=f;while(e[0]--)d=d.lastChild;return b.utils.makeArray(d.lastChild.childNodes)}function d(a){if(jQuery.parseHTML)return jQuery.parseHTML(a)||[];var b=jQuery.clean([a]);if(b&&b[0]){var c=b[0];while(c.parentNode&&c.parentNode.nodeType!==11)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}return b}var a=/^(\s*)<!--(.*?)-->/;b.utils.parseHtmlFragment=function(a){return typeof jQuery!="undefined"?d(a):c(a)},b.utils.setHtml=function(a,c){b.utils.emptyDomNode(a),c=b.utils.unwrapObservable(c);if(c!==null&&c!==undefined){typeof c!="string"&&(c=c.toString());if(typeof jQuery!="undefined")jQuery(a).html(c);else{var d=b.utils.parseHtmlFragment(c);for(var e=0;e<d.length;e++)a.appendChild(d[e])}}}}(),b.exportSymbol("utils.parseHtmlFragment",b.utils.parseHtmlFragment),b.exportSymbol("utils.setHtml",b.utils.setHtml),b.memoization=function(){function c(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function d(){return c()+c()}function e(a,c){if(!a)return;if(a.nodeType==8){var d=b.memoization.parseMemoText(a.nodeValue);d!=null&&c.push({domNode:a,memoId:d})}else if(a.nodeType==1)for(var f=0,g=a.childNodes,h=g.length;f<h;f++)e(g[f],c)}var a={};return{memoize:function(b){if(typeof b!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var c=d();return a[c]=b,"<!--[ko_memo:"+c+"]-->"},unmemoize:function(b,c){var d=a[b];if(d===undefined)throw new Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return d.apply(null,c||[]),!0}finally{delete a[b]}},unmemoizeDomNodeAndDescendants:function(a,c){var d=[];e(a,d);for(var f=0,g=d.length;f<g;f++){var h=d[f].domNode,i=[h];c&&b.utils.arrayPushAll(i,c),b.memoization.unmemoize(d[f].memoId,i),h.nodeValue="",h.parentNode&&h.parentNode.removeChild(h)}},parseMemoText:function(a){var b=a.match(/^\[ko_memo\:(.*?)\]$/);return b?b[1]:null}}}(),b.exportSymbol("memoization",b.memoization),b.exportSymbol("memoization.memoize",b.memoization.memoize),b.exportSymbol("memoization.unmemoize",b.memoization.unmemoize),b.exportSymbol("memoization.parseMemoText",b.memoization.parseMemoText),b.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",b.memoization.unmemoizeDomNodeAndDescendants),b.extenders={throttle:function(a,c){a.throttleEvaluation=c;var d=null;return b.dependentObservable({read:a,write:function(b){clearTimeout(d),d=setTimeout(function(){a(b)},c)}})},notify:function(a,c){return a.equalityComparer=c=="always"?function(){return!1}:b.observable.fn.equalityComparer,a}},b.exportSymbol("extenders",b.extenders),b.subscription=function(a,c,d){this.target=a,this.callback=c,this.disposeCallback=d,b.exportProperty(this,"dispose",this.dispose)},b.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},b.subscribable=function(){this._subscriptions={},b.utils.extend(this,b.subscribable.fn),b.exportProperty(this,"subscribe",this.subscribe),b.exportProperty(this,"extend",this.extend),b.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var d="change";b.subscribable.fn={subscribe:function(a,c,e){e=e||d;var f=c?a.bind(c):a,g=new b.subscription(this,f,function(){b.utils.arrayRemoveItem(this._subscriptions[e],g)}.bind(this));return this._subscriptions[e]||(this._subscriptions[e]=[]),this._subscriptions[e].push(g),g},notifySubscribers:function(a,c){c=c||d,this._subscriptions[c]&&b.dependencyDetection.ignore(function(){b.utils.arrayForEach(this._subscriptions[c].slice(0),function(b){b&&b.isDisposed!==!0&&b.callback(a)})},this)},getSubscriptionsCount:function(){var a=0;return b.utils.objectForEach(this._subscriptions,function(b,c){a+=c.length}),a},extend:c},b.isSubscribable=function(a){return a!=null&&typeof a.subscribe=="function"&&typeof a["notifySubscribers"]=="function"},b.exportSymbol("subscribable",b.subscribable),b.exportSymbol("isSubscribable",b.isSubscribable),b.dependencyDetection=function(){var a=[];return{begin:function(b){a.push({callback:b,distinctDependencies:[]})},end:function(){a.pop()},registerDependency:function(c){if(!b.isSubscribable(c))throw new Error("Only subscribable things can act as dependencies");if(a.length>0){var d=a[a.length-1];if(!d||b.utils.arrayIndexOf(d.distinctDependencies,c)>=0)return;d.distinctDependencies.push(c),d.callback(c)}},ignore:function(b,c,d){try{return a.push(null),b.apply(c,d||[])}finally{a.pop()}}}}();var e={"undefined":!0,"boolean":!0,number:!0,string:!0};b.observable=function(a){function d(){if(arguments.length>0){if(!d.equalityComparer||!d.equalityComparer(c,arguments[0]))d.valueWillMutate(),c=arguments[0],DEBUG&&(d._latestValue=c),d.valueHasMutated();return this}return b.dependencyDetection.registerDependency(d),c}var c=a;return DEBUG&&(d._latestValue=c),b.subscribable.call(d),d.peek=function(){return c},d.valueHasMutated=function(){d.notifySubscribers(c)},d.valueWillMutate=function(){d.notifySubscribers(c,"beforeChange")},b.utils.extend(d,b.observable.fn),b.exportProperty(d,"peek",d.peek),b.exportProperty(d,"valueHasMutated",d.valueHasMutated),b.exportProperty(d,"valueWillMutate",d.valueWillMutate),d},b.observable.fn={equalityComparer:function(a,b){var c=a===null||typeof a in e;return c?a===b:!1}};var f=b.observable.protoProperty="__ko_proto__";b.observable.fn[f]=b.observable,b.hasPrototype=function(a,c){return a===null||a===undefined||a[f]===undefined?!1:a[f]===c?!0:b.hasPrototype(a[f],c)},b.isObservable=function(a){return b.hasPrototype(a,b.observable)},b.isWriteableObservable=function(a){return typeof a=="function"&&a[f]===b.observable?!0:typeof a=="function"&&a[f]===b.dependentObservable&&a.hasWriteFunction?!0:!1},b.exportSymbol("observable",b.observable),b.exportSymbol("isObservable",b.isObservable),b.exportSymbol("isWriteableObservable",b.isWriteableObservable),b.observableArray=function(a){a=a||[];if(typeof a=="object"&&"length"in a){var c=b.observable(a);return b.utils.extend(c,b.observableArray.fn),c}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},b.observableArray.fn={remove:function(a){var b=this.peek(),c=[],d=typeof a=="function"?a:function(b){return b===a};for(var e=0;e<b.length;e++){var f=b[e];d(f)&&(c.length===0&&this.valueWillMutate(),c.push(f),b.splice(e,1),e--)}return c.length&&this.valueHasMutated(),c},removeAll:function(a){if(a===undefined){var c=this.peek(),d=c.slice(0);return this.valueWillMutate(),c.splice(0,c.length),this.valueHasMutated(),d}return a?this.remove(function(c){return b.utils.arrayIndexOf(a,c)>=0}):[]},destroy:function(a){var b=this.peek(),c=typeof a=="function"?a:function(b){return b===a};this.valueWillMutate();for(var d=b.length-1;d>=0;d--){var e=b[d];c(e)&&(b[d]._destroy=!0)}this.valueHasMutated()},destroyAll:function(a){return a===undefined?this.destroy(function(){return!0}):a?this.destroy(function(c){return b.utils.arrayIndexOf(a,c)>=0}):[]},indexOf:function(a){var c=this();return b.utils.arrayIndexOf(c,a)},replace:function(a,b){var c=this.indexOf(a);c>=0&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}},b.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){b.observableArray.fn[a]=function(){var b=this.peek();this.valueWillMutate();var c=b[a].apply(b,arguments);return this.valueHasMutated(),c}}),b.utils.arrayForEach(["slice"],function(a){b.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),b.exportSymbol("observableArray",b.observableArray),b.dependentObservable=function(a,c,d){function i(a){t.push(a.subscribe(k))}function j(){b.utils.arrayForEach(t,function(a){a.dispose()}),t=[]}function k(){var a=m.throttleEvaluation;a&&a>=0?(clearTimeout(u),u=setTimeout(l,a)):l()}function l(){if(g)return;if(f&&r()){s();return}g=!0;try{var a=b.utils.arrayMap(t,function(a){return a.target});b.dependencyDetection.begin(function(c){var d;(d=b.utils.arrayIndexOf(a,c))>=0?a[d]=undefined:i(c)});var d=h.call(c);for(var j=a.length-1;j>=0;j--)a[j]&&t.splice(j,1)[0].dispose();f=!0,m.notifySubscribers(e,"beforeChange"),e=d,DEBUG&&(m._latestValue=e),m.notifySubscribers(e)}finally{b.dependencyDetection.end(),g=!1}t.length||s()}function m(){if(arguments.length>0){if(typeof p=="function")p.apply(c,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return f||l(),b.dependencyDetection.registerDependency(m),e}function n(){return f||l(),e}function o(){return!f||t.length>0}var e,f=!1,g=!1,h=a;h&&typeof h=="object"?(d=h,h=d.read):(d=d||{},h||(h=d.read));if(typeof h!="function")throw new Error("Pass a function that returns the value of the ko.computed");var p=d.write,q=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,r=d.disposeWhen||d.disposeWhen||function(){return!1},s=j,t=[],u=null;c||(c=d.owner),m.peek=n,m.getDependenciesCount=function(){return t.length},m.hasWriteFunction=typeof d.write=="function",m.dispose=function(){s()},m.isActive=o,b.subscribable.call(m),b.utils.extend(m,b.dependentObservable.fn),b.exportProperty(m,"peek",m.peek),b.exportProperty(m,"dispose",m.dispose),b.exportProperty(m,"isActive",m.isActive),b.exportProperty(m,"getDependenciesCount",m.getDependenciesCount),d.deferEvaluation!==!0&&l();if(q&&o()){s=function(){b.utils.domNodeDisposal.removeDisposeCallback(q,s),j()},b.utils.domNodeDisposal.addDisposeCallback(q,s);var v=r;r=function(){return!b.utils.domNodeIsAttachedToDocument(q)||v()}}return m},b.isComputed=function(a){return b.hasPrototype(a,b.dependentObservable)};var g=b.observable.protoProperty;b.dependentObservable[g]=b.observable,b.dependentObservable.fn={},b.dependentObservable.fn[g]=b.dependentObservable,b.exportSymbol("dependentObservable",b.dependentObservable),b.exportSymbol("computed",b.dependentObservable),b.exportSymbol("isComputed",b.isComputed),function(){function c(a,b,f){f=f||new e,a=b(a);var g=typeof a=="object"&&a!==null&&a!==undefined&&!(a instanceof Date)&&!(a instanceof String)&&!(a instanceof Number)&&!(a instanceof Boolean);if(!g)return a;var h=a instanceof Array?[]:{};return f.save(a,h),d(a,function(d){var e=b(a[d]);switch(typeof e){case"boolean":case"number":case"string":case"function":h[d]=e;break;case"object":case"undefined":var g=f.get(e);h[d]=g!==undefined?g:c(e,b,f)}}),h}function d(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);typeof a["toJSON"]=="function"&&b("toJSON")}else for(var d in a)b(d)}function e(){this.keys=[],this.values=[]}var a=10;b.toJS=function(d){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return c(d,function(c){for(var d=0;b.isObservable(c)&&d<a;d++)c=c();return c})},b.toJSON=function(a,c,d){var e=b.toJS(a);return b.utils.stringifyJson(e,c,d)},e.prototype={constructor:e,save:function(a,c){var d=b.utils.arrayIndexOf(this.keys,a);d>=0?this.values[d]=c:(this.keys.push(a),this.values.push(c))},get:function(a){var c=b.utils.arrayIndexOf(this.keys,a);return c>=0?this.values[c]:undefined}}}(),b.exportSymbol("toJS",b.toJS),b.exportSymbol("toJSON",b.toJSON),function(){var a="__ko__hasDomDataOptionValue__";b.selectExtensions={readValue:function(c){switch(b.utils.tagNameLower(c)){case"option":if(c[a]===!0)return b.utils.domData.get(c,b.bindingHandlers.options.optionValueDomDataKey);return b.utils.ieVersion<=7?c.getAttributeNode("value")&&c.getAttributeNode("value").specified?c.value:c.text:c.value;case"select":return c.selectedIndex>=0?b.selectExtensions.readValue(c.options[c.selectedIndex]):undefined;default:return c.value}},writeValue:function(c,d){switch(b.utils.tagNameLower(c)){case"option":switch(typeof d){case"string":b.utils.domData.set(c,b.bindingHandlers.options.optionValueDomDataKey,undefined),a in c&&delete c[a],c.value=d;break;default:b.utils.domData.set(c,b.bindingHandlers.options.optionValueDomDataKey,d),c[a]=!0,c.value=typeof d=="number"?d:""}break;case"select":d===""&&(d=undefined);if(d===null||d===undefined)c.selectedIndex=-1;for(var e=c.options.length-1;e>=0;e--)if(b.selectExtensions.readValue(c.options[e])==d){c.selectedIndex=e;break}!(c.size>1)&&c.selectedIndex===-1&&(c.selectedIndex=0);break;default:if(d===null||d===undefined)d="";c.value=d}}}}(),b.exportSymbol("selectExtensions",b.selectExtensions),b.exportSymbol("selectExtensions.readValue",b.selectExtensions.readValue),b.exportSymbol("selectExtensions.writeValue",b.selectExtensions.writeValue),b.expressionRewriting=function(){function e(b,c){var d=null;while(b!=d)d=b,b=b.replace(a,function(a,b){return c[b]});return b}function f(a){if(b.utils.arrayIndexOf(c,b.utils.stringTrim(a).toLowerCase())>=0)return!1;var e=a.match(d);return e===null?!1:e[1]?"Object("+e[1]+")"+e[2]:a}function g(a){var c=b.utils.stringTrim(a);switch(c.length&&c.charAt(0)){case"'":case'"':return a;default:return"'"+c+"'"}}var a=/\@ko_token_(\d+)\@/g,c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{bindingRewriteValidators:[],parseObjectLiteral:function(a){var c=b.utils.stringTrim(a);if(c.length<3)return[];c.charAt(0)==="{"&&(c=c.substring(1,c.length-1));var d=[],f=null,g;for(var h=0;h<c.length;h++){var i=c.charAt(h);if(f===null)switch(i){case'"':case"'":case"/":f=h,g=i}else if(i==g&&c.charAt(h-1)!=="\\"){var j=c.substring(f,h+1);d.push(j);var k="@ko_token_"+(d.length-1)+"@";c=c.substring(0,f)+k+c.substring(h+1),h-=j.length-k.length,f=null}}f=null,g=null;var l=0,m=null;for(var h=0;h<c.length;h++){var i=c.charAt(h);if(f===null)switch(i){case"{":f=h,m=i,g="}";break;case"(":f=h,m=i,g=")";break;case"[":f=h,m=i,g="]"}if(i===m)l++;else if(i===g){l--;if(l===0){var j=c.substring(f,h+1);d.push(j);var k="@ko_token_"+(d.length-1)+"@";c=c.substring(0,f)+k+c.substring(h+1),h-=j.length-k.length,f=null}}}var n=[],o=c.split(",");for(var p=0,q=o.length;p<q;p++){var r=o[p],s=r.indexOf(":");if(s>0&&s<r.length-1){var t=r.substring(0,s),u=r.substring(s+1);n.push({key:e(t,d),value:e(u,d)})}else n.push({unknown:e(r,d)})}return n},preProcessBindings:function(a){var c=typeof a=="string"?b.expressionRewriting.parseObjectLiteral(a):a,d=[],e=[],h;for(var i=0;h=c[i];i++){d.length>0&&d.push(",");if(h.key){var j=g(h.key),k=h.value;d.push(j),d.push(":"),d.push(k);if(k=f(b.utils.stringTrim(k)))e.length>0&&e.push(", "),e.push(j+" : function(__ko_value) { "+k+" = __ko_value; }")}else h.unknown&&d.push(h.unknown)}var l=d.join("");if(e.length>0){var m=e.join("");l=l+", '_ko_property_writers' : { "+m+" } "}return l},keyValueArrayContainsKey:function(a,c){for(var d=0;d<a.length;d++)if(b.utils.stringTrim(a[d]["key"])==c)return!0;return!1},writeValueToProperty:function(a,c,d,e,f){if(!a||!b.isObservable(a)){var g=c()._ko_property_writers;g&&g[d]&&g[d](e)}else b.isWriteableObservable(a)&&(!f||a.peek()!==e)&&a(e)}}}(),b.exportSymbol("expressionRewriting",b.expressionRewriting),b.exportSymbol("expressionRewriting.bindingRewriteValidators",b.expressionRewriting.bindingRewriteValidators),b.exportSymbol("expressionRewriting.parseObjectLiteral",b.expressionRewriting.parseObjectLiteral),b.exportSymbol("expressionRewriting.preProcessBindings",b.expressionRewriting.preProcessBindings),b.exportSymbol("jsonExpressionRewriting",b.expressionRewriting),b.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.expressionRewriting.preProcessBindings),function(){function f(b){return b.nodeType==8&&(a?b.text:b.nodeValue).match(c)}function g(b){return b.nodeType==8&&(a?b.text:b.nodeValue).match(d)}function h(a,b){var c=a,d=1,e=[];while(c=c.nextSibling){if(g(c)){d--;if(d===0)return e}e.push(c),f(c)&&d++}if(!b)throw new Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function i(a,b){var c=h(a,b);return c?c.length>0?c[c.length-1].nextSibling:a.nextSibling:null}function j(a){var b=a.firstChild,c=null;if(b)do if(c)c.push(b);else if(f(b)){var d=i(b,!0);d?b=d:c=[b]}else g(b)&&(c=[b]);while(b=b.nextSibling);return c}var a=document&&document.createComment("test").text==="<!--test-->",c=a?/^<!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*-->$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,d=a?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,e={ul:!0,ol:!0};b.virtualElements={allowedBindings:{},childNodes:function(a){return f(a)?h(a):a.childNodes},emptyNode:function(a){if(!f(a))b.utils.emptyDomNode(a);else{var c=b.virtualElements.childNodes(a);for(var d=0,e=c.length;d<e;d++)b.removeNode(c[d])}},setDomNodeChildren:function(a,c){if(!f(a))b.utils.setDomNodeChildren(a,c);else{b.virtualElements.emptyNode(a);var d=a.nextSibling;for(var e=0,g=c.length;e<g;e++)d.parentNode.insertBefore(c[e],d)}},prepend:function(a,b){f(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},insertAfter:function(a,c,d){d?f(a)?a.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?a.insertBefore(c,d.nextSibling):a.appendChild(c):b.virtualElements.prepend(a,c)},firstChild:function(a){return f(a)?!a.nextSibling||g(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){return f(a)&&(a=i(a)),a.nextSibling&&g(a.nextSibling)?null:a.nextSibling},virtualNodeBindingValue:function(a){var b=f(a);return b?b[1]:null},normaliseVirtualElementDomStructure:function(a){if(!e[b.utils.tagNameLower(a)])return;var c=a.firstChild;if(c)do if(c.nodeType===1){var d=j(c);if(d){var f=c.nextSibling;for(var g=0;g<d.length;g++)f?a.insertBefore(d[g],f):a.appendChild(d[g])}}while(c=c.nextSibling)}}}(),b.exportSymbol("virtualElements",b.virtualElements),b.exportSymbol("virtualElements.allowedBindings",b.virtualElements.allowedBindings),b.exportSymbol("virtualElements.emptyNode",b.virtualElements.emptyNode),b.exportSymbol("virtualElements.insertAfter",b.virtualElements.insertAfter),b.exportSymbol("virtualElements.prepend",b.virtualElements.prepend),b.exportSymbol("virtualElements.setDomNodeChildren",b.virtualElements.setDomNodeChildren),function(){function c(a,b){var c=a;return b[c]||(b[c]=d(a))}function d(a){var c=b.expressionRewriting.preProcessBindings(a),d="with($context){with($data||{}){return{"+c+"}}}";return new Function("$context","$element",d)}var a="data-bind";b.bindingProvider=function(){this.bindingCache={}},b.utils.extend(b.bindingProvider.prototype,{nodeHasBindings:function(c){switch(c.nodeType){case 1:return c.getAttribute(a)!=null;case 8:return b.virtualElements.virtualNodeBindingValue(c)!=null;default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b,a):null},getBindingsString:function(c,d){switch(c.nodeType){case 1:return c.getAttribute(a);case 8:return b.virtualElements.virtualNodeBindingValue(c);default:return null}},parseBindingsString:function(a,b,d){try{var e=c(a,this.bindingCache);return e(b,d)}catch(f){throw f.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+f.message,f}}}),b.bindingProvider.instance=new b.bindingProvider}(),b.exportSymbol("bindingProvider",b.bindingProvider),function(){function a(a){var c=b.virtualElements.allowedBindings[a];if(!c)throw new Error("The binding '"+a+"' cannot be used with virtual elements")}function c(a,c,e){var f,g=b.virtualElements.firstChild(c);while(f=g)g=b.virtualElements.nextSibling(f),d(a,f,e)}function d(a,d,e){var g=!0,h=d.nodeType===1;h&&b.virtualElements.normaliseVirtualElementDomStructure(d);var i=h&&e||b.bindingProvider.instance.nodeHasBindings(d);i&&(g=f(d,null,a,e).shouldBindDescendants),g&&c(a,d,!h)}function f(c,d,f,g){function j(a){return function(){return i[a]}}function k(){return i}var h=0,i,l,m=b.utils.domData.get(c,e);if(!d){if(m)throw Error("You cannot apply bindings multiple times to the same element.");b.utils.domData.set(c,e,!0)}return b.dependentObservable(function(){var e=f&&f instanceof b.bindingContext?f:new b.bindingContext(b.utils.unwrapObservable(f)),n=e.$data;!m&&g&&b.storedBindingContextForNode(c,e);var o=typeof d=="function"?d(e,c):d;i=o||b.bindingProvider.instance.getBindings(c,e),i&&(h===0&&(h=1,b.utils.objectForEach(i,function(d){var f=b.bindingHandlers[d];f&&c.nodeType===8&&a(d);if(f&&typeof f["init"]=="function"){var g=f.init,h=g(c,j(d),k,n,e);if(h&&h.controlsDescendantBindings){if(l!==undefined)throw new Error("Multiple bindings ("+l+" and "+d+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=d}}}),h=2),h===2&&b.utils.objectForEach(i,function(a){var d=b.bindingHandlers[a];if(d&&typeof d["update"]=="function"){var f=d.update;f(c,j(a),k,n,e)}}))},null,{disposeWhenNodeIsRemoved:c}),{shouldBindDescendants:l===undefined}}b.bindingHandlers={},b.bindingContext=function(a,c,d){c?(b.utils.extend(this,c),this.$parentContext=c,this.$parent=c.$data,this.$parents=(c.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a,this.ko=b),this.$data=a,d&&(this[d]=a)},b.bindingContext.prototype.createChildContext=function(a,c){return new b.bindingContext(a,this,c)},b.bindingContext.prototype.extend=function(a){var c=b.utils.extend(new b.bindingContext,this);return b.utils.extend(c,a)};var e="__ko_boundElement",g="__ko_bindingContext__";b.storedBindingContextForNode=function(a,c){if(arguments.length==2)b.utils.domData.set(a,g,c);else return b.utils.domData.get(a,g)},b.applyBindingsToNode=function(a,c,d){return a.nodeType===1&&b.virtualElements.normaliseVirtualElementDomStructure(a),f(a,c,d,!0)},b.applyBindingsToDescendants=function(a,b){(b.nodeType===1||b.nodeType===8)&&c(a,b,!0)},b.applyBindings=function(a,b){if(b&&b.nodeType!==1&&b.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||window.document.body,d(a,b,!0)},b.contextFor=function(a){switch(a.nodeType){case 1:case 8:var c=b.storedBindingContextForNode(a);if(c)return c;if(a.parentNode)return b.contextFor(a.parentNode)}return undefined},b.dataFor=function(a){var c=b.contextFor(a);return c?c.$data:undefined},b.exportSymbol("bindingHandlers",b.bindingHandlers),b.exportSymbol("applyBindings",b.applyBindings),b.exportSymbol("applyBindingsToDescendants",b.applyBindingsToDescendants),b.exportSymbol("applyBindingsToNode",b.applyBindingsToNode),b.exportSymbol("contextFor",b.contextFor),b.exportSymbol("dataFor",b.dataFor)}();var h={"class":"className","for":"htmlFor"};b.bindingHandlers.attr={update:function(a,c,d){var e=b.utils.unwrapObservable(c())||{};b.utils.objectForEach(e,function(c,d){d=b.utils.unwrapObservable(d);var e=d===!1||d===null||d===undefined;e&&a.removeAttribute(c),b.utils.ieVersion<=8&&c in h?(c=h[c],e?a.removeAttribute(c):a[c]=d):e||a.setAttribute(c,d.toString()),c==="name"&&b.utils.setElementName(a,e?"":d.toString())})}},b.bindingHandlers.checked={init:function(a,c,d){var e=function(){var e;if(a.type=="checkbox")e=a.checked;else if(a.type=="radio"&&a.checked)e=a.value;else return;var f=c(),g=b.utils.unwrapObservable(f);a.type=="checkbox"&&g instanceof Array?b.utils.addOrRemoveItem(f,a.value,a.checked):b.expressionRewriting.writeValueToProperty(f,d,"checked",e,!0)};b.utils.registerEventHandler(a,"click",e),a.type=="radio"&&!a.name&&b.bindingHandlers.uniqueName.init(a,function(){return!0})},update:function(a,c){var d=b.utils.unwrapObservable(c());a.type=="checkbox"?d instanceof Array?a.checked=b.utils.arrayIndexOf(d,a.value)>=0:a.checked=d:a.type=="radio"&&(a.checked=a.value==d)}};var i="__ko__cssValue";b.bindingHandlers.css={update:function(a,c){var d=b.utils.unwrapObservable(c());typeof d=="object"?b.utils.objectForEach(d,function(c,d){d=b.utils.unwrapObservable(d),b.utils.toggleDomNodeCssClass(a,c,d)}):(d=String(d||""),b.utils.toggleDomNodeCssClass(a,a[i],!1),a[i]=d,b.utils.toggleDomNodeCssClass(a,d,!0))}},b.bindingHandlers.enable={update:function(a,c){var d=b.utils.unwrapObservable(c());d&&a.disabled?a.removeAttribute("disabled"):!d&&!a.disabled&&(a.disabled=!0)}},b.bindingHandlers.disable={update:function(a,c){b.bindingHandlers.enable.update(a,function(){return!b.utils.unwrapObservable(c())})}},b.bindingHandlers.event={init:function(a,c,d,e){var f=c()||{};b.utils.objectForEach(f,function(f){typeof f=="string"&&b.utils.registerEventHandler(a,f,function(a){var g,h=c()[f];if(!h)return;var i=d();try{var j=b.utils.makeArray(arguments);j.unshift(e),g=h.apply(e,j)}finally{g!==!0&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}var k=i[f+"Bubble"]!==!1;k||(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())})})}},b.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var c=a(),d=b.utils.peekObservable(c);return!d||typeof d.length=="number"?{foreach:c,templateEngine:b.nativeTemplateEngine.instance}:(b.utils.unwrapObservable(c),{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:b.nativeTemplateEngine.instance})}},init:function(a,c,d,e,f){return b.bindingHandlers.template.init(a,b.bindingHandlers.foreach.makeTemplateValueAccessor(c))},update:function(a,c,d,e,f){return b.bindingHandlers.template.update(a,b.bindingHandlers.foreach.makeTemplateValueAccessor(c),d,e,f)}},b.expressionRewriting.bindingRewriteValidators.foreach=!1,b.virtualElements.allowedBindings.foreach=!0;var k="__ko_hasfocusUpdating",l="__ko_hasfocusLastValue";b.bindingHandlers.hasfocus={init:function(a,c,d){var e=function(e){a[k]=!0;var f=a.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(h){g=f.body}e=g===a}var i=c();b.expressionRewriting.writeValueToProperty(i,d,"hasfocus",e,!0),a[l]=e,a[k]=!1},f=e.bind(null,!0),g=e.bind(null,!1);b.utils.registerEventHandler(a,"focus",f),b.utils.registerEventHandler(a,"focusin",f),b.utils.registerEventHandler(a,"blur",g),b.utils.registerEventHandler(a,"focusout",g)},update:function(a,c){var d=!!b.utils.unwrapObservable(c());!a[k]&&a[l]!==d&&(d?a.focus():a.blur(),b.dependencyDetection.ignore(b.utils.triggerEvent,null,[a,d?"focusin":"focusout"]))}},b.bindingHandlers.hasFocus=b.bindingHandlers.hasfocus,b.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c){b.utils.setHtml(a,c())}};var m="__ko_withIfBindingData";n("if"),n("ifnot",!1,!0),n("with",!0,!1,function(a,b){return a.createChildContext(b)}),b.bindingHandlers.options={init:function(a){if(b.utils.tagNameLower(a)!=="select")throw new Error("options binding applies only to SELECT elements");while(a.length>0)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,c,d){function n(a,b,c){var d=typeof b;return d=="function"?b(a):d=="string"?a[b]:c}function p(a,c,d){d.length&&(l=d[0].selected&&[b.selectExtensions.readValue(d[0])]);var e=document.createElement("option");if(a===j)b.utils.setHtml(e,k),b.selectExtensions.writeValue(e,undefined);else{var f=n(a,h.optionsValue,a);b.selectExtensions.writeValue(e,b.utils.unwrapObservable(f));var g=n(a,h.optionsText,f);b.utils.setTextContent(e,g)}return[e]}function q(a,c){if(l){var d=b.utils.arrayIndexOf(l,b.selectExtensions.readValue(c[0]))>=0;b.utils.setOptionNodeSelectionState(c[0],d)}}var e=a.length==0,f=!e&&a.multiple?a.scrollTop:null,g=b.utils.unwrapObservable(c()),h=d(),i=h.optionsIncludeDestroyed,j={},k,l;a.multiple?l=b.utils.arrayMap(a.selectedOptions||b.utils.arrayFilter(a.childNodes,function(a){return a.tagName&&b.utils.tagNameLower(a)==="option"&&a.selected}),function(a){return b.selectExtensions.readValue(a)}):a.selectedIndex>=0&&(l=[b.selectExtensions.readValue(a.options[a.selectedIndex])]);if(g){typeof g.length=="undefined"&&(g=[g]);var m=b.utils.arrayFilter(g,function(a){return i||a===undefined||a===null||!b.utils.unwrapObservable(a._destroy)});"optionsCaption"in h&&(k=b.utils.unwrapObservable(h.optionsCaption),k!==null&&k!==undefined&&m.unshift(j))}else g=[];var r=q;h.optionsAfterRender&&(r=function(a,c){q(a,c),b.dependencyDetection.ignore(h.optionsAfterRender,null,[c[0],a!==j?a:undefined])}),b.utils.setDomNodeChildrenFromArrayMapping(a,m,p,null,r),l=null,e&&"value"in h&&o(a,b.utils.peekObservable(h.value),!0),b.utils.ensureSelectElementIsRenderedCorrectly(a),f&&Math.abs(f-a.scrollTop)>20&&(a.scrollTop=f)}},b.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",b.bindingHandlers.selectedOptions={init:function(a,c,d){b.utils.registerEventHandler(a,"change",function(){var e=c(),f=[];b.utils.arrayForEach(a.getElementsByTagName("option"),function(a){a.selected&&f.push(b.selectExtensions.readValue(a))}),b.expressionRewriting.writeValueToProperty(e,d,"selectedOptions",f)})},update:function(a,c){if(b.utils.tagNameLower(a)!="select")throw new Error("values binding applies only to SELECT elements");var d=b.utils.unwrapObservable(c());d&&typeof d.length=="number"&&b.utils.arrayForEach(a.getElementsByTagName("option"),function(a){var c=b.utils.arrayIndexOf(d,b.selectExtensions.readValue(a))>=0;b.utils.setOptionNodeSelectionState(a,c)})}},b.bindingHandlers.style={update:function(a,c){var d=b.utils.unwrapObservable(c()||{});b.utils.objectForEach(d,function(c,d){d=b.utils.unwrapObservable(d),a.style[c]=d||""})}},b.bindingHandlers.submit={init:function(a,c,d,e){if(typeof c()!="function")throw new Error("The value for a submit binding must be a function");b.utils.registerEventHandler(a,"submit",function(b){var d,f=c();try{d=f.call(e,a)}finally{d!==!0&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}})}},b.bindingHandlers.text={update:function(a,c){b.utils.setTextContent(a,c())}},b.virtualElements.allowedBindings.text=!0,b.bindingHandlers.uniqueName={init:function(a,c){if(c()){var d="ko_unique_"+ ++b.bindingHandlers.uniqueName.currentIndex;b.utils.setElementName(a,d)}}},b.bindingHandlers.uniqueName.currentIndex=0,b.bindingHandlers.value={init:function(a,c,d){var e=["change"],f=d().valueUpdate,g=!1;f&&(typeof f=="string"&&(f=[f]),b.utils.arrayPushAll(e,f),e=b.utils.arrayGetDistinctValues(e));var h=function(){g=!1;var e=c(),f=b.selectExtensions.readValue(a);b.expressionRewriting.writeValueToProperty(e,d,"value",f)},i=b.utils.ieVersion&&a.tagName.toLowerCase()=="input"&&a.type=="text"&&a.autocomplete!="off"&&(!a.form||a.form.autocomplete!="off");i&&b.utils.arrayIndexOf(e,"propertychange")==-1&&(b.utils.registerEventHandler(a,"propertychange",function(){g=!0}),b.utils.registerEventHandler(a,"blur",function(){g&&h()})),b.utils.arrayForEach(e,function(c){var d=h;b.utils.stringStartsWith(c,"after")&&(d=function(){setTimeout(h,0)},c=c.substring("after".length)),b.utils.registerEventHandler(a,c,d)})},update:function(a,c){var d=b.utils.tagNameLower(a)==="select",e=b.utils.unwrapObservable(c()),f=b.selectExtensions.readValue(a),g=e!==f;if(g){var h=function(){b.selectExtensions.writeValue(a,e)};h();var i=d;i&&setTimeout(h,0)}d&&a.length>0&&o(a,e,!1)}},b.bindingHandlers.visible={update:function(a,c){var d=b.utils.unwrapObservable(c()),e=a.style.display!="none";d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}},j("click"),b.templateEngine=function(){},b.templateEngine.prototype.renderTemplateSource=function(a,b,c){throw new Error("Override renderTemplateSource")},b.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw new Error("Override createJavaScriptEvaluatorBlock")},b.templateEngine.prototype.makeTemplateSource=function(a,c){if(typeof a=="string"){c=c||document;var d=c.getElementById(a);if(!d)throw new Error("Cannot find template with ID "+a);return new b.templateSources.domElement(d)}if(a.nodeType==1||a.nodeType==8)return new b.templateSources.anonymousTemplate(a);throw new Error("Unknown template type: "+a)},b.templateEngine.prototype.renderTemplate=function(a,b,c,d){var e=this.makeTemplateSource(a,d);return this.renderTemplateSource(e,b,c)},b.templateEngine.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(a,b).data("isRewritten")},b.templateEngine.prototype.rewriteTemplate=function(a,b,c){var d=this.makeTemplateSource(a,c),e=b(d.text());d.text(e),d.data("isRewritten",!0)},b.exportSymbol("templateEngine",b.templateEngine),b.templateRewriting=function(){function d(a){var c=b.expressionRewriting.bindingRewriteValidators;for(var d=0;d<a.length;d++){var e=a[d].key;if(c.hasOwnProperty(e)){var f=c[e];if(typeof f=="function"){var g=f(a[d].value);if(g)throw new Error(g)}else if(!f)throw new Error("This template engine does not support the '"+e+"' binding within its templates")}}}function e(a,c,e,f){var g=b.expressionRewriting.parseObjectLiteral(a);d(g);var h=b.expressionRewriting.preProcessBindings(g),i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+h+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(i)+c}var a=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(a,c,d){c.isTemplateRewritten(a,d)||c.rewriteTemplate(a,function(a){return b.templateRewriting.memoizeBindingAttributeSyntax(a,c)},d)},memoizeBindingAttributeSyntax:function(b,d){return b.replace(a,function(){return e(arguments[4],arguments[1],arguments[2],d)}).replace(c,function(){return e(arguments[1],"<!-- ko -->","#comment",d)})},applyMemoizedBindingsToNextSibling:function(a,c){return b.memoization.memoize(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===c&&b.applyBindingsToNode(f,a,e)})}}}(),b.exportSymbol("__tr_ambtns",b.templateRewriting.applyMemoizedBindingsToNextSibling),function(){b.templateSources={},b.templateSources.domElement=function(a){this.domElement=a},b.templateSources.domElement.prototype.text=function(){var a=b.utils.tagNameLower(this.domElement),c=a==="script"?"text":a==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[c];var d=arguments[0];c==="innerHTML"?b.utils.setHtml(this.domElement,d):this.domElement[c]=d},b.templateSources.domElement.prototype.data=function(a){if(arguments.length===1)return b.utils.domData.get(this.domElement,"templateSourceData_"+a);b.utils.domData.set(this.domElement,"templateSourceData_"+a,arguments[1])};var a="__ko_anon_template__";b.templateSources.anonymousTemplate=function(a){this.domElement=a},b.templateSources.anonymousTemplate.prototype=new b.templateSources.domElement,b.templateSources.anonymousTemplate.prototype.constructor=b.templateSources.anonymousTemplate,b.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var c=b.utils.domData.get(this.domElement,a)||{};return c.textData===undefined&&c.containerData&&(c.textData=c.containerData.innerHTML),c.textData}var d=arguments[0];b.utils.domData.set(this.domElement,a,{textData:d})},b.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var c=b.utils.domData.get(this.domElement,a)||{};return c.containerData}var d=arguments[0];b.utils.domData.set(this.domElement,a,{containerData:d})},b.exportSymbol("templateSources",b.templateSources),b.exportSymbol("templateSources.domElement",b.templateSources.domElement),b.exportSymbol("templateSources.anonymousTemplate",b.templateSources.anonymousTemplate)}(),function(){function c(a,c,d){var e,f=a,g=b.virtualElements.nextSibling(c);while(f&&(e=f)!==g)f=b.virtualElements.nextSibling(e),(e.nodeType===1||e.nodeType===8)&&d(e)}function d(a,d){if(a.length){var e=a[0],f=a[a.length-1];c(e,f,function(a){b.applyBindings(d,a)}),c(e,f,function(a){b.memoization.unmemoizeDomNodeAndDescendants(a,[d])})}}function e(a){return a.nodeType?a:a.length>0?a[0]:null}function f(c,f,g,h,i){i=i||{};var j=c&&e(c),k=j&&j.ownerDocument,l=i.templateEngine||a;b.templateRewriting.ensureTemplateIsRewritten(g,l,k);var m=l.renderTemplate(g,h,i,k);if(typeof m.length!="number"||m.length>0&&typeof m[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var n=!1;switch(f){case"replaceChildren":b.virtualElements.setDomNodeChildren(c,m),n=!0;break;case"replaceNode":b.utils.replaceDomNodes(c,m),n=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+f)}return n&&(d(m,h),i.afterRender&&b.dependencyDetection.ignore(i.afterRender,null,[m,h.$data])),m}function h(a,c){var d=b.utils.domData.get(a,g);d&&typeof d.dispose=="function"&&d.dispose(),b.utils.domData.set(a,g,c&&c.isActive()?c:undefined)}var a;b.setTemplateEngine=function(c){if(c==undefined||c instanceof b.templateEngine)a=c;else throw new Error("templateEngine must inherit from ko.templateEngine")},b.renderTemplate=function(c,d,g,h,i){g=g||{};if((g["templateEngine"]||a)==undefined)throw new Error("Set a template engine before calling renderTemplate");i=i||"replaceChildren";if(h){var j=e(h),k=function(){return!j||!b.utils.domNodeIsAttachedToDocument(j)},l=j&&i=="replaceNode"?j.parentNode:j;return b.dependentObservable(function(){var a=d&&d instanceof b.bindingContext?d:new b.bindingContext(b.utils.unwrapObservable(d)),k=typeof c=="function"?c(a.$data,a):c,l=f(h,i,k,a,g);i=="replaceNode"&&(h=l,j=e(h))},null,{disposeWhen:k,disposeWhenNodeIsRemoved:l})}return b.memoization.memoize(function(a){b.renderTemplate(c,d,g,a,"replaceNode")})},b.renderTemplateForEach=function(a,c,e,g,h){var i,j=function(c,d){i=h.createChildContext(b.utils.unwrapObservable(c),e.as),i.$index=d;var g=typeof a=="function"?a(c,i):a;return f(null,"ignoreTargetNode",g,i,e)},k=function(a,b,c){d(b,i),e.afterRender&&e.afterRender(b,a)};return b.dependentObservable(function(){var a=b.utils.unwrapObservable(c)||[];typeof a.length=="undefined"&&(a=[a]);var d=b.utils.arrayFilter(a,function(a){return e.includeDestroyed||a===undefined||a===null||!b.utils.unwrapObservable(a._destroy)});b.dependencyDetection.ignore(b.utils.setDomNodeChildrenFromArrayMapping,null,[g,d,j,e,k])},null,{disposeWhenNodeIsRemoved:g})};var g="__ko__templateComputedDomDataKey__";b.bindingHandlers.template={init:function(a,c){var d=b.utils.unwrapObservable(c());if(typeof d!="string"&&!d.name&&(a.nodeType==1||a.nodeType==8)){var e=a.nodeType==1?a.childNodes:b.virtualElements.childNodes(a),f=b.utils.moveCleanedNodesToContainerElement(e);(new b.templateSources.anonymousTemplate(a)).nodes(f)}return{controlsDescendantBindings:!0}},update:function(a,c,d,e,f){var g=b.utils.unwrapObservable(c()),i={},j=!0,k,l=null;typeof g!="string"&&(i=g,g=b.utils.unwrapObservable(i.name),"if"in i&&(j=b.utils.unwrapObservable(i["if"])),j&&"ifnot"in i&&(j=!b.utils.unwrapObservable(i.ifnot)),k=b.utils.unwrapObservable(i.data));if("foreach"in i){var m=j&&i.foreach||[];l=b.renderTemplateForEach(g||a,m,i,a,f)}else if(!j)b.virtualElements.emptyNode(a);else{var n="data"in i?f.createChildContext(k,i.as):f;l=b.renderTemplate(g||a,n,i,a)}h(a,l)}},b.expressionRewriting.bindingRewriteValidators.template=function(a){var c=b.expressionRewriting.parseObjectLiteral(a);return c.length==1&&c[0].unknown?null:b.expressionRewriting.keyValueArrayContainsKey(c,"name")?null:"This template engine does not support anonymous templates nested within its templates"},b.virtualElements.allowedBindings.template=!0}(),b.exportSymbol("setTemplateEngine",b.setTemplateEngine),b.exportSymbol("renderTemplate",b.renderTemplate),b.utils.compareArrays=function(){function c(c,e,f){return c=c||[],e=e||[],c.length<=e.length?d(c,e,a,b,f):d(e,c,b,a,f)}function d(a,b,c,d,e){var f=Math.min,g=Math.max,h=[],i,j=a.length,k,l=b.length,m=l-j||1,n=j+l+1,o,p,q,r;for(i=0;i<=j;i++){p=o,h.push(o=[]),q=f(l,i+m),r=g(0,i-1);for(k=r;k<=q;k++)if(!k)o[k]=i+1;else if(!i)o[k]=k+1;else if(a[i-1]===b[k-1])o[k]=p[k-1];else{var s=p[k]||n,t=o[k-1]||n;o[k]=f(s,t)+1}}var u=[],v,w=[],x=[];for(i=j,k=l;i||k;)v=h[i][k]-1,k&&v===h[i][k-1]?w.push(u[u.length]={status:c,value:b[--k],index:k}):i&&v===h[i-1][k]?x.push(u[u.length]={status:d,value:a[--i],index:i}):(u.push({status:"retained",value:b[--k]}),--i);if(w.length&&x.length){var y=j*10,z,A,B,C,D;for(z=A=0;(e||z<y)&&(C=w[A]);A++){for(B=0;D=x[B];B++)if(C.value===D.value){C.moved=D.index,D.moved=C.index,x.splice(B,1),z=B=0;break}z+=B}}return u.reverse()}var a="added",b="deleted";return c}(),b.exportSymbol("utils.compareArrays",b.utils.compareArrays),function(){function a(a){while(a.length&&!b.utils.domNodeIsAttachedToDocument(a[0]))a.splice(0,1);if(a.length>1){var c=a[0],d=a[a.length-1],e=[c];while(c!==d){c=c.nextSibling;if(!c)return;e.push(c)}Array.prototype.splice.apply(a,[0,a.length].concat(e))}return a}function c(c,d,e,f,g){var h=[],i=b.dependentObservable(function(){var c=d(e,g,a(h))||[];h.length>0&&(b.utils.replaceDomNodes(h,c),f&&b.dependencyDetection.ignore(f,null,[e,c,g])),h.splice(0,h.length),b.utils.arrayPushAll(h,c)},null,{disposeWhenNodeIsRemoved:c,disposeWhen:function(){return!b.utils.anyDomNodeIsAttachedToDocument(h)}});return{mappedNodes:h,dependentObservable:i.isActive()?i:undefined}}var d="setDomNodeChildrenFromArrayMapping_lastMappingResult";b.utils.setDomNodeChildrenFromArrayMapping=function(e,f,g,h,i){function w(b,c){v=k[c],p!==c&&(t[b]=v),v.indexObservable(p++),a(v.mappedNodes),n.push(v),r.push(v)}function x(a,c){if(a)for(var d=0,e=c.length;d<e;d++)c[d]&&b.utils.arrayForEach(c[d].mappedNodes,function(b){a(b,d,c[d].arrayEntry)})}f=f||[],h=h||{};var j=b.utils.domData.get(e,d)===undefined,k=b.utils.domData.get(e,d)||[],l=b.utils.arrayMap(k,function(a){return a.arrayEntry}),m=b.utils.compareArrays(l,f,h.dontLimitMoves),n=[],o=0,p=0,q=[],r=[],s=[],t=[],u=[],v;for(var y=0,z,A;z=m[y];y++){A=z.moved;switch(z.status){case"deleted":A===undefined&&(v=k[o],v.dependentObservable&&v.dependentObservable.dispose(),q.push.apply(q,a(v.mappedNodes)),h.beforeRemove&&(s[y]=v,r.push(v))),o++;break;case"retained":w(y,o++);break;case"added":A!==undefined?w(y,A):(v={arrayEntry:z.value,indexObservable:b.observable(p++)},n.push(v),r.push(v),j||(u[y]=v))}}x(h.beforeMove,t),b.utils.arrayForEach(q,h.beforeRemove?b.cleanNode:b.removeNode);for(var y=0,B=b.virtualElements.firstChild(e),C,D;v=r[y];y++){v.mappedNodes||b.utils.extend(v,c(e,g,v.arrayEntry,i,v.indexObservable));for(var E=0;D=v.mappedNodes[E];B=D.nextSibling,C=D,E++)D!==B&&b.virtualElements.insertAfter(e,D,C);!v.initialized&&i&&(i(v.arrayEntry,v.mappedNodes,v.indexObservable),v.initialized=!0)}x(h.beforeRemove,s),x(h.afterMove,t),x(h.afterAdd,u),b.utils.domData.set(e,d,n)}}(),b.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",b.utils.setDomNodeChildrenFromArrayMapping),b.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},b.nativeTemplateEngine.prototype=new b.templateEngine,b.nativeTemplateEngine.prototype.constructor=b.nativeTemplateEngine,b.nativeTemplateEngine.prototype.renderTemplateSource=function(a,c,d){var e=!(b.utils.ieVersion<9),f=e?a.nodes:null,g=f?a.nodes():null;if(g)return b.utils.makeArray(g.cloneNode(!0).childNodes);var h=a.text();return b.utils.parseHtmlFragment(h)},b.nativeTemplateEngine.instance=new b.nativeTemplateEngine,b.setTemplateEngine(b.nativeTemplateEngine.instance),b.exportSymbol("nativeTemplateEngine",b.nativeTemplateEngine),function(){b.jqueryTmplTemplateEngine=function(){function b(){if(a<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function c(a,b,c){return jQuery.tmpl(a,b,c)}var a=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();this.renderTemplateSource=function(a,d,e){e=e||{},b();var f=a.data("precompiled");if(!f){var g=a.text()||"";g="{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}",f=jQuery.template(null,g),a.data("precompiled",f)}var h=[d.$data],i=jQuery.extend({koBindingContext:d},e.templateOptions),j=c(f,h,i);return j.appendTo(document.createElement("div")),jQuery.fragments={},j},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){document.write("<script type='text/html' id='"+a+"'>"+b+"<"+"/script>")},a>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},b.jqueryTmplTemplateEngine.prototype=new b.templateEngine,b.jqueryTmplTemplateEngine.prototype.constructor=b.jqueryTmplTemplateEngine;var a=new b.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&b.setTemplateEngine(a),b.exportSymbol("jqueryTmplTemplateEngine",b.jqueryTmplTemplateEngine)}()})})()})()
;(function(a){a(["jquery"],function(a){return function(){function b(a,b,c){return j({type:r.error,iconClass:l().iconClasses.error,message:a,optionsOverride:c,title:b})}function c(a,b,c){return j({type:r.info,iconClass:l().iconClasses.info,message:a,optionsOverride:c,title:b})}function d(a){p=a}function e(a,b,c){return j({type:r.success,iconClass:l().iconClasses.success,message:a,optionsOverride:c,title:b})}function f(a,b,c){return j({type:r.warning,iconClass:l().iconClasses.warning,message:a,optionsOverride:c,title:b})}function g(b){var c=l();o||k(c);if(b&&a(":focus",b).length===0){b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){m(b)}});return}o.children().length&&o[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){o.remove()}})}function h(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function i(a){if(!p)return;p(a)}function j(b){function c(b){if(a(":focus",j).length&&!b)return;return j[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){m(j),f.onHidden&&f.onHidden(),s.state="hidden",s.endTime=new Date,i(s)}})}function d(){if(f.timeOut>0||f.extendedTimeOut>0)h=setTimeout(c,f.extendedTimeOut)}function e(){clearTimeout(h),j.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}var f=l(),g=b.iconClass||f.iconClass;typeof b.optionsOverride!="undefined"&&(f=a.extend(f,b.optionsOverride),g=b.optionsOverride.iconClass||g),q++,o=k(f);var h=null,j=a("<div/>"),n=a("<div/>"),p=a("<div/>"),r=a(f.closeHtml),s={toastId:q,state:"visible",startTime:new Date,options:f,map:b};return b.iconClass&&j.addClass(f.toastClass).addClass(g),b.title&&(n.append(b.title).addClass(f.titleClass),j.append(n)),b.message&&(p.append(b.message).addClass(f.messageClass),j.append(p)),f.closeButton&&(r.addClass("toast-close-button"),j.prepend(r)),j.hide(),f.newestOnTop?o.prepend(j):o.append(j),j[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(h=setTimeout(c,f.timeOut)),j.hover(e,d),!f.onclick&&f.tapToDismiss&&j.click(c),f.closeButton&&r&&r.click(function(a){a.stopPropagation(),c(!0)}),f.onclick&&j.click(function(){f.onclick(),c()}),i(s),f.debug&&console&&console.log(s),j}function k(b){return b||(b=l()),o=a("#"+b.containerId),o.length?o:(o=a("<div/>").attr("id",b.containerId).addClass(b.positionClass),o.appendTo(a(b.target)),o)}function l(){return a.extend({},h(),s.options)}function m(a){o||(o=k());if(a.is(":visible"))return;a.remove(),a=null,o.children().length===0&&o.remove()}var n="2.0.1",o,p,q=0,r={error:"error",info:"info",success:"success",warning:"warning"},s={clear:g,error:b,getContainer:k,info:c,options:{},subscribe:d,success:e,version:n,warning:f};return s}()})})(typeof define=="function"&&define.amd?define:function(a,b){typeof module!="undefined"&&module.exports?module.exports=b(require(a[0])):window.toastr=b(window.jQuery)})
;!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define?define(a):breeze=a()}(function(){function a(a,b){for(var c in a)R(a,c)&&b(c,a[c])}function b(a,b){for(var c in a)if(R(a,c)){var d=a[c];if(b(c,d))return{key:c,value:d}}return null}function c(a,b){var c=[];for(var d in a)if(R(a,d)){var e=b?b(d,a[d]):a[d];void 0!==e&&c.push(e)}return c}function d(a,b){return function(c){return c[a]===b}}function e(a){return function(b){return b[a]}}function f(a){var b=[];for(var c in a)R(a,c)&&b.push(a[c]);return b}function g(a,b){if(!b)return a;for(var c in b)R(b,c)&&(a[c]=b[c]);return a}function h(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a}function i(a,b){return b.defaultInstance=h(new b(a),b.defaultInstance),a}function j(a,b){var c={};for(var d in b)if(d in a){var e=a[d],f=b[d];e!=f&&(Array.isArray(e)&&0===e.length||("function"==typeof f?e=f(e):"object"==typeof e&&e&&e.parentEnum&&(e=e.name),void 0!==e&&(c[d]=e)))}return c}function k(a,b){var c={},d=a.length;return b.forEach(function(b){for(var e=0;d>e;e++){var f=a[e];if(f){var g=f[b];if(void 0!==g){c[b]=g;break}}}}),c}function l(a){return a?Array.isArray(a)?a:[a]:[]}function m(a,b){for(var c=0,d=a.length;d>c;c++)if(b(a[c]))return a[c];return null}function n(a,b){for(var c=0,d=a.length;d>c;c++)if(b(a[c]))return c;return-1}function o(a,b,c){for(var d=B(b)?b:void 0,e=a.length-1,f=!1,g=e;g>=0;g--)if((d?d(a[g]):a[g]===b)&&(a.splice(g,1),f=!0,!c))return f;return f}function p(a,b,c){for(var d=[],e=Math.min(a.length,b.length),f=0;e>f;++f)d.push(c(a[f],b[f]));return d}function q(a,b,c){if(!a||!b)return!1;if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(Array.isArray(a[d])){if(!q(a[d],b[d]))return!1}else if(c){if(!c(a[d],b[d]))return!1}else if(a[d]!==b[d])return!1;return!0}function r(a,b){var c=a[b];return c||(c=[],a[b]=c),c}function s(a,b){for(var c=a.split(";"),d=0,e=c.length;e>d;d++){var f=t(c[d]);if(f)return f}if(b)throw new Error("Unable to initialize "+a+".  "+b||"")}function t(a){var b;try{if(this.window){var c=this.window;if(b=c[a])return b;if(c.require&&(b=c.require(a)),b)return b}require&&(b=require(a))}catch(d){}return b}function u(a,b,c,d){var e=a[b];if(c===e)return d();a[b]=c;try{return d()}finally{void 0===e?delete a[b]:a[b]=e}}function v(a,b,c){var d;try{return d=a(),c()}catch(e){throw"object"==typeof d&&(d.error=e),e}finally{b(d)}}function w(a){return function(){for(var b=S(arguments),c="",d=b.length,e=null;d--;)e=b[d],c+=e===Object(e)?JSON.stringify(e):e,a.memoize||(a.memoize={});return c in a.memoize?a.memoize[c]:a.memoize[c]=a.apply(this,b)}}function x(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=0|16*Math.random(),c="x"==a?b:8|3&b;return c.toString(16)})}function y(a){if("string"!=typeof a)throw new Error("Invalid ISO8601 duration '"+a+"'");var b=/^P((\d+Y)?(\d+M)?(\d+D)?)?(T(\d+H)?(\d+M)?(\d+S)?)?$/.exec(a);if(!b)throw new Error("Invalid ISO8601 duration '"+a+"'");for(var c=[2,3,4,6,7,8],d=[31104e3,2592e3,86400,3600,60,1],e=0,f=0;6>f;f++){var g=b[c[f]];g=g?+g.replace(/[A-Za-z]+/g,""):0,e+=g*d[f]}return e}function z(a){return null===a?"null":void 0===a?"undefined":Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function A(a){return"date"===z(a)&&!isNaN(a.getTime())}function B(a){return"function"===z(a)}function C(a){return"string"==typeof a&&/[a-fA-F\d]{8}-(?:[a-fA-F\d]{4}-){3}[a-fA-F\d]{12}/.test(a)}function D(a){return"string"==typeof a&&/^(-|)?P[T]?[\d\.,\-]+[YMDTHS]/.test(a)}function E(a){if(null===a||void 0===a)return!0;for(var b in a)if(R(a,b))return!1;return!0}function F(a){return!isNaN(parseFloat(a))&&isFinite(a)}function G(a,b){return a&&b?0===a.indexOf(b,0):!1}function H(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1}function I(a){var b=arguments,c=RegExp("%([1-"+(arguments.length-1)+"])","g");return a.replace(c,function(a,c){return b[c]})}function J(a){var b=Function.call;return function(){return b.apply(a,arguments)}}function K(a,b,c){void 0===b&&(b=null);var d=c(),e=a.dataType;if(e&&e.parse&&(b=Array.isArray(b)&&!a.isScalar?b.map(function(a){return e.parse(a,typeof a)}):e.parse(b,typeof b)),!(b===d||e&&e.isDate&&b&&d&&b.valueOf()===d.valueOf())){var f,g,h,i=this,j=a.name,k=this.entityAspect;k?f=k:(f=this.complexAspect,k=f.getEntityAspect());var l=f.getPropertyPath(j),m=k._inProcess;if(m){if(m.indexOf(a)>=0)return;m.push(a)}else m=[a],k._inProcess=m;var n=k.entity;try{var o=k.entityManager;if(k.entityState.isUnchangedOrModified()&&void 0===f.originalValues[j]&&a.isDataProperty&&!a.isComplexProperty&&(f.originalValues[j]=void 0!==d?d:a.defaultValue),a.isComplexProperty){if(!a.isScalar)throw new Error(I("You cannot set the non-scalar complex property: '%1' on the type: '%2'.Instead get the property and use array functions like 'push' or 'splice' to change its contents.",a.name,a.parentType.name));if(!b)throw new Error(I("You cannot set the '%1' property to null because it's datatype is the ComplexType: '%2'",a.name,a.dataType.name));if(!d){var p=e.getCtor();d=new p,c(d)}e.dataProperties.forEach(function(a){var c=a.name,e=b.getProperty(c);d.setProperty(c,e)})}else if(a.isDataProperty){if(!a.isScalar)throw new Error("Nonscalar data properties are readonly - items may be added or removed but the collection may not be changed.");if(a.isPartOfKey&&!this.complexAspect&&o&&!o.isLoading){var q=this.entityType.keyProperties,r=q.map(function(c){return c===a?b:this.getProperty(c.name)},this),s=new bh(this.entityType,r);if(o.findEntityByKey(s))throw new Error("An entity with this key is already in the cache: "+s.toString());var t=this.entityAspect.getKey(),u=o._findEntityGroup(this.entityType);u._replaceKey(t,s)}var v=a.relatedNavigationProperty;if(v&&o)null!=b?(g=new bh(v.entityType,[b]),h=o.findEntityByKey(g),h?this.setProperty(v.name,h):o._unattachedChildrenMap.addChild(g,v,this)):this.setProperty(v.name,null);else if(a.inverseNavigationProperty&&o&&!o._inKeyFixup){var w=a.inverseNavigationProperty;if(null!=d&&(g=new bh(w.parentType,[d]),h=o.findEntityByKey(g)))if(w.isScalar)h.setProperty(w.name,null);else{var x=h.getProperty(w.name);x.splice(x.indexOf(this),1)}null!=b&&(g=new bh(w.parentType,[b]),h=o.findEntityByKey(g),h?w.isScalar?h.setProperty(w.name,this):h.getProperty(w.name).push(this):o._unattachedChildrenMap.addChild(g,w,this))}if(c(b),o&&!o.isLoading&&(k.entityState.isUnchanged()&&!a.isUnmapped&&k.setModified(),o.validationOptions.validateOnPropertyChange&&k._validateProperty(b,{entity:n,property:a,propertyName:l,oldValue:d})),a.isPartOfKey&&!this.complexAspect){var y=this.entityType.keyProperties.indexOf(a);this.entityType.navigationProperties.forEach(function(a){var c=a.inverse,d=c?c.foreignKeyNames:a.invForeignKeyNames;if(0!==d.length){var e=i.getProperty(a.name),f=d[y];if(a.isScalar){if(!e)return;e.setProperty(f,b)}else e.forEach(function(a){a.setProperty(f,b)})}}),k.getKey(!0)}}else{if(!a.isScalar)throw new Error("Nonscalar navigation properties are readonly - entities can be added or removed but the collection may not be changed.");var z=a.inverse;if(null!=b){var A=b.entityAspect;if(o){if(A.entityState.isDetached())o.isLoading||o.attachEntity(b,bi.Added);else if(A.entityManager!==o)throw new Error("An Entity cannot be attached to an entity in another EntityManager. One of the two entities must be detached first.")}else A&&A.entityManager&&(o=A.entityManager,o.isLoading||o.attachEntity(k.entity,bi.Added))}if(z)if(z.isScalar)null!=d&&d.setProperty(z.name,null),null!=b&&b.setProperty(z.name,this);else{if(null!=d){var B=d.getProperty(z.name),C=B.indexOf(this);-1!==C&&B.splice(C,1)}if(null!=b){var D=b.getProperty(z.name);D.push(this)}}else if(a.invForeignKeyNames&&o&&!o._inKeyFixup){var E=a.invForeignKeyNames;if(null!=b){var F=this.entityAspect.getKey().values;E.forEach(function(a,c){b.setProperty(a,F[c])})}else null!=d&&E.forEach(function(a){var b=d.entityType.getProperty(a);b.isPartOfKey||d.setProperty(a,null)})}if(c(b),o&&!o.isLoading&&(k.entityState.isUnchanged()&&!a.isUnmapped&&k.setModified(),o.validationOptions.validateOnPropertyChange&&k._validateProperty(b,{entity:this,property:a,propertyName:l,oldValue:d})),a.relatedDataProperties&&!k.entityState.isDeleted()){var G=a.entityType.keyProperties;G.forEach(function(c,d){var e=a.relatedDataProperties[d];if(b||!e.isPartOfKey){var f=b?b.getProperty(c.name):e.defaultValue;i.setProperty(e.name,f)}})}}var H={entity:n,parent:this,property:a,propertyName:l,oldValue:d,newValue:b};o?o.isLoading||o.isRejectingChanges||(k.propertyChanged.publish(H),o.entityChanged.publish({entityAction:be.PropertyChange,entity:n,args:H})):k.propertyChanged.publish(H)}finally{m.pop()}}}function L(a){return a.indexOf(":#")>=0}function M(a,b){return a+":#"+b}function N(a,b,c){if(b)if(Array.isArray(b))b.forEach(a.addProperty.bind(a));else{if("object"!=typeof b)throw new Error("The 'dataProperties' or 'navigationProperties' values must be either an array of data/nav properties or an object where each property defines a data/nav property");for(var d in b)if(R(b,d)){var e=b[d];e.name=d;var f=new c(e);a.addProperty(f)}}}function O(a,b){var c;if(c=Array.isArray(b)?b:b.split("."),1===c.length)return a.getProperty(b);for(var d=a,e=0;e<c.length&&(d=d.getProperty(c[e]),null!=d);e++);return d}function P(a){return a&&a.isDate?function(a){return a&&a.getTime()}:a===bl.Time?function(a){return a&&y(a)}:function(a){return a}}var Q={version:"1.4.5",metadataVersion:"1.0.5"},R=J(Object.prototype.hasOwnProperty),S=J(Array.prototype.slice);Object.create||(Object.create=function(a){var b=function(){};return b.prototype=a,new b});var T={};T.objectForEach=a,T.extend=g,T.propEq=d,T.pluck=e,T.arrayEquals=q,T.arrayFirst=m,T.arrayIndexOf=n,T.arrayRemoveItem=o,T.arrayZip=p,T.requireLib=s,T.using=u,T.memoize=w,T.getUuid=x,T.durationToSeconds=y,T.isDate=A,T.isGuid=C,T.isDuration=D,T.isFunction=B,T.isEmpty=E,T.isNumeric=F,T.stringStartsWith=G,T.stringEndsWith=H,T.formatString=I,T.parent=Q,Q.core=T;var U=function(){function a(a,b){return null==b?!1:"string"==typeof b&&b.length>0}function b(a,b){return null==b?!1:typeof b===a.typeName?!0:!1}function c(a,b){return null==b?!1:b instanceof a.type}function d(a,b){return null==b?!1:void 0!==b[a.propertyName]}function e(a,b){return null==b?!1:a.enumType.contains(b)}function f(a,b){return a.allowNull?void 0!==b:null!=b}function h(a,b){if(null==b)return!0;var c=a.prevContext;return c?c.fn(c,b):!0}function i(a,b){var c=a.prevContext,d=c?" or it "+l(c,b):"";return"is optional"+d}function j(a,b){if(!Array.isArray(b))return!1;if(a.mustNotBeEmpty&&0===b.length)return!1;var c=a.prevContext;return c?b.every(function(a){return c.fn(c,a)}):!0}function k(a,b){var c=a.mustNotBeEmpty?"a nonEmpty array":"an array",d=a.prevContext,e=d?" where each element "+l(d,b):"";return" must be "+c+e}function l(a,b){var c=a.msg;return"function"==typeof c&&(c=c(a,b)),c}function m(a,b){if(a._context){for(var c=a._context;null!=c.prevContext;)c=c.prevContext;if(null===c.prevContext)return c.prevContext=b,a;if(null!==b.prevContext)throw new Error("Illegal construction - use 'or' to combine checks");b.prevContext=a._context}return n(a,b)}function n(a,b){return a._contexts[a._contexts.length-1]=b,a._context=b,a}function o(a){var b=a._contexts;return null==b[b.length-1]&&b.pop(),0===b.length?void 0:b.some(function(b){return b.fn(b,a.v)})}function p(a,b){throw new Error(I("Error configuring an instance of '%1'. %2",a&&a._$typeName||"object",b))}var q=function(a,b){this.v=a,this.name=b,this._contexts=[null]},r=q.prototype;return r.isObject=function(){return this.isTypeOf("object")},r.isBoolean=function(){return this.isTypeOf("boolean")},r.isString=function(){return this.isTypeOf("string")},r.isNonEmptyString=function(){return m(this,{fn:a,msg:"must be a nonEmpty string"})},r.isNumber=function(){return this.isTypeOf("number")},r.isFunction=function(){return this.isTypeOf("function")},r.isTypeOf=function(a){return m(this,{fn:b,typeName:a,msg:I("must be a '%1'",a)})},r.isInstanceOf=function(a,b){return b=b||a.prototype._$typeName,m(this,{fn:c,type:a,typeName:b,msg:I("must be an instance of '%1'",b)})},r.hasProperty=function(a){return m(this,{fn:d,propertyName:a,msg:I("must have a '%1' property ",a)})},r.isEnumOf=function(a){return m(this,{fn:e,enumType:a,msg:I("must be an instance of the '%1' enumeration",a.name)})},r.isRequired=function(a){return m(this,{fn:f,allowNull:a,msg:"is required"})},r.isOptional=function(){var a={fn:h,prevContext:null,msg:i};return m(this,a)},r.isNonEmptyArray=function(){return this.isArray(!0)},r.isArray=function(a){var b={fn:j,mustNotBeEmpty:a,prevContext:null,msg:k};return m(this,b)},r.or=function(){return this._contexts.push(null),this._context=null,this},r.check=function(a){var b=o(this);if(void 0!==b){if(!b)throw new Error(this.getMessage());return void 0!==this.v?this.v:a}},r._addContext=function(a){return m(this,a)},r.getMessage=function(){var a=this,b=this._contexts.map(function(b){return l(b,a.v)}).join(", or it ");return I(this.MESSAGE_PREFIX,this.name)+" "+b},r.withDefault=function(a){return this.defaultValue=a,this},r.whereParam=function(a){return this.parent.whereParam(a)},r.applyAll=function(a,b,c){var d=a._$typeName;c=c||d&&this.parent.config._$typeName===d;var e=g({},this.parent.config);if(this.parent.params.forEach(function(d){c||delete e[d.name];try{d.check()}catch(f){p(a,f.message)}!b&&d._applyOne(a)}),!c)for(var f in e)void 0!==e[f]&&p(a,I("Unknown property: '%1'.",f))},r._applyOne=function(a){void 0!==this.v?a[this.name]=this.v:void 0!==this.defaultValue&&(a[this.name]=this.defaultValue)},r.MESSAGE_PREFIX="The '%1' parameter ",q}(),V=function(a,b){return new U(a,b)},W=function(){var a=function(a){if("object"!=typeof a)throw new Error("Configuration parameter should be an object, instead it is a: "+typeof a);this.config=a,this.params=[]},b=a.prototype;return b.whereParam=function(a){var b=new U(this.config[a],a);return b.parent=this,this.params.push(b),b},a}(),X=function(a){return new W(a)};T.Param=U,T.assertParam=V,T.assertConfig=X;var Y=function(){function a(){}var b=function(b,c){this.name=b;var d=new a(c);d.parentEnum=this,this._symbolPrototype=d,c&&Object.keys(c).forEach(function(a){d[a]=c[a]})},c=b.prototype;return b.isSymbol=function(b){return b instanceof a},c.fromName=function(a){return this[a]},c.addSymbol=function(a){var b=Object.create(this._symbolPrototype);return a&&Object.keys(a).forEach(function(c){b[c]=a[c]}),setTimeout(function(){b.getName()},0),b},c.seal=function(){this.getSymbols().forEach(function(a){return a.getName()})},c.getSymbols=function(){return this.getNames().map(function(a){return this[a]},this)},c.getNames=function(){var a=[];for(var b in this)this.hasOwnProperty(b)&&("name"===b||"_"===b.substr(0,1)||B(this[b])||a.push(b));return a},c.contains=function(b){return b instanceof a?this[b.getName()]===b:!1},a.prototype.getName=function(){if(!this.name){var a=this;this.name=m(this.parentEnum.getNames(),function(b){return a.parentEnum[b]===a})}return this.name},a.prototype.toString=function(){return this.getName()},a.prototype.toJSON=function(){return{_$typeName:this.parentEnum.name,name:this.name}},b}();T.Enum=Y;var Z=function(){function a(a,c,d){var e=a._subscribers;return e?(e.forEach(function(e){try{e.callback(c)}catch(f){f.context="unable to publish on topic: "+a.name,d?d(f):a._defaultErrorCallback?a._defaultErrorCallback(f):b(f)}}),void 0):!0}function b(){}var c={},d=1,e=function(a,b,d){V(a,"eventName").isNonEmptyString().check(),V(b,"publisher").isObject().check(),this.name=a,c[a]=!0,this.publisher=b,d&&(this._defaultErrorCallback=d)},f=e.prototype;return f.publish=function(b,c,d){return e._isEnabled(this.name,this.publisher)?(c===!0?setTimeout(a,0,this,b,d):a(this,b,d),!0):!1},f.publishAsync=function(a,b){this.publish(a,!0,b)},f.subscribe=function(a){this._subscribers||(this._subscribers=[]);var b=d;return this._subscribers.push({unsubKey:b,callback:a}),++d,b},f.unsubscribe=function(a){if(!this._subscribers)return!1;var b=this._subscribers,c=n(b,function(b){return b.unsubKey===a});return-1!==c?(b.splice(c,1),0===b.length&&(this._subscribers=null),!0):!1},f.clear=function(){this._subscribers=null},e.bubbleEvent=function(a,b){a._getEventParent=b},e.enable=function(a,b,c){V(a,"eventName").isNonEmptyString().check(),V(b,"obj").isObject().check(),V(c,"isEnabled").isBoolean().isOptional().or().isFunction().check(),b._$eventMap||(b._$eventMap={}),b._$eventMap[a]=c},e.isEnabled=function(a,b){if(V(a,"eventName").isNonEmptyString().check(),V(b,"obj").isObject().check(),!b._getEventParent)throw new Error("This object does not support event enabling/disabling");return e._isEnabled(b,a)},e._isEnabled=function(a,b){var c=null,d=b._$eventMap;if(d&&(c=d[a]),null!=c)return"function"==typeof c?c(b):!!c;var f=b._getEventParent&&b._getEventParent();return f?e._isEnabled(a,f):!0},e}();T.Event=Z;var $=function(){function a(a,b,c){var d=b.defaultInstance;return d||(d=new b.ctor,b.defaultInstance=d,d._$impl=b),d.initialize(),c&&(a.defaultInstance=d),e.interfaceInitialized.publish({interfaceName:a.name,instance:d,isDefault:!0}),d.checkForRecomposition&&e.interfaceInitialized.subscribe(function(a){d.checkForRecomposition(a)}),d}function d(a){var c=a.toLowerCase(),d=b(e.interfaceRegistry||{},function(a){return a.toLowerCase()===c});if(!d)throw new Error("Unknown interface name: "+a);return d.value}var e={};e.functionRegistry={},e.typeRegistry={},e.objectRegistry={},e.interfaceInitialized=new Z("interfaceInitialized",e);var f=function(a){this.name=a,this.defaultInstance=null,this._implMap={}};return f.prototype.registerCtor=function(a,b){this._implMap[a.toLowerCase()]={ctor:b,defaultInstance:null}},f.prototype.getImpl=function(a){return this._implMap[a.toLowerCase()]},f.prototype.getFirstImpl=function(){var a=b(this._implMap,function(){return!0});return a?a.value:null},e.interfaceRegistry={ajax:new f("ajax"),modelLibrary:new f("modelLibrary"),dataService:new f("dataService")},e.interfaceRegistry.modelLibrary.getDefaultInstance=function(){if(!this.defaultInstance)throw new Error("Unable to locate the default implementation of the '"+this.name+"' interface.  Possible options are 'ko', 'backingStore' or 'backbone'. See the breeze.config.initializeAdapterInstances method.");return this.defaultInstance},e.setProperties=function(a){X(a).whereParam("remoteAccessImplementation").isOptional().whereParam("trackingImplementation").isOptional().whereParam("ajaxImplementation").isOptional().applyAll(a),a.remoteAccessImplementation&&e.initializeAdapterInstance("dataService",a.remoteAccessImplementation),a.trackingImplementation&&e.initializeAdapterInstance("modelLibrary",a.trackingImplementation),a.ajaxImplementation&&e.initializeAdapterInstance("ajax",a.ajaxImplementation)},e.registerAdapter=function(a,b){V(a,"interfaceName").isNonEmptyString().check(),V(b,"adapterCtor").isFunction().check();var c=new b,e=c.name;if(!e)throw new Error("Unable to locate a 'name' property on the constructor passed into the 'registerAdapter' call.");var f=d(a);f.registerCtor(e,b)},e.getAdapter=function(a,b){var c=d(a);if(b){var e=c.getImpl(b);return e?e.ctor:null}return c.defaultInstance?c.defaultInstance._$impl.ctor:null},e.initializeAdapterInstances=function(a){return X(a).whereParam("dataService").isOptional().whereParam("modelLibrary").isOptional().whereParam("ajax").isOptional().applyAll(this,!1),c(a,e.initializeAdapterInstance)},e.initializeAdapterInstance=function(b,c,e){e=void 0===e?!0:e,V(b,"interfaceName").isNonEmptyString().check(),V(c,"adapterName").isNonEmptyString().check(),V(e,"isDefault").isBoolean().check();var f=d(b),g=f.getImpl(c);if(!g)throw new Error("Unregistered adapter.  Interface: "+b+" AdapterName: "+c);return a(f,g,e)},e.getAdapterInstance=function(b,c){var e,f=d(b);return c&&""!==c?(e=f.getImpl(c),e?e.defaultInstance:null):f.defaultInstance?f.defaultInstance:(e=f.getFirstImpl(),e.defaultInstance?e.defaultInstance:a(f,e,!0))},e.registerFunction=function(a,b){V(a,"fn").isFunction().check(),V(b,"fnName").isString().check(),a.prototype._$fnName=b,e.functionRegistry[b]=a},e._storeObject=function(a,b,c){var d=("string"==typeof b?b:b.prototype._$typeName)+"."+c;e.objectRegistry[d]=a},e._fetchObject=function(a,b){if(!b)return void 0;var c=("string"==typeof a?a:a.prototype._$typeName)+"."+b,d=e.objectRegistry[c];if(!d)throw new Error("Unable to locate a registered object by the name: "+c);return d},e.registerType=function(a,b){V(a,"ctor").isFunction().check(),V(b,"typeName").isString().check(),a.prototype._$typeName=b,e.typeRegistry[b]=a},e.stringifyPad="  ",e}(),_=$.interfaceRegistry.modelLibrary;T.config=$,Q.config=$;var ba=function(){function a(a){var b=a.getEntityAspect();b.entityState.isUnchanged()&&b.setModified(),b.entityState.isModified()&&!a._origValues&&(a._origValues=a.slice(0))}function b(a,b){a._processAdds(b),d(a,"arrayChanged",{array:a,added:b})}function c(a,b){a._processRemoves(b),d(a,"arrayChanged",{array:a,removed:b})}function d(a,b,c){var d=a._getPendingPubs();d?a._pendingArgs?e(a._pendingArgs,c):(a._pendingArgs=c,d.push(function(){a[b].publish(a._pendingArgs),a._pendingArgs=null})):a[b].publish(c)}function e(a,b){for(var c in b)if("array"!==c&&a.hasOwnProperty(c)){var d=b[c],e=a[c];if(e){if(!Array.isArray(e))throw new Error("Cannot combine non array args");Array.prototype.push.apply(e,d)}else a[c]=d}}function f(a,b,c){a.parent=b,a.parentProperty=c}var g={};return g.push=function(){if(this._inProgress)return-1;var a=this._getGoodAdds(S(arguments));if(!a.length)return this.length;this._beforeChange();var c=Array.prototype.push.apply(this,a);return b(this,a),c},g._push=function(){if(this._inProgress)return-1;var a=S(arguments);this._beforeChange();var c=Array.prototype.push.apply(this,a);return b(this,a),c},g.unshift=function(){var a=this._getGoodAdds(S(arguments));if(!a.length)return this.length;this._beforeChange();var c=Array.prototype.unshift.apply(this,a);return b(this,S(a)),c},g.pop=function(){this._beforeChange();var a=Array.prototype.pop.apply(this);return c(this,[a]),a},g.shift=function(){this._beforeChange();var a=Array.prototype.shift.apply(this);return c(this,[a]),a},g.splice=function(){var a=this._getGoodAdds(S(arguments,2)),d=S(arguments,0,2).concat(a);this._beforeChange();var e=Array.prototype.splice.apply(this,d);return c(this,e),a.length&&b(this,a),e},g.getEntityAspect=function(){return this.parent.entityAspect||this.parent.complexAspect.getEntityAspect()},g._getEventParent=function(){return this.getEntityAspect()},g._getPendingPubs=function(){var a=this.getEntityAspect().entityManager;return a&&a._pendingPubs},g._beforeChange=function(){},{mixin:g,publish:d,updateEntityState:a,initializeParent:f}}(),bb=function(){function b(a,b,c,d,e){for(d=+a[b=a.length-1],e=0;b--;)c=+a[b],d+=++e%2?2*c%10+(c>4):c;return!(d%10)}function c(a,b,c,d){c&&(n.messageTemplates[a]=c);var e="string"==typeof b?new RegExp(b):b,f=function(a){return null==a||""===a?!0:"string"!=typeof a?!1:e.test(a)};return new n(a,f,d)}function d(a,b,c){return b?a.replace(/%([^%]+)%/g,function(a,d){var e;return e=c?b.hasOwnProperty(d)?b[d]:"":b[d],e?B(e)?e(b):e:""}):a}function e(a,b,c,d){return n.messageTemplates[a]=I("'%displayName%' must be an integer between the values of %1 and %2",b,c),function(){var e=function(a,d){return null==a?!0:("string"==typeof a&&d&&d.allowString&&(a=parseInt(a,0)),"number"!=typeof a||isNaN(a)||Math.floor(a)!==a?!1:null!=b&&b>a?!1:null!=c&&a>c?!1:!0)};return new n(a,e,d)}}var f=-32768,h=32767,i=-2147483648,j=2147483647,k=0,l=255,m={displayName:function(a){return a.property?a.property.displayName||a.propertyName||a.property.name:"Value"}},n=function(a,b,c){this._baseContext=c||{},this._baseContext.name=a,c=g(Object.create(m),this._baseContext),c.messageTemplate=c.messageTemplate||n.messageTemplates[a],this.name=a,this.valFn=b,this.context=c},o=n.prototype;return o._$typeName="Validator",o.validate=function(a,b){var c;c=b?g(Object.create(this.context),b):this.context,this.currentContext=c;try{return this.valFn(a,c)?null:(c.value=a,new bc(this,c,this.getMessage()))}catch(d){return new bc(this,c,"Exception occured while executing this validator: "+this.name)}},o.getMessage=function(){try{var a=this.currentContext,b=a.message;return b?"function"==typeof b?b(a):b:a.messageTemplate?d(a.messageTemplate,a):"invalid value: "+this.name||"{unnamed validator}"}catch(c){return"Unable to format error message"+c.toString()}},o.toJSON=function(){return this._baseContext},n.fromJSON=function(a){var b="Validator."+a.name,c=$.functionRegistry[b];if(!c)throw new Error("Unable to locate a validator named:"+a.name);return c(a)},n.register=function(a){$.registerFunction(function(){return a},"Validator."+a.name)},n.registerFactory=function(a,b){$.registerFunction(a,"Validator."+b)},n.messageTemplates={bool:"'%displayName%' must be a 'true' or 'false' value",creditCard:"The %displayName% is not a valid credit card number",date:"'%displayName%' must be a date",duration:"'%displayName%' must be a ISO8601 duration string, such as 'P3H24M60S'",emailAddress:"The %displayName% '%value%' is not a valid email address",guid:"'%displayName%' must be a GUID",integer:"'%displayName%' must be an integer",integerRange:"'%displayName%' must be an integer between the values of %minValue% and %maxValue%",maxLength:"'%displayName%' must be a string with %maxLength% characters or less",number:"'%displayName%' must be a number",phone:"The %displayName% '%value%' is not a valid phone number",regularExpression:"The %displayName% '%value%' does not match '%expression%'",required:"'%displayName%' is required",string:"'%displayName%' must be a string",stringLength:"'%displayName%' must be a string with between %minLength% and %maxLength% characters",url:"The %displayName% '%value%' is not a valid url"},n.required=function(){var a=function(a,b){return"string"==typeof a?b&&b.allowEmptyStrings?!0:a.length>0:null!=a};return new n("required",a)},n.maxLength=function(a){var b=function(a,b){return null==a?!0:"string"!=typeof a?!1:a.length<=b.maxLength};return new n("maxLength",b,a)},n.stringLength=function(a){var b=function(a,b){return null==a?!0:"string"!=typeof a?!1:null!=b.minLength&&a.length<b.minLength?!1:null!=b.maxLength&&a.length>b.maxLength?!1:!0};return new n("stringLength",b,a)},n.string=function(){var a=function(a){return null==a?!0:"string"==typeof a};return new n("string",a)},n.guid=function(){var a=function(a){return null==a?!0:C(a)};return new n("guid",a)},n.duration=function(){var a=function(a){return null==a?!0:D(a)};return new n("duration",a)},n.number=n.double=n.single=function(a){var b=function(a,b){return null==a?!0:("string"==typeof a&&b&&b.allowString&&(a=parseInt(a,10)),"number"==typeof a&&!isNaN(a))};return new n("number",b,a)},n.integer=n.int64=function(a){var b=function(a,b){return null==a?!0:("string"==typeof a&&b&&b.allowString&&(a=parseInt(a,10)),"number"==typeof a&&!isNaN(a)&&Math.floor(a)===a)};return new n("integer",b,a)},n.int32=function(a){return e("int32",i,j,a)()},n.int16=function(a){return e("int16",f,h,a)()},n.byte=function(a){return e("byte",k,l,a)()},n.bool=function(){var a=function(a){return null==a?!0:a===!0||a===!1};return new n("bool",a)},n.none=function(){var a=function(){return!0};return new n("none",a)},n.date=function(){var a=function(a){if(null==a)return!0;if("string"!=typeof a)return A(a);try{return!isNaN(Date.parse(a))}catch(b){return!1}};return new n("date",a)},n.creditCard=function(a){function c(a){return null==a||""===a?!0:"string"!=typeof a?!1:(a=a.replace(/(\-|\s)/g,""),!a||/\D/.test(a)?!1:b(a))}return new n("creditCard",c,a)},n.regularExpression=function(a){function b(a,b){if(null==a||""===a)return!0;if("string"!=typeof a)return!1;try{var c=new RegExp(b.expression)}catch(d){throw new Error("Missing or invalid expression parameter to regExp validator")}return c.test(a)}return new n("regularExpression",b,a)},n.emailAddress=function(a){var b=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/;return c("emailAddress",b,null,a)},n.phone=function(a){var b=/^((\+|(0(\d+)?[-/.\s]?))[1-9]\d{0,2}[-/.\s]?)?((\(\d{1,6}\)|\d{1,6})[-/.\s]?)?(\d+[-/.\s]?)+\d+$/;return c("phone",b,null,a)},n.url=function(a){var b=/^(https?|ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|([a-zA-Z][\-a-zA-Z0-9]*)|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-fA-F]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/;return c("url",b,null,a)},n.makeRegExpValidator=c,a(n,function(a,b){"function"==typeof b&&"fromJSON"!==a&&"register"!==a&&"registerFactory"!==a&&"makeRegExpValidator"!==a&&$.registerFunction(b,"Validator."+a)}),n}(),bc=function(){var a=function(a,b,c,d){V(a,"validator").isOptional().isInstanceOf(bb).check(),V(c,"errorMessage").isNonEmptyString().check(),V(d,"key").isOptional().isNonEmptyString().check(),this.validator=a;var b=b||{};this.context=b,this.errorMessage=c,this.property=b.property,this.propertyName=b.propertyName||b.property&&b.property.name,this.key=d?d:bc.getKey(a||c,this.propertyName),this.isServerError=!1};return a.getKey=function(a,b){return(a.name||a)+(b?":"+b:"")},a}();Q.Validator=bb,Q.ValidationError=bc;var bd=function(){function a(a,b){return b&&X(b).whereParam("validateOnAttach").isBoolean().isOptional().whereParam("validateOnSave").isBoolean().isOptional().whereParam("validateOnQuery").isBoolean().isOptional().whereParam("validateOnPropertyChange").isBoolean().isOptional().applyAll(a),a}var b=function(b){a(this,b)},c=b.prototype;return c._$typeName="ValidationOptions",c.using=function(b){if(!b)return this;var c=new bd(this);return a(c,b),c},c.setAsDefault=function(){return i(this,b)},b.defaultInstance=new b({validateOnAttach:!0,validateOnSave:!0,validateOnQuery:!1,validateOnPropertyChange:!0}),b}();Q.ValidationOptions=bd,Q.makeComplexArray=function(){function a(a,b){return b.filter(function(b){return b.parent!==a.parent})}function b(a,b){b.forEach(function(b){if(null!=b.parent)throw new Error("The complexObject is already attached. Either clone it or remove it from its current owner");e(b,a)})}function c(a,b){b.forEach(function(b){d(b,a)})}function d(a,b){var c=a.complexAspect;return c.parent!==b.parent?null:(c.parent=null,c.parentProperty=null,c)}function e(a,b){var c=a.complexAspect;return c.parent===b.parent?null:(c.parent=b.parent,c.parentProperty=b.parentProperty,c)}function f(a,b,c){return ba.initializeParent(a,b,c),a.arrayChanged=new Z("arrayChanged",a),g(a,ba.mixin),g(a,h)}var h={};return h._getGoodAdds=function(b){return a(this,b)},h._beforeChange=function(){ba.updateEntityState(this)},h._processAdds=function(a){b(this,a)},h._processRemoves=function(a){c(this,a)},h._rejectChanges=function(){if(this._origValues){var a=this;this.forEach(function(b){d(b,a)}),this.length=0,this._origValues.forEach(function(b){a.push(b)}),Array.prototype.push.apply(this,this._origValues)}},h._acceptChanges=function(){this._origValues=null},f}();var be=function(){var a={isAttach:function(){return!!this.isAttach},isDetach:function(){return!!this.isDetach},isModification:function(){return!!this.isModification}},b=new Y("EntityAction",a);return b.Attach=b.addSymbol({isAttach:!0}),b.AttachOnQuery=b.addSymbol({isAttach:!0}),b.AttachOnImport=b.addSymbol({isAttach:!0}),b.Detach=b.addSymbol({isDetach:!0}),b.MergeOnQuery=b.addSymbol({isModification:!0}),b.MergeOnImport=b.addSymbol({isModification:!0}),b.MergeOnSave=b.addSymbol({isModification:!0}),b.PropertyChange=b.addSymbol({isModification:!0}),b.EntityStateChange=b.addSymbol(),b.AcceptChanges=b.addSymbol(),b.RejectChanges=b.addSymbol({isModification:!0}),b.Clear=b.addSymbol({isDetach:!0}),b.seal(),b}();Q.EntityAction=be;var bf=function(){function b(a){var c=a.entityAspect||a.complexAspect,d=a.entityType||a.complexType,e=c.originalValues;for(var f in e)a.setProperty(f,e[f]);d.complexProperties.forEach(function(c){var d=a.getProperty(c.name);c.isScalar?b(d):(d._rejectChanges(),d.forEach(function(a){b(a)}))})}function c(a){var b=a.entityAspect||a.complexAspect;b.originalValues={};var d=a.entityType||a.complexType;d.complexProperties.forEach(function(b){var d=a.getProperty(b.name);b.isScalar?c(d):(d._acceptChanges(),d.forEach(function(a){c(a)}))})}function d(a){var b=!0,c=a.entityType||a.complexType,e=a.entityAspect||a.complexAspect,f=a.entityAspect||a.complexAspect.getEntityAspect();return c.getProperties().forEach(function(c){var g=a.getProperty(c.name),h=e.getPropertyPath(c.name);if(c.validators.length>0){var i={entity:f.entity,property:c,propertyName:h};b=f._validateProperty(g,i)&&b}c.isComplexProperty&&c.isScalar&&(b=d(g)&&b)}),c.validators.forEach(function(a){b=i(f,a,e.entity)&&b}),b}function e(a,b){var c=b.isDeleted();c?g(a,!0):u(a.entityAspect.entityManager,"isLoading",!0,function(){g(a,!1)})}function g(a,b){a.entityType.navigationProperties.forEach(function(c){var d=c.inverse;if(d){var e=a.getProperty(c.name);if(c.isScalar){if(e){if(d.isScalar)h(e,d,b);else{var f=e.getProperty(d.name);f.length&&o(f,a)}a.setProperty(c.name,null)}}else e.slice(0).forEach(function(a){d.isScalar&&h(a,d,b)}),e.length=0}})}function h(a,b,c){if(c)a.setProperty(b.name,null);else{a.entityAspect.entityManager;var d=b.foreignKeyNames;if(d)var e=d.map(function(b){return a.getProperty(b)});a.setProperty(b.name,null),d&&d.forEach(function(b,c){a.setProperty(b,e[c])})}}function i(a,b,c,d){var e=b.validate(c,d);if(e)return a._addValidationError(e),!1;var f=bc.getKey(b,d?d.propertyName:null);return a._removeValidationError(f),!0}var j=function(a){if(null===a){var b=bf._nullInstance;if(b)return b;bf._nullInstance=this}else{if(void 0===a)throw new Error("The EntityAspect ctor requires an entity as its only argument.");if(a.entityAspect)return a.entityAspect}if(!(this instanceof bf))return new bf(a);if(this.entity=a,this.entityGroup=null,this.entityManager=null,this.entityState=bi.Detached,this.isBeingSaved=!1,this.originalValues={},this.hasValidationErrors=!1,this._validationErrors={},this.validationErrorsChanged=new Z("validationErrorsChanged",this),this.propertyChanged=new Z("propertyChanged",this),null!=a){a.entityAspect=this;var c=a.entityType;if(!c){var d=a.prototype._$typeName;throw d?new Error("Metadata for this entityType has not yet been resolved: "+d):new Error("This entity is not registered as a valid EntityType")}var e=c.getEntityCtor();_.getDefaultInstance().startTracking(a,e.prototype)}},k=j.prototype;return Z.bubbleEvent(k,function(){return this.entityManager}),k.getKey=function(a){if(a=V(a,"forceRefresh").isBoolean().isOptional().check(!1),a||!this._entityKey){var b=this.entity.entityType,c=b.keyProperties,d=c.map(function(a){return this.entity.getProperty(a.name)},this);this._entityKey=new bh(b,d)}return this._entityKey},k.acceptChanges=function(){var a=this.entityManager;this.entityState.isDeleted()?a.detachEntity(this.entity):this.setUnchanged(),a.entityChanged.publish({entityAction:be.AcceptChanges,entity:this.entity})},k.rejectChanges=function(){var a=this.entity,c=this.entityManager;u(c,"isRejectingChanges",!0,function(){b(a)}),this.entityState.isAdded()?(c.detachEntity(a),c._notifyStateChange(a,!1)):(this.entityState.isDeleted()&&this.entityManager._linkRelatedEntities(a),this.setUnchanged(),this.propertyChanged.publish({entity:a,propertyName:null}),this.entityManager.entityChanged.publish({entityAction:be.RejectChanges,entity:a}))},k.getPropertyPath=function(a){return a},k.setUnchanged=function(){c(this.entity),delete this.hasTempKey,this.entityState=bi.Unchanged,this.entityManager._notifyStateChange(this.entity,!1)},k.setModified=function(){this.entityState=bi.Modified,this.entityManager._notifyStateChange(this.entity,!0)},k.setDeleted=function(){var a=this.entityManager,b=this.entity;this.entityState.isAdded()?(a.detachEntity(b),a._notifyStateChange(b,!1)):(this.entityState=bi.Deleted,e(b,bi.Deleted),a._notifyStateChange(b,!0))},k.setDetached=function(){var a=this.entityGroup;if(!a)return!1;var b=this.entity;return a.detachEntity(b),e(b,bi.Detached),this.entityManager.entityChanged.publish({entityAction:be.Detach,entity:b}),this._detach(),!0},k.loadNavigationProperty=function(a,b,c){var d=this.entity,e=d.entityType._checkNavProperty(a),f=bx.fromEntityNavigation(d,e,b,c);return d.entityAspect.entityManager.executeQuery(f,b,c)},k.validateEntity=function(){var a=!0;return this._processValidationOpAndPublish(function(b){a=d(b.entity)}),a},k.validateProperty=function(a,b){var c=this.getPropertyValue(a);return c&&c.complexAspect?d(c):(b=b||{},b.entity=this.entity,"string"==typeof a?(b.property=this.entity.entityType.getProperty(a,!0),b.propertyName=a):(b.property=a,b.propertyName=a.name),this._validateProperty(c,b))},k.getValidationErrors=function(a){V(a,"property").isOptional().isEntityProperty().or().isString().check();var b=f(this._validationErrors);if(a){var c="string"==typeof a?a:a.name;b=b.filter(function(a){return a.property.name===c})}return b},k.addValidationError=function(a){V(a,"validationError").isInstanceOf(bc).check(),this._processValidationOpAndPublish(function(b){b._addValidationError(a)})},k.removeValidationError=function(a){V(a,"validationErrorOrKey").isString().or().isInstanceOf(bc).or().isInstanceOf(bb).check();var b="string"==typeof a?a:a.key;this._processValidationOpAndPublish(function(a){a._removeValidationError(b)})},k.clearValidationErrors=function(){this._processValidationOpAndPublish(function(b){a(b._validationErrors,function(a,c){c&&(delete b._validationErrors[a],b._pendingValidationResult.removed.push(c))}),b.hasValidationErrors=!E(this._validationErrors)})},k.getParentKey=function(a){var b=a.foreignKeyNames;if(0===b.length)return null;var c=this,d=b.map(function(a){return c.entity.getProperty(a)});return new bh(a.entityType,d)},k.getPropertyValue=function(a){V(a,"property").isString().or().isEntityProperty().check();var b;if("string"==typeof a){var c=a.trim().split("."),d=c.shift();for(b=this.entity,b=b.getProperty(d);c.length>0;)d=c.shift(),b=b.getProperty(d)}else if(a.parentType instanceof bp)b=this.entity.getProperty(a.name);else throw new Error("The validateProperty method does not accept a 'property' parameter whose parentType is a ComplexType; Pass a 'property path' string as the 'property' parameter instead ");return b},k._detach=function(){this.entityGroup=null,this.entityManager=null,this.entityState=bi.Detached,this.originalValues={},this._validationErrors={},this.hasValidationErrors=!1,this.validationErrorsChanged.clear(),this.propertyChanged.clear()},k._validateProperty=function(a,b){var c=!0;return this._processValidationOpAndPublish(function(d){b.property.validators.forEach(function(e){c=i(d,e,a,b)&&c})}),c},k._processValidationOpAndPublish=function(a){if(this._pendingValidationResult)a(this);else try{this._pendingValidationResult={entity:this.entity,added:[],removed:[]},a(this),(this._pendingValidationResult.added.length>0||this._pendingValidationResult.removed.length>0)&&(this.validationErrorsChanged.publish(this._pendingValidationResult),this.entityManager&&this.entityManager.validationErrorsChanged.publish(this._pendingValidationResult))}finally{this._pendingValidationResult=void 0}},k._addValidationError=function(a){this._validationErrors[a.key]=a,this.hasValidationErrors=!0,this._pendingValidationResult.added.push(a)},k._removeValidationError=function(a){var b=this._validationErrors[a];b&&(delete this._validationErrors[a],this.hasValidationErrors=!E(this._validationErrors),this._pendingValidationResult.removed.push(b))},j}(),bg=function(){var a=function(a,b,c){if(!a)throw new Error("The  ComplexAspect ctor requires an entity as its only argument.");if(a.complexAspect)return a.complexAspect;if(!(this instanceof bg))return new bg(a,b,c);this.complexObject=a,a.complexAspect=this,this.originalValues={},null!=b&&(this.parent=b,this.parentProperty=c);var d=a.complexType;if(!d){var e=a.prototype._$typeName;throw e?new Error("Metadata for this complexType has not yet been resolved: "+e):new Error("This entity is not registered as a valid ComplexType")}var f=d.getCtor();_.getDefaultInstance().startTracking(a,f.prototype)},b=a.prototype;return b.getEntityAspect=function(){var a=this.parent;if(!a)return new bf(null);for(var b=a.entityAspect;a&&!b;)a=a.complexAspect&&a.complexAspect.parent,b=a&&a.entityAspect;return b||new bf(null)},b.getPropertyPath=function(a){var b=this.parent;if(!b)return null;var c=b.complexAspect||b.entityAspect;return c.getPropertyPath(this.parentProperty.name+"."+a)},a}();Q.EntityAspect=bf,Q.ComplexAspect=bg;var bh=function(){function a(a){return a.join(b)}var b=":::",c=function(b,c){V(b,"entityType").isInstanceOf(bp).check();var d=b.getSelfAndSubtypes();d.length>1&&(this._subtypes=d.filter(function(a){return a.isAbstract===!1})),Array.isArray(c)||(c=S(arguments,1)),this.entityType=b,b.keyProperties.forEach(function(a,b){a.dataType===bl.Guid&&(c[b]=c[b]&&c[b].toLowerCase())}),this.values=c,this._keyInGroup=a(c)};c._$typeName="EntityKey";var d=c.prototype;return d.toJSON=function(){return{entityType:this.entityType.name,values:this.values}},c.fromJSON=function(a,b){var c=b._getEntityType(a.entityType,!0);return new bh(c,a.values)},d.equals=function(a){return a instanceof bh?this.entityType===a.entityType&&q(this.values,a.values):!1},d.toString=function(){return this.entityType.name+"-"+this._keyInGroup},c.equals=function(a,b){return a instanceof bh?a.equals(b):!1},d._isEmpty=function(){return 0===this.values.join("").length},c.createKeyString=a,c}();Q.EntityKey=bh;var bi=function(){var a={isUnchanged:function(){return this===b.Unchanged},isAdded:function(){return this===b.Added},isModified:function(){return this===b.Modified},isDeleted:function(){return this===b.Deleted},isDetached:function(){return this===b.Detached},isUnchangedOrModified:function(){return this===b.Unchanged||this===b.Modified},isAddedModifiedOrDeleted:function(){return this===b.Added||this===b.Modified||this===b.Deleted}},b=new Y("EntityState",a);return b.Unchanged=b.addSymbol(),b.Added=b.addSymbol(),b.Modified=b.addSymbol(),b.Deleted=b.addSymbol(),b.Detached=b.addSymbol(),b.seal(),b}();Q.EntityState=bi,Q.makePrimitiveArray=function(){function a(a,c,d){return ba.initializeParent(a,c,d),a.arrayChanged=new Z("arrayChanged",a),g(a,ba.mixin),g(a,b)}var b={};return b._getGoodAdds=function(a){return a},b._beforeChange=function(){var a=this.getEntityAspect();a.entityState.isUnchanged()&&a.setModified(),a.entityState.isModified()&&!this._origValues&&(this._origValues=this.slice(0))},b._processAdds=function(){},b._processRemoves=function(){},b._rejectChanges=function(){this._origValues&&(this.length=0,Array.prototype.push.apply(this,this._origValues))},b._acceptChanges=function(){this._origValues=null},a}(),Q.makeRelationArray=function(){function a(a,b){var c=d(a,b);if(!c.length)return c;var e=a.parentEntity,f=e.entityAspect.entityManager;return f&&!f.isLoading&&c.forEach(function(b){if(b.entityAspect.entityState.isDetached()){a._inProgress=!0;try{f.attachEntity(b,bi.Added)}finally{a._inProgress=!1}}}),c}function b(a,b){var c=a.parentEntity,d=a.navigationProperty,e=a._addsInProcess,f=d.inverse,g=e.length;try{b.forEach(function(a){if(e.push(a),f)a.setProperty(f.name,c);else{var b=c.entityType.keyProperties;d.invForeignKeyNames.forEach(function(d,e){a.setProperty(d,c.getProperty(b[e].name))})}})}finally{e.splice(g,b.length)}}function c(a,b){var c=a.navigationProperty.inverse;c&&b.forEach(function(a){a.setProperty(c.name,null)})}function d(a,b){var c,d=a.parentEntity,e=a.navigationProperty,f=e.inverse;if(f)c=b.filter(function(b){if(a._addsInProcess.indexOf(b)>=0)return!1;var c=b.getProperty(f.name);return c!==d});else{var g=e.invForeignKeyNames,h=d.entityType.keyProperties;c=b.filter(function(b){return a._addsInProcess.indexOf(b)>=0?!1:g.some(function(a,c){var e=h[c].name,f=d.getProperty(e),g=b.getProperty(a);return f!==g})})}return c}function e(a,b,c){return a.parentEntity=b,a.navigationProperty=c,a.arrayChanged=new Z("arrayChanged",a),a._addsInProcess=[],g(a,ba.mixin),g(a,f)}var f={};return f.load=function(a,b){var c=this.parentEntity,d=bx.fromEntityNavigation(this.parentEntity,this.navigationProperty),e=c.entityAspect.entityManager;return e.executeQuery(d,a,b)},f._getEventParent=function(){return this.parentEntity.entityAspect},f._getPendingPubs=function(){var a=this.parentEntity.entityAspect.entityManager;return a&&a._pendingPubs},f._getGoodAdds=function(b){return a(this,b)},f._processAdds=function(a){b(this,a)},f._processRemoves=function(a){c(this,a)},e}();var bj=function(){function a(a,b){return b&&(X(b).whereParam("serviceName").isOptional().whereParam("adapterName").isString().isOptional().whereParam("hasServerMetadata").isBoolean().isOptional().whereParam("jsonResultsAdapter").isInstanceOf(bk).isOptional().whereParam("useJsonp").isBoolean().isOptional().applyAll(a),a.serviceName=a.serviceName&&bj._normalizeServiceName(a.serviceName),a.adapterInstance=a.adapterName&&$.getAdapterInstance("dataService",a.adapterName)),a}var b=function(b){a(this,b)},c=b.prototype;return c._$typeName="DataService",c.using=function(b){if(!b)return this;var c=new bj(this);return a(c,b)},b.resolve=function(a){a.push({hasServerMetadata:!0,useJsonp:!1});var b=new bj(k(a,["serviceName","adapterName","hasServerMetadata","jsonResultsAdapter","useJsonp"]));if(!b.serviceName)throw new Error("Unable to resolve a 'serviceName' for this dataService");return b.adapterInstance=b.adapterInstance||$.getAdapterInstance("dataService",b.adapterName),b.jsonResultsAdapter=b.jsonResultsAdapter||b.adapterInstance.jsonResultsAdapter,b},b._normalizeServiceName=function(a){return a=a.trim(),"/"!==a.substr(-1)?a+"/":a},c.toJSON=function(){return j(this,{serviceName:null,adapterName:null,hasServerMetadata:null,jsonResultsAdapter:function(a){return a&&a.name},useJsonp:null})},b.fromJSON=function(a){return a.jsonResultsAdapter=$._fetchObject(bk,a.jsonResultsAdapter),new bj(a)},c.makeUrl=function(a){var b=this.serviceName;return T.stringEndsWith(b,"/")&&(b=b.substr(0,b.length-1)),a="/"+a,T.stringEndsWith(b,a)||(b+=a),b},b}(),bk=function(){function a(a){return a.results}var b=function(b){if(1!==arguments.length)throw new Error("The JsonResultsAdapter ctor should be called with a single argument that is a configuration object.");X(b).whereParam("name").isNonEmptyString().whereParam("extractResults").isFunction().isOptional().withDefault(a).whereParam("visitNode").isFunction().applyAll(this),$._storeObject(this,c._$typeName,this.name)},c=b.prototype;return c._$typeName="JsonResultsAdapter",b}();Q.DataService=bj,Q.JsonResultsAdapter=bk;var bl=function(){function a(a,b){throw a=I(a,b),new Error(a)}function b(a){switch(a){case y.String:return bb.string;case y.Int64:return bb.int64;case y.Int32:return bb.int32;case y.Int16:return bb.int16;case y.Decimal:return bb.number;case y.Double:return bb.number;case y.Single:return bb.number;case y.DateTime:return bb.date;case y.DateTimeOffset:return bb.date;case y.Boolean:return bb.bool;case y.Guid:return bb.guid;case y.Byte:return bb.byte;case y.Binary:return bb.none;case y.Time:return bb.duration;case y.Undefined:return bb.none}}var c={},d={stringPrefix:"K_",nextNumber:-1,nextNumberIncrement:-1},e=function(){return d.stringPrefix+f().toString()},f=function(){var a=d.nextNumber;return d.nextNumber+=d.nextNumberIncrement,a},g=function(){return x()},h=function(){return new Date},i=function(a){return null==a?a:a.toString()},j=function(a,b){if("string"===b){var c=a.trim();if(""===c)return null;var d=parseInt(c,10);return isNaN(d)?a:d}return"number"===b?Math.round(a):a},k=function(a,b){if("string"===b){var c=a.trim();if(""===c)return null;var d=parseFloat(c);return isNaN(d)?a:d}return a},l=function(a,b){var c;if("string"===b){var d=a.trim();return""===d?null:(c=new Date(Date.parse(d)),A(c)?c:a)}return"number"===b?(c=new Date(a),A(c)?c:a):a},m=function(a,b){if("string"===b){var c=a.trim().toLowerCase();return"false"===c||""===c?!1:"true"===c?!0:a}return a},n=function(a){return null==a?null:"'"+a+"'"},o=function(a){return null==a?null:"string"==typeof a?parseInt(a,10):a},p=function(a){return function(b){return null==b?null:("string"==typeof b&&(b=parseFloat(b)),b+a)}},q=function(b){if(null==b)return null;try{return"datetime'"+b.toISOString()+"'"}catch(c){a("'%1' is not a valid dateTime",b)}},r=function(b){if(null==b)return null;try{return"datetimeoffset'"+b.toISOString()+"'"}catch(c){a("'%1' is not a valid dateTime",b)}},s=function(b){return null==b?null:(D(b)||a("'%1' is not a valid ISO 8601 duration",b),"time'"+b+"'")},t=function(b){return null==b?null:(C(b)||a("'%1' is not a valid guid",b),"guid'"+b+"'")},u=function(a){return null==a?null:"string"==typeof a?"true"===a.trim().toLowerCase():!!a},v=function(a){return null==a?a:"binary'"+a+"'"},w=function(a){return a},y=new Y("DataType",c);y.String=y.addSymbol({defaultValue:"",parse:i,fmtOData:n,getNext:e}),y.Int64=y.addSymbol({defaultValue:0,isNumeric:!0,isInteger:!0,quoteJsonOData:!0,parse:j,fmtOData:o,getNext:f}),y.Int32=y.addSymbol({defaultValue:0,isNumeric:!0,isInteger:!0,parse:j,fmtOData:o,getNext:f}),y.Int16=y.addSymbol({defaultValue:0,isNumeric:!0,isInteger:!0,parse:j,fmtOData:o,getNext:f}),y.Byte=y.addSymbol({defaultValue:0,isNumeric:!0,isInteger:!0,parse:j,fmtOData:o}),y.Decimal=y.addSymbol({defaultValue:0,isNumeric:!0,quoteJsonOData:!0,parse:k,fmtOData:p("m"),getNext:f}),y.Double=y.addSymbol({defaultValue:0,isNumeric:!0,parse:k,fmtOData:p("d"),getNext:f}),y.Single=y.addSymbol({defaultValue:0,isNumeric:!0,parse:k,fmtOData:p("f"),getNext:f}),y.DateTime=y.addSymbol({defaultValue:new Date(1900,0,1),isDate:!0,parse:l,fmtOData:q,getNext:h}),y.DateTimeOffset=y.addSymbol({defaultValue:new Date(1900,0,1),isDate:!0,parse:l,fmtOData:r,getNext:h}),y.Time=y.addSymbol({defaultValue:"PT0S",fmtOData:s}),y.Boolean=y.addSymbol({defaultValue:!1,parse:m,fmtOData:u}),y.Guid=y.addSymbol({defaultValue:"00000000-0000-0000-0000-000000000000",fmtOData:t,getNext:g}),y.Binary=y.addSymbol({defaultValue:null,fmtOData:v}),y.Undefined=y.addSymbol({defaultValue:void 0,fmtOData:w}),y.seal(),y.fromEdmDataType=function(a){var b=null,c=a.split(".");if(c.length>1){var d=c[1];b="image"===d?y.Byte:2===c.length?y.fromName(d)||y.Undefined:y.String}return b},y.fromValue=function(a){if(A(a))return y.DateTime;switch(typeof a){case"string":return C(a)?y.Guid:D(a)&&a.length>3?y.Time:y.String;case"boolean":return y.Boolean;case"number":return y.Int32}return y.Undefined};var z=/.\d{3}$/;return y.parseTimeFromServer=function(a){if("string"==typeof a)return a;if(a&&"Edm.Time"===a.__edmType){var b=Math.floor(a.ms/1e3);return"PT"+b+"S"}return a},y.parseDateAsUTC=function(a){if("string"==typeof a){var b=z.test(a);a=b?a+"Z":a}return a=new Date(Date.parse(a))},y.parseDateFromServer=y.parseDateAsUTC,y.constants=d,y.getSymbols().forEach(function(a){a.validatorCtor=b(a)}),y}();Q.DataType=bl;var bm=s("Q","See https://github.com/kriskowal/q "),bn=function(){function a(a){var b=[];for(var c in a){var d=a[c];c===d.name&&b.push(a[c])}return b}function b(a,b,c){var e=M(b.shortName,b.namespace),g=a._getEntityType(e,!0);if(g)return c?d(g,b):g;var h={shortName:b.shortName,namespace:b.namespace,isAbstract:b.isAbstract,autoGeneratedKeyType:bt.fromName(b.autoGeneratedKeyType),defaultResourceName:b.defaultResourceName,custom:b.custom};if(g=b.isComplexType?new bq(h):new bp(h),b.baseTypeName){g.baseTypeName=b.baseTypeName;var i=a._getEntityType(b.baseTypeName,!0);i?f(a,b,g,i):r(a._deferredTypes,b.baseTypeName).push({json:b,stype:g})}else f(a,b,g,null);return g}function d(a,b){return b.custom&&(a.custom=b.custom),e(a,b.dataProperties),e(a,b.navigationProperties),a}function e(a,b){b&&b.forEach(function(b){var c=b.name;if(!c){if(!b.nameOnServer)throw new Error("Unable to complete 'importMetadata' - cannot locate a 'name' or 'nameOnServer' for one of the imported property nodes");c=a.metadataStore.namingConvention.serverPropertyNameToClient(b.nameOnServer,{})}if(b.custom){var d=a.getProperty(c,!0);d.custom=b.custom}})}function f(a,b,c,d){b.validators&&(c.validators=b.validators.map(bb.fromJSON)),d&&(c.baseEntityType=d,d.dataProperties.forEach(function(a){var b=new br(a);b.isInherited=!0,c.addProperty(b)}),d.navigationProperties.forEach(function(a){var b=new bs(a);b.isInherited=!0,c.addProperty(b)})),b.dataProperties.forEach(function(a){c.addProperty(br.fromJSON(a))});var e=!b.isComplexType;e&&b.navigationProperties&&b.navigationProperties.forEach(function(a){c.addProperty(bs.fromJSON(a))}),a.addEntityType(c);var g=a._deferredTypes,h=g[c.name];h&&(h.forEach(function(b){f(a,b.json,b.stype,c)}),delete g[c.name])}function h(a,b,c){if(L(b))return b;var d=a._shortNameMap[b];if(!d&&c)throw new Error("Unable to locate 'entityTypeName' of: "+b);return d}var i=0,j=function(a){a=a||{},X(a).whereParam("namingConvention").isOptional().isInstanceOf(bw).withDefault(bw.defaultInstance).whereParam("localQueryComparisonOptions").isOptional().isInstanceOf(bv).withDefault(bv.defaultInstance).applyAll(this),this.dataServices=[],this._resourceEntityTypeMap={},this._structuralTypeMap={},this._shortNameMap={},this._ctorRegistry={},this._incompleteTypeMap={},this._incompleteComplexTypeMap={},this._id=i++},k=j.prototype;return k._$typeName="MetadataStore",j.ANONTYPE_PREFIX="_IB_",k.addDataService=function(a,b){V(a,"dataService").isInstanceOf(bj).check(),V(b,"shouldOverwrite").isBoolean().isOptional().check();var c=this._getDataServiceIndex(a.serviceName);if(c>=0){if(!b)throw new Error("A dataService with this name '"+a.serviceName+"' already exists in this MetadataStore");this.dataServices[c]=a}else this.dataServices.push(a)},k._getDataServiceIndex=function(a){return n(this.dataServices,function(b){return b.serviceName===a})},k.addEntityType=function(a){if(a instanceof bp||a instanceof bq||(a=a.isComplexType?new bq(a):new bp(a)),!a.isComplexType&&0===a.keyProperties.length&&!a.isAbstract)throw new Error("Unable to add "+a.name+" to this MetadataStore.  An EntityType must have at least one property designated as a key property - See the 'DataProperty.isPartOfKey' property.");if(a.metadataStore=this,!a.isAnonymous){if(this._structuralTypeMap[a.name])throw new Error("Type "+a.name+" already exists in this MetadataStore.");this._structuralTypeMap[a.name]=a,this._shortNameMap[a.shortName]=a.name}if(a.getProperties().forEach(function(b){a._updateNames(b),b.isUnmapped||a._mappedPropertiesCount++}),a._updateCps(),!a.isComplexType){a._updateNps();var b=a.defaultResourceName||a.baseEntityType&&a.baseEntityType.defaultResourceName;b&&!this.getEntityTypeNameForResourceName(b)&&this.setEntityTypeForResourceName(b,a.name),a.defaultResourceName=b,a.getEntityCtor()}a.baseEntityType&&a.baseEntityType.subtypes.push(a)},k.exportMetadata=function(){var a=JSON.stringify({metadataVersion:Q.metadataVersion,namingConvention:this.namingConvention.name,localQueryComparisonOptions:this.localQueryComparisonOptions.name,dataServices:this.dataServices,structuralTypes:c(this._structuralTypeMap),resourceEntityTypeMap:this._resourceEntityTypeMap},null,$.stringifyPad);return a},k.importMetadata=function(a,c){V(c,"allowMerge").isOptional().isBoolean().check(),this._deferredTypes={};var d="string"==typeof a?JSON.parse(a):a;if(d.schema)return bo.parse(this,d.schema,d.altMetadata);if(d.metadataVersion&&d.metadataVersion!==Q.metadataVersion){var e=I("Cannot import metadata with a different 'metadataVersion' (%1) than the current 'breeze.metadataVersion' (%2) ",d.metadataVersion,Q.metadataVersion);throw new Error(e)}var f=d.namingConvention,h=d.localQueryComparisonOptions;if(this.isEmpty())this.namingConvention=$._fetchObject(bw,f)||this.namingConvention,this.localQueryComparisonOptions=$._fetchObject(bv,h)||this.localQueryComparisonOptions;else{if(f&&this.namingConvention.name!==f)throw new Error("Cannot import metadata with a different 'namingConvention' from the current MetadataStore");if(h&&this.localQueryComparisonOptions.name!==h)throw new Error("Cannot import metadata with different 'localQueryComparisonOptions' from the current MetadataStore")}var i=this;return d.dataServices&&d.dataServices.forEach(function(a){a=bj.fromJSON(a),i.addDataService(a,!0)}),this._structuralTypeMap,d.structuralTypes&&d.structuralTypes.forEach(function(a){b(i,a,c)}),g(this._resourceEntityTypeMap,d.resourceEntityTypeMap),g(this._incompleteTypeMap,d.incompleteTypeMap),this},j.importMetadata=function(a){var b=new bn;return b.importMetadata(a),b},k.hasMetadataFor=function(a){return!!this.getDataService(a)},k.getDataService=function(a){return V(a,"serviceName").isString().check(),a=bj._normalizeServiceName(a),m(this.dataServices,function(b){return b.serviceName===a})},k.fetchMetadata=function(a,b,c){if(V(a,"dataService").isString().or().isInstanceOf(bj).check(),V(b,"callback").isFunction().isOptional().check(),V(c,"errorCallback").isFunction().isOptional().check(),"string"==typeof a&&(a=this.getDataService(a)||new bj({serviceName:a})),a=bj.resolve([a]),this.hasMetadataFor(a.serviceName))throw new Error("Metadata for a specific serviceName may only be fetched once per MetadataStore. ServiceName: "+a.serviceName);return a.adapterInstance.fetchMetadata(this,a).then(function(a){return b&&b(a),bm.resolve(a)}).fail(function(a){return c&&c(a),bm.reject(a)})},k.trackUnmappedType=function(a,b){V(a,"entityCtor").isFunction().check(),V(b,"interceptor").isFunction().isOptional().check();var c=new bp(this);c._setCtor(a,b)},k.registerEntityTypeCtor=function(a,b,c){V(a,"structuralTypeName").isString().check(),V(b,"aCtor").isFunction().isOptional().check(),V(c,"initializationFn").isOptional().isFunction().or().isString().check();var d=h(this,a,!1),e=d||a;if(this._ctorRegistry[e]={ctor:b,initFn:c},d){var f=this._structuralTypeMap[d];f&&f.getCtor(!0)}},k.toQueryString=function(a){if(!a)throw new Error("query cannot be empty");if("string"==typeof a)return a;if(a instanceof bx)return a._toUri(this);throw new Error("unable to recognize query parameter as either a string or an EntityQuery")},k.isEmpty=function(){return E(this._structuralTypeMap)},k.getEntityType=function(a,b){return V(a,"structuralTypeName").isString().check(),V(b,"okIfNotFound").isBoolean().isOptional().check(!1),this._getEntityType(a,b)},k._getEntityType=function(a,b){var c=h(this,a,!1),d=this._structuralTypeMap[c];if(!d){if(b)return null;var e=I("Unable to locate a 'Type' by the name: '%1'. Be sure to execute a query or call fetchMetadata first.",a);throw new Error(e)}if(d.length){var f=d.join(",");throw new Error("There are multiple types with this 'shortName': "+f)}return d},k.getEntityTypes=function(){return a(this._structuralTypeMap)},k.getIncompleteNavigationProperties=function(){return c(this._incompleteTypeMap,function(a,b){return b})},k.getEntityTypeNameForResourceName=function(a){return V(a,"resourceName").isString().check(),this._resourceEntityTypeMap[a]},k.setEntityTypeForResourceName=function(a,b){V(a,"resourceName").isString().check(),V(b,"entityTypeOrName").isInstanceOf(bp).or().isString().check();var c;c=b instanceof bp?b.name:h(this,b,!0),this._resourceEntityTypeMap[a]=c;var d=this._getEntityType(c,!0);d&&!d.defaultResourceName&&(d.defaultResourceName=a)},k._checkEntityType=function(a){if(!a.entityType){var b=a.prototype._$typeName;if(!b)throw new Error("This entity has not been registered. See the MetadataStore.registerEntityTypeCtor method");var c=this._getEntityType(b);c&&(a.entityType=c)}},j}(),bo=function(){function a(a,c,e){a._entityTypeResourceMap={},l(c).forEach(function(c){if(c.cSpaceOSpaceMapping){var e=JSON.parse(c.cSpaceOSpaceMapping),f={};e.forEach(function(a){f[a[0]]=a[1]}),c.cSpaceOSpaceMapping=f}c.entityContainer&&l(c.entityContainer).forEach(function(b){l(b.entitySet).forEach(function(b){var d=p(b.entityType,c).typeName;a.setEntityTypeForResourceName(b.name,d),a._entityTypeResourceMap[d]=b.name})}),c.complexType&&l(c.complexType).forEach(function(b){d(b,c,a)}),c.entityType&&l(c.entityType).forEach(function(d){b(d,c,a)})});var f=a.getIncompleteNavigationProperties();if(f.length>0)throw new Error("Bad nav properties");return e&&a.importMetadata(e,!0),a}function b(a,b,d){var e=a.name,f=q(e,b),g=new bp({shortName:e,namespace:f,isAbstract:a.abstract&&"true"===a.abstract});if(a.baseType){var h=p(a.baseType,b).typeName;g.baseTypeName=h;var i=d._getEntityType(h,!0);if(i)c(g,a,b,d,i);else{var j=d._deferredTypes[h];j||(j=[],d._deferredTypes[h]=j),j.push({entityType:g,csdlEntityType:a})}}else c(g,a,b,d,null);return g}function c(a,b,d,g,h){var j=[];h&&(a.baseEntityType=h,a.autoGeneratedKeyType=h.autoGeneratedKeyType,j=h.keyProperties.map(e("name")),h.dataProperties.forEach(function(b){var c=new br(b);c.isInherited=!0,a.addProperty(c)}),h.navigationProperties.forEach(function(b){var c=new bs(b);c.isInherited=!0,a.addProperty(c)}));var k=b.key?l(b.key.propertyRef).map(e("name")):[];k=j.concat(k),l(b.property).forEach(function(b){f(a,b,d,k)}),l(b.navigationProperty).forEach(function(b){i(a,b,d)}),g.addEntityType(a),a.defaultResourceName=g._entityTypeResourceMap[a.name];var m=g._deferredTypes,n=m[a.name];n&&(n.forEach(function(b){c(b.entityType,b.csdlEntityType,d,g,a)}),delete m[a.name])}function d(a,b,c){var d=a.name,e=q(d,b),g=new bq({shortName:d,namespace:e});return l(a.property).forEach(function(a){f(g,a,b)}),c.addEntityType(g),g}function f(a,b,c,d){var e,f=b.type.split(".");return 2===f.length?e=g(a,b,d):j(b,c)?(e=g(a,b,d),e&&(e.enumType=b.type)):e=h(a,b,c),e&&(a.addProperty(e),k(e)),e}function g(a,b,c){var d=bl.fromEdmDataType(b.type);if(null==d)return a.warnings.push("Unable to recognize DataType for property: "+b.name+" DateType: "+b.type),null;var e="true"===b.nullable||null==b.nullable,f=null!=c&&c.indexOf(b.name)>=0;f&&a.autoGeneratedKeyType===bt.None&&n(b)&&(a.autoGeneratedKeyType=bt.Identity);var g=b.maxLength;g=null==g||"Max"===g?null:parseInt(g,10);var h=new br({nameOnServer:b.name,dataType:d,isNullable:e,isPartOfKey:f,maxLength:g,concurrencyMode:b.concurrencyMode});return d===bl.Undefined&&(h.rawTypeName=b.type),h}function h(a,b,c){var d=p(b.type,c).typeName,e=new br({nameOnServer:b.name,complexTypeName:d,isNullable:!1});return e}function i(a,b,c){var d=o(b,c),f=m(d.end,function(a){return a.role===b.toRole}),g="*"!==f.multiplicity,h=p(f.type,c).typeName,i=d.referentialConstraint;if(i){var j,k={nameOnServer:b.name,entityTypeName:h,isScalar:g,associationName:d.name},n=i.principal,q=i.dependent;b.fromRole===n.role?(j=l(n.propertyRef),k.invForeignKeyNamesOnServer=j.map(e("name"))):(j=l(q.propertyRef),k.foreignKeyNamesOnServer=j.map(e("name")));var r=new bs(k);return a.addProperty(r),r}}function j(a,b){if(!b.enumType)return!1;var c=l(b.enumType),d=a.type.split("."),e=d[d.length-1];return c.some(function(a){return a.name===e})}function k(a){var b;if(a.isNullable||a.validators.push(bb.required()),!a.isComplexProperty){if(a.dataType===bl.String)if(a.maxLength){var c={maxLength:a.maxLength};b=bb.maxLength(c)}else b=bb.string();else b=a.dataType.validatorCtor();a.validators.push(b)}}function n(a){var b=m(Object.keys(a),function(a){return a.indexOf("StoreGeneratedPattern")>=0});if(b)return"Identity"===a[b];var c=a.extensions;if(!c)return!1;var d=m(c,function(a){return"StoreGeneratedPattern"===a.name&&"Identity"===a.value});return!!d}function o(a,b){var c=p(a.relationship,b).shortTypeName,d=b.association;if(!d)return null;Array.isArray(d)||(d=[d]);var e=m(d,function(a){return a.name===c});return e}function p(a,b){if(!a)return null;if(G(a,bn.ANONTYPE_PREFIX))return{shortTypeName:a,namespace:"",typeName:a,isAnonymous:!0};var c=a.split(",")[0],d=c.split(".");if(d.length>1){var e,f=d[d.length-1];if(b)e=q(f,b);else{var g=d.slice(0,d.length-1);e=g.join(".")}return{shortTypeName:f,namespace:e,typeName:M(f,e)}}return{shortTypeName:a,namespace:"",typeName:a}}function q(a,b){var c,d=b.cSpaceOSpaceMapping;if(d){var e=d[b.namespace+"."+a];c=e&&e.substr(0,e.length-(a.length+1))}return c||b.namespace}var r=w(function(a){return a&&p(a).typeName});return{parse:a,normalizeTypeName:r}}(),bp=function(){function b(){return function(){}}function c(a){return a.filter(function(a){return!a.isInherited})}function f(a,b,c){var d=c+"OnServer",e=b[c];if(e&&e.length){if(b.isUnmapped)return;var f=l(e).map(function(c){var d=a.clientPropertyNameToServer(c,b),e=a.serverPropertyNameToClient(d,b);if(c!==e)throw new Error("NamingConvention for this client property name does not roundtrip properly:"+c+"-->"+e);return d});b[d]=Array.isArray(e)?f:f[0]}else{var g=b[d];if(!g||0===g.length)return;var h=l(g).map(function(c){var d=a.serverPropertyNameToClient(c,b),e=a.clientPropertyNameToServer(d,b);if(c!==e)throw new Error("NamingConvention for this server property name does not roundtrip properly:"+c+"-->"+e);return d});b[c]=Array.isArray(g)?h:h[0]}}function g(a,b){var c=b._getEntityType(a.complexTypeName,!0);if(!c)return!1;if(c instanceof bq)return a.dataType=c,a.defaultValue=null,!0;throw new Error("Unable to resolve ComplexType with the name: "+a.complexTypeName+" for the property: "+property.name)}function h(a,b){var c=b._getEntityType(a.entityTypeName,!0);if(!c)return!1;a.entityType=c;var d=m(c.navigationProperties,function(b){return b.associationName===a.associationName&&(b.name!==a.name||b.entityTypeName!==a.entityTypeName)});return a.inverse=d,d||a.invForeignKeyNames.forEach(function(b){var d=c.getDataProperty(b),e=a.parentType;d.inverseNavigationProperty=m(e.navigationProperties,function(a){return a.invForeignKeyNames&&a.invForeignKeyNames.indexOf(d.name)>=0}),i(c.foreignKeyProperties,d)}),k(a),!0}function i(a,b){var c=a.indexOf(b);-1===c&&a.push(b)}function k(a){var b=a.foreignKeyNames;if(0!==b.length){var c=a.parentType,d=b.map(function(a){return c.getDataProperty(a)}),e=c.foreignKeyProperties;d.forEach(function(b){i(e,b),b.relatedNavigationProperty=a,a.relatedDataProperties?a.relatedDataProperties.push(b):a.relatedDataProperties=[b]})}}function n(a,b){var c=a.getPropertyNames(),d=_.getDefaultInstance().getTrackablePropertyNames(b);d.forEach(function(b){if(-1===c.indexOf(b)){var d=new br({name:b,dataType:bl.Undefined,isNullable:!0,isUnmapped:!0});a.subtypes?a.getSelfAndSubtypes().forEach(function(a){a.addProperty(new br(d))}):a.addProperty(d)}})}var o=0,p=function(a){if(arguments.length>1)throw new Error("The EntityType ctor has a single argument that is either a 'MetadataStore' or a configuration object.");"MetadataStore"===a._$typeName?(this.metadataStore=a,this.shortName="Anon_"+ ++o,this.namespace="",this.isAnonymous=!0):X(a).whereParam("shortName").isNonEmptyString().whereParam("namespace").isString().isOptional().withDefault("").whereParam("baseTypeName").isString().isOptional().whereParam("isAbstract").isBoolean().isOptional().withDefault(!1).whereParam("autoGeneratedKeyType").isEnumOf(bt).isOptional().withDefault(bt.None).whereParam("defaultResourceName").isNonEmptyString().isOptional().withDefault(null).whereParam("dataProperties").isOptional().whereParam("navigationProperties").isOptional().whereParam("custom").isOptional().applyAll(this),this.name=M(this.shortName,this.namespace),this.dataProperties=[],this.navigationProperties=[],this.complexProperties=[],this.keyProperties=[],this.foreignKeyProperties=[],this.concurrencyProperties=[],this.unmappedProperties=[],this.validators=[],this.warnings=[],this._mappedPropertiesCount=0,this.subtypes=[],N(this,a.dataProperties,br),N(this,a.navigationProperties,bs)},q=p.prototype;return q._$typeName="EntityType",q.setProperties=function(a){X(a).whereParam("autoGeneratedKeyType").isEnumOf(bt).isOptional().whereParam("defaultResourceName").isString().isOptional().whereParam("custom").isOptional().applyAll(this),a.defaultResourceName&&(this.defaultResourceName=a.defaultResourceName)},q.isSubtypeOf=function(a){V(a,"entityType").isInstanceOf(bp).check();var b=this;do{if(b===a)return!0;b=b.baseEntityType}while(b);return!1},q.getSelfAndSubtypes=function(){var a=[this];return this.subtypes.forEach(function(b){var c=b.getSelfAndSubtypes();a.push.apply(a,c)}),a},q.addProperty=function(a){if(V(a,"dataProperty").isInstanceOf(br).or().isInstanceOf(bs).check(),this.metadataStore&&!a.isUnmapped)throw new Error("The '"+this.name+"' EntityType has already been added to a MetadataStore and therefore no additional properties may be added to it.");if(a.parentType){if(a.parentType!==this)throw new Error("This dataProperty has already been added to "+a.parentType.name);return this}return a.parentType=this,a.isDataProperty?this._addDataProperty(a):this._addNavigationProperty(a),this},q.createEntity=function(b){var c=this._createInstanceCore();return b&&a(b,function(a,b){c.setProperty(a,b)}),this._initializeInstance(c),c},q._createInstanceCore=function(){var a=this.getEntityCtor(),b=new a;return new bf(b),b},q._initializeInstance=function(a){this.baseEntityType&&this.baseEntityType._initializeInstance(a);var b=this.initializationFn;b&&("string"==typeof b&&(b=a[b]),b(a)),this.complexProperties&&this.complexProperties.forEach(function(b){var c=a.getProperty(b.name);Array.isArray(c)?c.forEach(function(a){b.dataType._initializeInstance(a)}):b.dataType._initializeInstance(c)}),a.entityAspect&&(a.entityAspect._initialized=!0)},q.getCtor=q.getEntityCtor=function(a){if(this._ctor&&!a)return this._ctor;var c=this.metadataStore._ctorRegistry,d=c[this.name]||c[this.shortName]||{},e=d.ctor||this._ctor;if(e&&e.prototype.entityType&&e.prototype.entityType.metadataStore!==this.metadataStore)throw new Error("Cannot register the same constructor for "+this.name+" in different metadata stores.  Please define a separate constructor for each metadata store.");if(d.ctor&&a&&(this._extra=void 0),!e){var f=_.getDefaultInstance().createCtor;e=f?f(this):b()}return this.initializationFn=d.initFn,e.prototype._$typeName=this.name,this._setCtor(e),e},q._setCtor=function(a,b){var c=a.prototype;extra=this._extra||{},this._extra=extra;var d=new a;n(this,d),"EntityType"===this._$typeName?c.entityType=this:c.complexType=this,c._$interceptor=b||K,_.getDefaultInstance().initializeEntityPrototype(c),this._ctor=a},q.addValidator=function(a,b){V(a,"validator").isInstanceOf(bb).check(),V(b,"property").isOptional().isString().or().isEntityProperty().check(),b?("string"==typeof b&&(b=this.getProperty(b,!0)),b.validators.push(a)):this.validators.push(a)},q.getProperties=function(){return this.dataProperties.concat(this.navigationProperties)},q.getPropertyNames=function(){return this.getProperties().map(e("name"))},q.getDataProperty=function(a,b){var c=b?"nameOnServer":"name";return m(this.dataProperties,d(c,a))},q.getNavigationProperty=function(a,b){var c=b?"nameOnServer":"name";return m(this.navigationProperties,d(c,a))},q.getProperty=function(a,b){b=b||!1;var c=Array.isArray(a)?a:a.trim().split("."),e=c[0],f=m(this.getProperties(),d("name",e));if(1===c.length){if(f)return f;if(b)throw new Error("unable to locate property: "+e+" on entityType: "+this.name);return null}if(f){c.shift();var g=f.isNavigationProperty?f.entityType:f.dataType;if(g)return g.getProperty(c,b);throw new Error("should not get here - unknown property type for: "+f.name)}if(b)throw new Error("unable to locate property: "+e+" on type: "+this.name);return null},q.toString=function(){return this.name},q.toJSON=function(){return j(this,{shortName:null,namespace:null,baseTypeName:null,isAbstract:!1,autoGeneratedKeyType:null,defaultResourceName:null,dataProperties:c,navigationProperties:c,validators:null,custom:null})},q._clientPropertyPathToServer=function(a){var b=this.metadataStore.namingConvention.clientPropertyNameToServer,c=this,d=a.split(".").map(function(a){var d=c.getProperty(a);return b(a,d)}).join("/");return d},q._updateNames=function(a){var b=this.metadataStore.namingConvention;f(b,a,"name"),a.isNavigationProperty&&(f(b,a,"foreignKeyNames"),f(b,a,"invForeignKeyNames"))},q._checkNavProperty=function(a){if(a.isNavigationProperty){if(a.parentType!==this)throw new Error(I("The navigationProperty '%1' is not a property of entity type '%2'",a.name,this.name));return a}if("string"==typeof a){var b=this.getProperty(a);if(b&&b.isNavigationProperty)return b}throw new Error("The 'navigationProperty' parameter must either be a NavigationProperty or the name of a NavigationProperty")},q._addDataProperty=function(a){this.dataProperties.push(a),a.isPartOfKey&&this.keyProperties.push(a),a.isComplexProperty&&this.complexProperties.push(a),a.concurrencyMode&&"None"!==a.concurrencyMode&&this.concurrencyProperties.push(a),a.isUnmapped&&this.unmappedProperties.push(a)},q._addNavigationProperty=function(a){this.navigationProperties.push(a),L(a.entityTypeName)||(a.entityTypeName=M(a.entityTypeName,this.namespace))},q._updateCps=function(){var a=this.metadataStore,b=a._incompleteComplexTypeMap;this.complexProperties.forEach(function(c){c.complexType||g(c,a)||r(b,c.complexTypeName).push(c)}),this.isComplexType&&((b[this.name]||[]).forEach(function(b){g(b,a)}),delete b[this.name])},q._updateNps=function(){var a=this.metadataStore,b=a._incompleteTypeMap;this.navigationProperties.forEach(function(c){c.entityType||h(c,a)||r(b,c.entityTypeName).push(c)}),(b[this.name]||[]).forEach(function(b){h(b,a)}),delete b[this.name]},p}(),bq=function(){var a=function(a){if(arguments.length>1)throw new Error("The ComplexType ctor has a single argument that is a configuration object.");X(a).whereParam("shortName").isNonEmptyString().whereParam("namespace").isString().isOptional().withDefault("").whereParam("dataProperties").isOptional().whereParam("isComplexType").isOptional().isBoolean().whereParam("custom").isOptional().isBoolean().applyAll(this),this.name=M(this.shortName,this.namespace),this.isComplexType=!0,this.dataProperties=[],this.complexProperties=[],this.validators=[],this.concurrencyProperties=[],this.unmappedProperties=[],this.navigationProperties=[],this.keyProperties=[],N(this,a.dataProperties,br)},b=a.prototype;return b.setProperties=function(a){X(a).whereParam("custom").isOptional().applyAll(this)},b._createInstanceCore=function(a,b){var c=this.getCtor(),d=new c;return new bg(d,a,b),d},b.addProperty=function(a){if(V(a,"dataProperty").isInstanceOf(br).check(),this.metadataStore&&!a.isUnmapped)throw new Error("The '"+this.name+"' ComplexType has already been added to a MetadataStore and therefore no additional properties may be added to it.");if(a.parentType){if(a.parentType!==this)throw new Error("This dataProperty has already been added to "+property.parentType.name);return this}return this._addDataProperty(a),this},b.getProperties=function(){return this.dataProperties},b.addValidator=bp.prototype.addValidator,b.getProperty=bp.prototype.getProperty,b.getPropertyNames=bp.prototype.getPropertyNames,b.createInstance=bp.prototype.createEntity,b._addDataProperty=bp.prototype._addDataProperty,b._updateNames=bp.prototype._updateNames,b._updateCps=bp.prototype._updateCps,b._initializeInstance=bp.prototype._initializeInstance,b.getCtor=bp.prototype.getEntityCtor,b._setCtor=bp.prototype._setCtor,b.toJSON=function(){return j(this,{shortName:null,namespace:null,isComplexType:null,dataProperties:null,validators:null,custom:null})},b._$typeName="ComplexType",a}(),br=function(){var a=function(a){X(a).whereParam("name").isString().isOptional().whereParam("nameOnServer").isString().isOptional().whereParam("dataType").isEnumOf(bl).isOptional().or().isString().or().isInstanceOf(bq).whereParam("complexTypeName").isOptional().whereParam("isNullable").isBoolean().isOptional().withDefault(!0).whereParam("isScalar").isOptional().withDefault(!0).whereParam("defaultValue").isOptional().whereParam("isPartOfKey").isBoolean().isOptional().whereParam("isUnmapped").isBoolean().isOptional().whereParam("concurrencyMode").isString().isOptional().whereParam("maxLength").isNumber().isOptional().whereParam("validators").isInstanceOf(bb).isArray().isOptional().withDefault([]).whereParam("enumType").isOptional().whereParam("rawTypeName").isOptional().whereParam("custom").isOptional().applyAll(this);var b=!!this.name||!!this.nameOnServer;if(!b)throw new Error("A DataProperty must be instantiated with either a 'name' or a 'nameOnServer' property");if(this.complexTypeName)this.isComplexProperty=!0,this.dataType=null;else if("string"==typeof this.dataType){var c=bl.fromName(this.dataType);if(!c)throw new Error("Unable to find a DataType enumeration by the name of: "+this.dataType);this.dataType=c}else this.dataType||(this.dataType=bl.String);if(null==this.defaultValue)if(this.isNullable)this.defaultValue=null;else if(!this.isComplexProperty)if(this.dataType===bl.Binary)this.defaultValue="AAAAAAAAJ3U=";else if(this.defaultValue=this.dataType.defaultValue,null==this.defaultValue)throw new Error("A nonnullable DataProperty cannot have a null defaultValue. Name: "+this.name);this.isComplexProperty&&(this.isScalar=null==this.isScalar||this.isScalar===!0)},b=a.prototype;return b._$typeName="DataProperty",b.isDataProperty=!0,b.isNavigationProperty=!1,b.setProperties=function(a){X(a).whereParam("custom").isOptional().applyAll(this)},b.toJSON=function(){return j(this,{name:null,dataType:function(a){return a&&a.parentEnum?a.name:void 0},complexTypeName:null,isNullable:!0,defaultValue:null,isPartOfKey:!1,isUnmapped:!1,concurrencyMode:null,maxLength:null,validators:null,enumType:null,rawTypeName:null,isScalar:!0,custom:null})},a.fromJSON=function(a){return a.dataType=bl.fromName(a.dataType),a.defaultValue&&a.dataType&&a.dataType.isDate&&(a.defaultValue=new Date(Date.parse(a.defaultValue))),a.validators&&(a.validators=a.validators.map(bb.fromJSON)),new br(a)},a}(),bs=function(){var a=function(a){X(a).whereParam("name").isString().isOptional().whereParam("nameOnServer").isString().isOptional().whereParam("entityTypeName").isString().whereParam("isScalar").isBoolean().whereParam("associationName").isString().isOptional().whereParam("foreignKeyNames").isArray().isString().isOptional().withDefault([]).whereParam("foreignKeyNamesOnServer").isArray().isString().isOptional().withDefault([]).whereParam("invForeignKeyNames").isArray().isString().isOptional().withDefault([]).whereParam("invForeignKeyNamesOnServer").isArray().isString().isOptional().withDefault([]).whereParam("validators").isInstanceOf(bb).isArray().isOptional().withDefault([]).whereParam("custom").isOptional().applyAll(this);var b=!!this.name||!!this.nameOnServer;if(!b)throw new Error("A Navigation property must be instantiated with either a 'name' or a 'nameOnServer' property")},b=a.prototype;return b._$typeName="NavigationProperty",b.isDataProperty=!1,b.isNavigationProperty=!0,b.setProperties=function(a){X(a).whereParam("custom").isOptional().applyAll(this)},b.toJSON=function(){return j(this,{name:null,entityTypeName:null,isScalar:null,associationName:null,validators:null,foreignKeyNames:null,invForeignKeyNames:null,custom:null})},a.fromJSON=function(a){return a.validators&&(a.validators=a.validators.map(bb.fromJSON)),new bs(a)},a}(),bt=function(){var a=new Y("AutoGeneratedKeyType");return a.None=a.addSymbol(),a.Identity=a.addSymbol(),a.KeyGenerator=a.addSymbol(),a.seal(),a}();!function(){function a(a,b){return null==b?!1:void 0!==b.entityType}function b(a,b){return null==b?!1:b.isDataProperty||b.isNavigationProperty}var c=U.prototype;c.isEntity=function(){return this._addContext({fn:a,msg:" must be an entity"})},c.isEntityProperty=function(){return this._addContext({fn:b,msg:" must be either a DataProperty or a NavigationProperty"})}}(),Q.MetadataStore=bn,Q.EntityType=bp,Q.ComplexType=bq,Q.DataProperty=br,Q.NavigationProperty=bs,Q.AutoGeneratedKeyType=bt,bn.normalizeTypeName=bo.normalizeTypeName;var bu=function(){function a(a,b,c){var d=b.name+".."+b.parentType.name,e=a._tempIdMap[d];return e||c&&(e={entityType:b.parentType,propertyName:b.name,keyMap:{}},a._tempIdMap[d]=e),e}var b=function(){this._tempIdMap={}},c=b.prototype;return c.generateTempKeyValue=function(b,c){var d=b.keyProperties;if(d.length>1)throw new Error("Ids can not be autogenerated for entities with multipart keys");var e,f=d[0],g=a(this,f,!0);if(null!=c&&(g.keyMap[c.toString()]||(e=c)),void 0===e){var h=f.dataType;if(!h.getNext)throw new Error("Cannot use a property with a dataType of: "+h.toString()+" for id generation");for(e=h.getNext(this);null!=g.keyMap[e.toString()];)e=h.getNext(this)}return g.keyMap[e.toString()]=!0,e},c.getTempKeys=function(){var a=[];for(var b in this._tempIdMap){var c=this._tempIdMap[b],d=c.entityType;for(var e in c.keyMap)a.push(new bh(d,[e]))}return a},c.isTempKey=function(b){var c=b.entityType.keyProperties;if(c.length>1)return!1;var d=c[0],e=a(this,d);return e?void 0!==e.keyMap[b.values[0].toString()]:!1},$.registerType(b,"KeyGenerator"),b}();Q.KeyGenerator=bu;var bv=function(){var a=function(a){X(a||{}).whereParam("name").isOptional().isString().whereParam("isCaseSensitive").isOptional().isBoolean().whereParam("usesSql92CompliantStringComparison").isBoolean().applyAll(this),this.name||(this.name=x()),$._storeObject(this,b._$typeName,this.name)},b=a.prototype;return b._$typeName="LocalQueryComparisonOptions",a.caseInsensitiveSQL=new a({name:"caseInsensitiveSQL",isCaseSensitive:!1,usesSql92CompliantStringComparison:!0}),a.defaultInstance=new a(a.caseInsensitiveSQL),b.setAsDefault=function(){return i(this,a)},a}();Q.LocalQueryComparisonOptions=bv;var bw=function(){var a=function(a){X(a||{}).whereParam("name").isOptional().isString().whereParam("serverPropertyNameToClient").isFunction().whereParam("clientPropertyNameToServer").isFunction().applyAll(this),this.name||(this.name=x()),$._storeObject(this,b._$typeName,this.name)},b=a.prototype;return b._$typeName="NamingConvention",a.none=new a({name:"noChange",serverPropertyNameToClient:function(a){return a},clientPropertyNameToServer:function(a){return a}}),a.camelCase=new a({name:"camelCase",serverPropertyNameToClient:function(a){return a.substr(0,1).toLowerCase()+a.substr(1)},clientPropertyNameToServer:function(a){return a.substr(0,1).toUpperCase()+a.substr(1)}}),a.defaultInstance=new a(a.none),b.setAsDefault=function(){return i(this,a)},a}();Q.NamingConvention=bw;var bx=function(){function b(c,d,e,f){var g=e._$typeName||e.parentEnum&&e.parentEnum.name,h=g&&g.substr(0,1).toLowerCase()+g.substr(1);if(f&&h!=f)throw new Error("Invalid value for property: "+f);if(h){var i=d[h];if(void 0===i)throw new Error("Invalid config property: "+h);null===i?c[h]=e:i(c,e)}else a(e,function(a,e){b(c,d,e,a)})}function c(a){return V(a,"propertyPaths").isOptional().isString().or().isArray().isString().check(),"string"==typeof a&&(a=a.split(",")),a=a.map(function(a){return a.trim()})}function d(a){var b=a.entityType,c=b.keyProperties.map(function(b){return bC.create(b.name,bA.Equals,a.getProperty(b.name))}),d=bC.and(c);return d}function e(a,b,d){var e,f=a._clone();return null==b?(f.orderByClause=null,f):(b=c(b),e=bF.create(b,d),f.orderByClause?f.orderByClause.addClause(e):f.orderByClause=e,f)}function f(a,b){var d=a._clone();return null==b?(d.selectClause=null,d):(b=c(b),d.selectClause=new bI(b),d)}function h(a,b){var d=a._clone();return null==b?(d.expandClause=null,d):(b=c(b),d.expandClause=new bJ(b),d)}function i(a,b){var c=a._clone();return c.parameters=b,c}function j(a){var b=a.entityType.keyProperties,c=p(b,a.values,function(a,b){return bC.create(a.name,bA.Equals,b)}),d=bC.and(c);return d}function k(a,b){if(b.isScalar){if(0===b.foreignKeyNames.length)return null;var c=b.foreignKeyNames.map(function(b){return a.getProperty(b)}),d=new bh(b.entityType,c);return j(d)}var e=b.inverse,f=e?e.foreignKeyNames:b.invForeignKeyNames;if(0===f.length)return null;var g=a.entityAspect.getKey().values,h=p(f,g,function(a,b){return bC.create(a,bA.Equals,b)});return bC.and(h)}var l=function(a){V(a,"resourceName").isOptional().isString().check(),this.resourceName=a,this.entityType=null,this.wherePredicate=null,this.orderByClause=null,this.selectClause=null,this.skipCount=null,this.takeCount=null,this.expandClause=null,this.parameters={},this.inlineCountEnabled=!1,this.entityManager=null},m=l.prototype;return m._$typeName="EntityQuery",m.from=function(a){V(a,"resourceName").isString().check();var b=this.resourceName;if(b&&b!==a)throw new Error("This query already has an resourceName - the resourceName may only be set once per query");var c=this._clone();return c.resourceName=a,c},l.from=function(a){return V(a,"resourceName").isString().check(),new bx(a)},m.toType=function(a){V(a,"entityType").isString().or().isInstanceOf(bp).check();var b=this._clone();return b.resultEntityType=a,b},m.where=function(a){var b=this._clone();if(null==a)return b.wherePredicate=null,b;var c;return c=bC.isPredicate(a)?a:bC.create(S(arguments)),b.entityType&&c.validate(b.entityType),b.wherePredicate=b.wherePredicate?new bE("and",[b.wherePredicate,c]):c,b},m.orderBy=function(a){return e(this,a)},m.orderByDesc=function(a){return e(this,a,!0)},m.select=function(a){return f(this,a)},m.skip=function(a){V(a,"count").isOptional().isNumber().check();var b=this._clone();return b.skipCount=null==a?null:a,b},m.top=function(a){return this.take(a)},m.take=function(a){V(a,"count").isOptional().isNumber().check();var b=this._clone();return b.takeCount=null==a?null:a,b},m.expand=function(a){return h(this,a)},m.withParameters=function(a){return V(a,"parameters").isObject().check(),i(this,a)},m.inlineCount=function(a){void 0===a&&(a=!0);var b=this._clone();return b.inlineCountEnabled=a,b},m.using=function(a){if(!a)return this;var c=this._clone();return b(c,{entityManager:null,dataService:null,queryOptions:null,fetchStrategy:function(a,b){a.queryOptions=(a.queryOptions||new bM).using(b)},mergeStrategy:function(a,b){a.queryOptions=(a.queryOptions||new bM).using(b)},jsonResultsAdapter:function(a,b){a.dataService=(a.dataService||new bj).using({jsonResultsAdapter:b})}},a),c},m.execute=function(a,b){if(!this.entityManager)throw new Error("An EntityQuery must have its EntityManager property set before calling 'execute'");return this.entityManager.executeQuery(this,a,b)},m.executeLocally=function(){if(!this.entityManager)throw new Error("An EntityQuery must have its EntityManager property set before calling 'executeLocally'");return this.entityManager.executeQueryLocally(this)},l.fromEntities=function(a){V(a,"entities").isEntity().or().isNonEmptyArray().isEntity().check(),Array.isArray(a)||(a=S(arguments));var b=a[0],c=new bx(b.entityType.defaultResourceName),e=a.map(function(a){return d(a)}),f=bC.or(e);c=c.where(f);var g=b.entityAspect.entityManager;return g&&(c=c.using(g)),c},l.fromEntityKey=function(a){V(a,"entityKey").isInstanceOf(bh).check();var b=new bx(a.entityType.defaultResourceName),c=j(a);return b=b.where(c)},l.fromEntityNavigation=function(a,b){V(a,"entity").isEntity().check(),V(b,"navigationProperty").isInstanceOf(bs).check();var c=a.entityType._checkNavProperty(b),d=new bx(c.entityType.defaultResourceName),e=k(a,c);d=d.where(e);var f=a.entityAspect.entityManager;return f&&(d=d.using(f)),d},m._getFromEntityType=function(a,b){var c=this.entityType;if(c)return c;var d=this.resourceName;if(!d)throw new Error("There is no resourceName for this query");if(a.isEmpty()){if(b)throw new Error("There is no metadata available for this query. Are you querying the local cache before you've fetched metadata?");return null}var e=a.getEntityTypeNameForResourceName(d);if(c=e?a._getEntityType(e):this._getToEntityType(a,!0),!c){if(b)throw new Error(I("Cannot find an entityType for resourceName: '%1'.  Consider adding an 'EntityQuery.toType' call to your query or calling the MetadataStore.setEntityTypeForResourceName method to register an entityType for this resourceName.",d));return null}return this.entityType=c,c},m._getToEntityType=function(a,b){return this.resultEntityType instanceof bp?this.resultEntityType:this.resultEntityType?(this.resultEntityType=a._getEntityType(this.resultEntityType,!1),this.resultEntityType):b?null:!this.selectClause&&this._getFromEntityType(a,!1)},m._clone=function(){var a=new bx;return a.resourceName=this.resourceName,a.entityType=this.entityType,a.wherePredicate=this.wherePredicate,a.orderByClause=this.orderByClause,a.selectClause=this.selectClause,a.skipCount=this.skipCount,a.takeCount=this.takeCount,a.expandClause=this.expandClause,a.inlineCountEnabled=this.inlineCountEnabled,a.parameters=g({},this.parameters),a.queryOptions=this.queryOptions,a.entityManager=this.entityManager,a.dataService=this.dataService,a.resultEntityType=this.resultEntityType,a},m._toUri=function(a){function b(){var a=k.wherePredicate;if(a)return k.entityType&&a.validate(k.entityType),a.toOdataFragment(j)}function c(){return k.inlineCountEnabled?k.inlineCountEnabled?"allpages":"none":void 0}function d(){var a=k.orderByClause;if(a)return k.entityType&&a.validate(k.entityType),a.toOdataFragment(j)}function e(){var a=k.selectClause;if(a)return k.entityType&&a.validate(k.entityType),a.toOdataFragment(j)}function f(){var a=k.expandClause;if(a)return a.toOdataFragment(j)}function g(){var a=k.skipCount;if(a)return a.toString()}function h(){var a=k.takeCount;if(null!=a)return a.toString()}function i(a){var b=[];for(var c in a){var d=a[c];void 0!==d&&(d instanceof Array?d.forEach(function(a){b.push(c+"="+encodeURIComponent(a))}):b.push(c+"="+encodeURIComponent(d)))}return b.length>0?"?"+b.join("&"):""}var j=this._getFromEntityType(a,!1);j||(j=new bp(a));var k=this,l={};l.$filter=b(),l.$orderby=d(),l.$skip=g(),l.$top=h(),l.$expand=f(),l.$select=e(),l.$inlinecount=c();var m=i(l);return this.resourceName+m},m._toFilterFunction=function(a){var b=this.wherePredicate;return b?(b.validate(a),b.toFunction(a)):null},m._toOrderByComparer=function(a){var b=this.orderByClause;return b?b.getComparer(a):null},l}(),by=function(){var a={toupper:{fn:function(a){return a.toUpperCase()},dataType:bl.String},tolower:{fn:function(a){return a.toLowerCase()},dataType:bl.String},substring:{fn:function(a,b,c){return a.substring(b,c)},dataType:bl.String},substringof:{fn:function(a,b){return b.indexOf(a)>=0},dataType:bl.Boolean},length:{fn:function(a){return a.length},dataType:bl.Int32},trim:{fn:function(a){return a.trim()},dataType:bl.String},concat:{fn:function(a,b){return a.concat(b)},dataType:bl.String},replace:{fn:function(a,b,c){return a.replace(b,c)},dataType:bl.String},startswith:{fn:function(a,b){return G(a,b)},dataType:bl.Boolean},endswith:{fn:function(a,b){return H(a,b)},dataType:bl.Boolean},indexof:{fn:function(a,b){return a.indexOf(b)},dataType:bl.Int32},round:{fn:function(a){return Math.round(a)},dataType:bl.Int32},ceiling:{fn:function(a){return Math.ceil(a)},dataType:bl.Int32},floor:{fn:function(a){return Math.floor(a)},dataType:bl.Int32},second:{fn:function(a){return a.second},dataType:bl.Int32},minute:{fn:function(a){return a.minute},dataType:bl.Int32},day:{fn:function(a){return a.day},dataType:bl.Int32},month:{fn:function(a){return a.month},dataType:bl.Int32},year:{fn:function(a){return a.year},dataType:bl.Int32}};return a}(),bz=function(){function a(a){var b=a.split(".");return 1===b.length?function(b){return b.getProperty(a)}:function(a){return O(a,b)}}var b=/^[a-z_][\w.$]*$/i,c=/('[^']*'|[^,]+)/g,d=/("[^"]*"|[^,]+)/g,e=function(e,f,g){var h=e.split(":");if(this.isRealNode=!0,1===h.length){var i=h[0].trim();this.value=i;var j=i.substr(0,1),k="'"===j||'"'===j;if(k){var l=i.substr(1,i.length-2);this.fn=function(){return l},this.dataType=bl.String}else{var m=b.test(i);if(m){if(g&&null==g.getProperty(i,!1))return this.isRealNode=!1,void 0;this.propertyPath=i,this.fn=a(i)}else{if(g)return this.isRealNode=!1,void 0;this.fn=function(){return i},this.dataType=bl.fromValue(i)}}}else try{this.fnName=h[0].trim().toLowerCase();var n=by[this.fnName];this.localFn=n.fn,this.dataType=n.dataType;var o=this;this.fn=function(a){var b=o.fnNodes.map(function(b){var c=b.fn(a);return c}),c=o.localFn.apply(null,b);return c};var p=f[h[1]].trim();"("===p.substr(0,1)&&(p=p.substr(1,p.length-2));var q=e.indexOf("'")>=0?c:d,r=p.match(q);this.fnNodes=r.map(function(a){return new bz(a,f)})}catch(s){this.isRealNode=!1}},f=e.prototype;return e.create=function(a,b,c){if("string"!=typeof a)return null;for(var d,e=/\([^()]*\)/,f=[],g=0;d=e.exec(a);){var h=d[0];f.push(h);var i=":"+g++;a=a.replace(h,i)}var j=new bz(a,f,c?null:b);return j.isRealNode?(!j.dataType&&c&&c.isStringFn&&(j.dataType=bl.String),j._validate(b),j):null},f.toString=function(){if(this.fnName){var a=this.fnNodes.map(function(a){return a.toString()}),b=this.fnName+"("+a.join(",")+")";return b}return this.value},f.toOdataFragment=function(a){if(this._validate(a),this.fnName){var b=this.fnNodes.map(function(b){return b.toOdataFragment(a)}),c=this.fnName+"("+b.join(",")+")";return c}var d=this.value.substr(0,1);return"'"===d||'"'===d?this.value:this.value==this.propertyPath?a._clientPropertyPathToServer(this.propertyPath):this.value},f._validate=function(a){if(!this.isValidated)if(this.isValidated=!0,this.propertyPath){if(a.isAnonymous)return;var b=a.getProperty(this.propertyPath,!0);if(!b){var c=I("Unable to resolve propertyPath.  EntityType: '%1'   PropertyPath: '%2'",a.name,this.propertyPath);throw new Error(c)}this.dataType=b.isDataProperty?b.dataType:b.entityType}else this.fnNodes&&this.fnNodes.forEach(function(b){b._validate(a)})},e}(),bA=function(){var a=new Y("FilterQueryOp");return a.Equals=a.addSymbol({operator:"eq",aliases:["=="]}),a.NotEquals=a.addSymbol({operator:"ne",aliases:["!="]}),a.GreaterThan=a.addSymbol({operator:"gt",aliases:[">"]}),a.LessThan=a.addSymbol({operator:"lt",aliases:["<"]}),a.GreaterThanOrEqual=a.addSymbol({operator:"ge",aliases:[">="]}),a.LessThanOrEqual=a.addSymbol({operator:"le",aliases:["<="]}),a.Contains=a.addSymbol({operator:"substringof",isFunction:!0,isStringFn:!0}),a.StartsWith=a.addSymbol({operator:"startswith",isFunction:!0,isStringFn:!0}),a.EndsWith=a.addSymbol({operator:"endswith",isFunction:!0,isStringFn:!0}),a.IsTypeOf=a.addSymbol({operator:"isof",isFunction:!0,aliases:["isTypeOf"]}),a.seal(),a._map=function(){var b={};return a.getSymbols().forEach(function(a){b[a.name.toLowerCase()]=a,b[a.operator.toLowerCase()]=a,a.aliases&&a.aliases.forEach(function(c){b[c.toLowerCase()]=a})}),b}(),a.from=function(b){return a.contains(b)?b:a._map[b.toLowerCase()]},a}(),bB=function(){var a=new Y("BooleanQueryOp");return a.And=a.addSymbol({operator:"and",aliases:["&&"]}),a.Or=a.addSymbol({operator:"or",aliases:["||"]}),a.Not=a.addSymbol({operator:"not",aliases:["~","!"]}),a.seal(),a._map=function(){var b={};return a.getSymbols().forEach(function(a){b[a.name.toLowerCase()]=a,b[a.operator.toLowerCase()]=a,a.aliases&&a.aliases.forEach(function(c){b[c.toLowerCase()]=a})}),b}(),a.from=function(b){return a.contains(b)?b:a._map[b.toLowerCase()]},a}(),bC=function(){function a(a){var b;if(1===a.length&&Array.isArray(a[0]))b=a[0];else{var b=S(a);bC.isPredicate(b[0])||(b=[bC.create(b)])}return b.filter(function(a){return null!=a})}var b=function(a,b,c){return arguments[0].prototype===!0?this:new bD(a,b,c)},c=b.prototype;return b.isPredicate=function(a){return a instanceof bC},b.create=function(a,b,c){return Array.isArray(a)?new bD(a[0],a[1],a[2]):new bD(a,b,c)},b.and=function(b){return b=a(arguments),0===b.length?null:1===b.length?b[0]:new bE("and",b)},b.or=function(b){return b=a(arguments),0===b.length?null:1===b.length?b[0]:new bE("or",b)},b.not=function(a){return new bE("not",[a])},c.and=function(c){return c=a(arguments),c.unshift(this),b.and(c)},c.or=function(c){return c=a(arguments),c.unshift(this),b.or(c)},c.not=function(){return new bE("not",[this])},b}(),bD=function(){function a(a,f,g){var h,i=a.metadataStore.localQueryComparisonOptions,j=P(g);switch(f){case bA.Equals:h=function(a,c){return a&&"string"==typeof a?b(a,c,i):j(a)==j(c)};break;case bA.NotEquals:h=function(a,c){return a&&"string"==typeof a?!b(a,c,i):j(a)!=j(c)};break;case bA.GreaterThan:h=function(a,b){return j(a)>j(b)};break;case bA.GreaterThanOrEqual:h=function(a,b){return j(a)>=j(b)};break;case bA.LessThan:h=function(a,b){return j(a)<j(b)};break;case bA.LessThanOrEqual:h=function(a,b){return j(a)<=j(b)};break;case bA.StartsWith:h=function(a,b){return c(a,b,i)};break;case bA.EndsWith:h=function(a,b){return d(a,b,i)};break;case bA.Contains:h=function(a,b){return e(a,b,i)};break;default:throw new Error("Unknown FilterQueryOp: "+f)}return h}function b(a,b,c){return null==b?!1:("string"!=typeof b&&(b=b.toString()),c.usesSql92CompliantStringComparison&&(a=(a||"").trim(),b=(b||"").trim()),c.isCaseSensitive||(a=(a||"").toLowerCase(),b=(b||"").toLowerCase()),a===b)}function c(a,b,c){return c.isCaseSensitive||(a=(a||"").toLowerCase(),b=(b||"").toLowerCase()),G(a,b)}function d(a,b,c){return c.isCaseSensitive||(a=(a||"").toLowerCase(),b=(b||"").toLowerCase()),H(a,b)}function e(a,b,c){return c.isCaseSensitive||(a=(a||"").toLowerCase(),b=(b||"").toLowerCase()),a.indexOf(b)>=0}var f=function(a,b,c){if(V(a,"propertyOrExpr").isString().isOptional().check(),3!=arguments.length||null==b)return this._odataExpr=a,void 0;if(V(b,"operator").isEnumOf(bA).or().isString().check(),V(c,"value").isRequired(!0).check(),this._filterQueryOp=bA.from(b),!this._filterQueryOp)throw new Error("Unknown query operation: "+b);if(a)this._propertyOrExpr=a;else if(this._filterQueryOp!==bA.IsTypeOf)throw new Error("propertyOrExpr cannot be null except when using the 'IsTypeOf' operator");null!=c&&"object"==typeof c&&void 0!==c.value?(this._dataType=c.dataType||bl.fromValue(c.value),this._value=c.value,this._isLiteral=c.isLiteral):(this._dataType=bl.fromValue(c),this._value=c,this._isLiteral=void 0)},g=new bC({prototype:!0});return f.prototype=g,g.toOdataFragment=function(a){if(this._odataExpr)return this._odataExpr;if(this._filterQueryOp==bA.IsTypeOf){var b=a.metadataStore.getEntityType(this._value),c=b.namespace+"."+b.shortName;return this._filterQueryOp.operator+"("+bl.String.fmtOData(c)+")"}this.validate(a);var d,e=this._fnNode1&&this._fnNode1.toOdataFragment(a);if(this._fnNode2)d=this._fnNode2.toOdataFragment(a);else{var f=this._fnNode1.dataType||this._dataType;d=f.fmtOData(this._value)}return this._filterQueryOp.isFunction?this._filterQueryOp==bA.Contains?this._filterQueryOp.operator+"("+d+","+e+") eq true":this._filterQueryOp.operator+"("+e+","+d+") eq true":e+" "+this._filterQueryOp.operator+" "+d},g.toFunction=function(b){if(this._odataExpr)throw new Exception("OData predicateexpressions cannot be interpreted locally");this.validate(b);var c=this._fnNode1.dataType||this._dataType,d=a(b,this._filterQueryOp,c),e=this._fnNode1.fn;if(this._fnNode2){var f=this._fnNode2.fn;return function(a){return d(e(a),f(a))}}var g=this._value;return function(a){return d(e(a),g)}},g.toString=function(){return I("{%1} %2 {%3}",this._propertyOrExpr,this._filterQueryOp.operator,this._value)},g.validate=function(a){void 0===this._fnNode1&&this._propertyOrExpr&&(this._fnNode1=bz.create(this._propertyOrExpr,a,this._filterQueryOp),this.dataType=this._fnNode1.dataType),void 0!==this._fnNode2||this._isLiteral||(this._fnNode2=bz.create(this._value,a))},f}(),bE=function(){function a(a,b,c){var d,e;switch(b){case bB.Not:return d=c[0].toFunction(a),function(a){return!d(a)};case bB.And:return e=c.map(function(b){return b.toFunction(a)}),function(a){var b=e.reduce(function(b,c){return b&&c(a)},!0);return b};case bB.Or:return e=c.map(function(b){return b.toFunction(a)}),function(a){var b=e.reduce(function(b,c){return b||c(a)},!1);return b};default:throw new Error("Invalid boolean operator:"+b)}}var b=function(a,b){if(!Array.isArray(b))throw new Error("predicates parameter must be an array");if(this._booleanQueryOp=bB.from(a),!this._booleanQueryOp)throw new Error("Unknown query operation: "+a);if(this._booleanQueryOp===bB.Not&&1!==b.length)throw new Error("Only a single predicate can be passed in with the 'Not' operator");this._predicates=b},c=new bC({prototype:!0});return b.prototype=c,c.toOdataFragment=function(a){if(1==this._predicates.length)return this._booleanQueryOp.operator+" "+"("+this._predicates[0].toOdataFragment(a)+")";var b=this._predicates.map(function(b){return"("+b.toOdataFragment(a)+")"}).join(" "+this._booleanQueryOp.operator+" ");return b},c.toFunction=function(b){return a(b,this._booleanQueryOp,this._predicates)},c.toString=function(){if(1==this._predicates.length)return this._booleanQueryOp.operator+" "+"("+this._predicates[0]+")";var a=this._predicates.map(function(a){return"("+a.toString()+")"}).join(" "+this._booleanQueryOp.operator+" ");return a},c.validate=function(a){this._isValidated||(this._predicates.every(function(b){b.validate(a)}),this._isValidated=!0)},b}(),bF=function(){var a=function(b,c){return b.prototype===!0?this:a.create(b,c)},b=a.prototype;return a.create=function(a,b){if(a.length>1){var c=a.map(function(a){return new bG(a,b)});return new bH(c)}return new bG(a[0],b)},a.combine=function(a){return new bH(a)},a.isOrderByClause=function(a){return a instanceof bF},b.addClause=function(a){return new bH([this,a])},a}(),bG=function(){var a=function(a,b){if("string"!=typeof a)throw new Error("propertyPath is not a string");a=a.trim();var c=a.split(" ");if(c.length>1&&b!==!0&&b!==!1&&(b=G(c[1].toLowerCase(),"desc"),!b)){var d=G(c[1].toLowerCase(),"asc");if(!d)throw new Error("the second word in the propertyPath must begin with 'desc' or 'asc'")}this.propertyPath=c[0],this.isDesc=b},b=new bF({prototype:!0});return a.prototype=b,b.validate=function(a){a&&(this.lastProperty=a.getProperty(this.propertyPath,!0))},b.toOdataFragment=function(a){return a._clientPropertyPathToServer(this.propertyPath)+(this.isDesc?" desc":"")},b.getComparer=function(a){if(this.lastProperty||this.validate(a),this.lastProperty)var b=this.lastProperty.dataType,c=this.lastProperty.parentType.metadataStore.localQueryComparisonOptions.isCaseSensitive;var d=this.propertyPath,e=this.isDesc;return function(a,f){var g=O(a,d),h=O(f,d),i=b||g&&bl.fromValue(g)||bl.fromValue(h);if(i===bl.String)c?(g=g||"",h=h||""):(g=(g||"").toLowerCase(),h=(h||"").toLowerCase());else{var j=P(i);g=j(g),h=j(h)}return g===h?0:g>h||void 0===h?e?-1:1:e?1:-1}},a}(),bH=function(){var a=function(a){var b=[];a.forEach(function(a){if(a instanceof bH)b=b.concat(a.orderByClauses);else if(a instanceof bG)b.push(a);else throw new Error("Invalid argument to CompositeOrderByClause ctor.")}),this._orderByClauses=b},b=new bF({prototype:!0});return a.prototype=b,b.validate=function(a){this._orderByClauses.forEach(function(b){b.validate(a)})},b.toOdataFragment=function(a){var b=this._orderByClauses.map(function(b){return b.toOdataFragment(a)});return b.join(",")},b.getComparer=function(a){var b=this._orderByClauses.map(function(b){return b.getComparer(a)});return function(a,c){for(var d=0;d<b.length;d++){var e=b[d](a,c);if(0!==e)return e}return 0}},a}(),bI=function(){var a=function(a){this.propertyPaths=a,this._pathNames=a.map(function(a){return a.replace(".","_")})},b=a.prototype;return b.validate=function(a){a&&this.propertyPaths.forEach(function(b){a.getProperty(b,!0)})},b.toOdataFragment=function(a){var b=this.propertyPaths.map(function(b){return a._clientPropertyPathToServer(b)}).join(",");return b},b.toFunction=function(){var a=this;return function(b){var c={};return a.propertyPaths.forEach(function(d,e){c[a._pathNames[e]]=O(b,d)}),c}},a}(),bJ=function(){var a=function(a){this.propertyPaths=a},b=a.prototype;return b.toOdataFragment=function(a){var b=this.propertyPaths.map(function(b){return a._clientPropertyPathToServer(b)}).join(",");return b},a}();Q.FilterQueryOp=bA,Q.Predicate=bC,Q.EntityQuery=bx,Q.FnNode=bz,Q.OrderByClause=bF;var bK=function(){var a=new Y("MergeStrategy");return a.PreserveChanges=a.addSymbol(),a.OverwriteChanges=a.addSymbol(),a.seal(),a}(),bL=function(){var a=new Y("FetchStrategy");return a.FromServer=a.addSymbol(),a.FromLocalCache=a.addSymbol(),a.seal(),a}(),bM=function(){function a(a,b){return b&&X(b).whereParam("fetchStrategy").isEnumOf(bL).isOptional().whereParam("mergeStrategy").isEnumOf(bK).isOptional().applyAll(a),a}var b=function(b){a(this,b)},c=b.prototype;return c._$typeName="QueryOptions",b.resolve=function(a){return new bM(k(a,["fetchStrategy","mergeStrategy"]))},b.defaultInstance=new b({fetchStrategy:bL.FromServer,mergeStrategy:bK.PreserveChanges}),c.using=function(b){if(!b)return this;var c=new bM(this);return bK.contains(b)?b={mergeStrategy:b}:bL.contains(b)&&(b={fetchStrategy:b}),a(c,b)},c.setAsDefault=function(){return i(this,b)},c.toJSON=function(){return j(this,{fetchStrategy:null,mergeStrategy:null})},b.fromJSON=function(a){return new bM({fetchStrategy:bL.fromName(a.fetchStrategy),mergeStrategy:bK.fromName(a.mergeStrategy)})},b}();Q.QueryOptions=bM,Q.FetchStrategy=bL,Q.MergeStrategy=bK;var bN=function(){function a(a){if(a){if(1===a.length){var b=a[0];return function(a){return a?a.entityAspect.entityState===b:!1}}return function(b){return b?a.some(function(a){return b.entityAspect.entityState===a}):!1}}return function(a){return!!a}}var b=a([bi.Added,bi.Modified,bi.Deleted]),c=function(a,b){this.entityManager=a,this.entityType=b,this._indexMap={},this._entities=[],this._emptyIndexes=[]},d=c.prototype;return d.attachEntity=function(a,b){var c,d=a.entityAspect;d._initialized||this.entityType._initializeInstance(a),delete d._initialized;var e=d.getKey()._keyInGroup;if(c=this._indexMap[e],c>=0){if(this._entities[c]===a)return d.entityState=b,a;throw new Error("This key is already attached: "+d.getKey())}return 0===this._emptyIndexes.length?c=this._entities.push(a)-1:(c=this._emptyIndexes.pop(),this._entities[c]=a),this._indexMap[e]=c,d.entityState=b,d.entityGroup=this,d.entityManager=this.entityManager,a},d.detachEntity=function(a){var b=a.entityAspect,c=b.getKey()._keyInGroup,d=this._indexMap[c];if(void 0===d)throw new Error("internal error - entity cannot be found in group");return delete this._indexMap[c],this._emptyIndexes.push(d),this._entities[d]=null,a},d.findEntityByKey=function(a){var b;b=a instanceof bh?a._keyInGroup:bh.createKeyString(a);var c=this._indexMap[b];return void 0!==c?this._entities[c]:null},d.hasChanges=function(){return this._entities.some(b)},d.getEntities=function(b){var c=a(b);return this._entities.filter(c)},d._clear=function(){this._entities.forEach(function(a){null!=a&&a.entityAspect._detach()}),this._entities=null,this._indexMap=null,this._emptyIndexes=null},d._fixupKey=function(a,b){var c=this._indexMap[a];if(void 0===c)throw new Error("Internal Error in key fixup - unable to locate entity");var d=this._entities[c],e=d.entityType.keyProperties[0].name;d.setProperty(e,b),delete d.entityAspect.hasTempKey,delete this._indexMap[a],this._indexMap[b]=c},d._replaceKey=function(a,b){var c=this._indexMap[a._keyInGroup];delete this._indexMap[a._keyInGroup],this._indexMap[b._keyInGroup]=c},c}(),bO=function(){function b(a,b,c){var d=c?bM.defaultInstance:a.queryOptions,e=c?bP.defaultInstance:a.saveOptions,f=c?bd.defaultInstance:a.validationOptions,g=X(b).whereParam("serviceName").isOptional().isString().whereParam("dataService").isOptional().isInstanceOf(bj).whereParam("queryOptions").isInstanceOf(bM).isOptional().withDefault(d).whereParam("saveOptions").isInstanceOf(bP).isOptional().withDefault(e).whereParam("validationOptions").isInstanceOf(bd).isOptional().withDefault(f).whereParam("keyGeneratorCtor").isFunction().isOptional();c&&(g=g.whereParam("metadataStore").isInstanceOf(bn).isOptional().withDefault(new bn)),g.applyAll(a),h(a.queryOptions,d),h(a.saveOptions,e),h(a.validationOptions,f),b.serviceName&&(a.dataService=new bj({serviceName:a.serviceName})),a.serviceName=a.dataService&&a.dataService.serviceName,a.keyGeneratorCtor=a.keyGeneratorCtor||bu,(c||b.keyGeneratorCtor)&&(a.keyGenerator=new a.keyGeneratorCtor)}function c(b){b.forEach(function(b){var c=[],d=b.entityAspect._validationErrors;a(d,function(a,b){b.isServerError&&c.push(a)}),0!==c.length&&(c.forEach(function(a){delete d[a]}),b.hasValidationErrors=!E(d))})}function d(b){var c=[];return b.forEach(function(b){a(b.entityAspect._validationErrors,function(a,d){c.push({entity:b,errorName:d.validator.name,errorMessage:d.errorMessage,propertyName:d.propertyName,isServerError:d.isServerError})})}),c}function e(a,b){var c=b.entityErrors;if(c){var d=a.entityManager,e=d.metadataStore;b.entityErrors=c.map(function(a){var b=null;if(a.keyValues){var c=e._getEntityType(a.entityTypeName),f=new bh(c,a.keyValues);b=d.findEntityByKey(f)}if(b){var g=a.propertyName?{propertyName:a.propertyName,property:c.getProperty(a.propertyName)}:{},h=bc.getKey(a.errorName||a.errorMessage,a.propertyName),i=new bc(null,g,a.errorMessage,h);i.isServerError=!0,b.entityAspect.addValidationError(i)}var j={entity:b,errorName:a.errorName,errorMessage:a.errorMessage,propertyName:a.propertyName,isServerError:!0};return j})}}function g(a,b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;d>c;c++)if(a[c]!==b[c])return!1;return!0}function i(a,b){return V(b,"entityTypes").isString().isOptional().or().isNonEmptyArray().isString().or().isInstanceOf(bp).or().isNonEmptyArray().isInstanceOf(bp).check(),"string"==typeof b?b=a.metadataStore._getEntityType(b,!1):Array.isArray(b)&&"string"==typeof b[0]&&(b=b.map(function(b){return a.metadataStore._getEntityType(b,!1)})),b}function j(a,b,c){var d,e=C(a,b);return e.forEach(function(a){if(a){var b=a.getEntities(c);d?d.push.apply(d,b):d=b}}),d||[]}function k(a,b){if(b[0]instanceof bh)return{entityKey:b[0],remainingArgs:S(b,1)};if("string"==typeof b[0]&&b.length>=2){var c=a.metadataStore._getEntityType(b[0],!1);return{entityKey:new bh(c,b[1]),remainingArgs:S(b,2)}}throw new Error("This method requires as its initial parameters either an EntityKey or an entityType name followed by a value or an array of values.")}function l(a,b){a.forEach(function(a){a.entityAspect.isBeingSaved=b})}function n(b,c){var d;c?(d={},c.forEach(function(a){var b=d[a.entityType.name];b||(b={},b.entityType=a.entityType,b._entities=[],d[a.entityType.name]=b),b._entities.push(a)})):d=b._entityGroupMap;var e=[],f={};return a(d,function(a,b){f[a]=q(b,e)}),{entityGroupMap:f,tempKeys:e}}function q(a,b){var c={},d=a.entityType,e=d.dataProperties,f=[];return a._entities.forEach(function(a){if(a){var c=s(a,e,b);f.push(c)}}),c.entities=f,c}function s(a,b,c){var d={};b.forEach(function(b){var c=b.name,e=a.getProperty(c);if(null!=e||null!=b.defaultValue)if(e&&e.complexType){var f=b.dataType.dataProperties;d[c]=Array.isArray(e)?0==e.length?[]:e.map(function(a){return s(a,f)}):s(e,f)}else d[c]=e});var e,f;if(a.entityAspect){e=a.entityAspect;var g=e.entityState;f={tempNavPropNames:t(e,c),entityState:g.name},(g.isModified()||g.isDeleted())&&(f.originalValuesMap=e.originalValues),d.entityAspect=f}else e=a.complexAspect,f={},e.originalValues&&!E(e.originalValues)&&(f.originalValuesMap=e.originalValues),d.complexAspect=f;return d}function t(a,b){var c=a.entity;a.hasTempKey&&b.push(a.getKey().toJSON());var d;return c.entityType.navigationProperties.forEach(function(a){if(a.relatedDataProperties){var b=c.getProperty(a.name);b&&b.entityAspect.hasTempKey&&(d=d||[],d.push(a.name))}}),d}function w(a,b,c){var d=c.tempKeyMap,e=a.entityType,f=c.mergeStrategy===bK.OverwriteChanges,g=null,h=e.dataProperties;e.keyProperties;var i=a.entityManager,j=i.entityChanged,k=[];return b.entities.forEach(function(b){var c,l=b.entityAspect,m=R(b,e,!0),n=bi.fromName(l.entityState);if(n.isAdded()?(c=d[m.toString()],g=void 0===c?a.findEntityByKey(m):null):g=a.findEntityByKey(m),g){var o=g.entityAspect.entityState.isUnchanged();f||o?(P(g,b,h,!0),j.publish({entityAction:be.MergeOnImport,entity:g}),o?n.isUnchanged()||i._notifyStateChange(g,!0):n.isUnchanged()&&i._notifyStateChange(g,!1)):(k.push(g),g=null)}else g=e._createInstanceCore(),P(g,b,h,!0),void 0!==c&&(g.setProperty(e.keyProperties[0].name,c.values[0]),l.tempNavPropNames&&l.tempNavPropNames.forEach(function(a){var b=e.getNavigationProperty(a),c=b.relatedDataProperties[0].name,f=g.getProperty(c),h=new bh(b.entityType,[f]),i=d[h.toString()];g.setProperty(c,i.values[0])})),g=a.attachEntity(g,n),j&&(j.publish({entityAction:be.AttachOnImport,entity:g}),n.isUnchanged()||i._notifyStateChange(g,!0));g&&(g.entityAspect.entityState=n,n.isModified()&&(g.entityAspect.originalValuesMap=l.originalValues),k.push(g))}),k}function y(a,b,c){return a=a.then(function(a){return b&&b(a),bm.resolve(a)}).fail(function(a){return c&&c(a),bm.reject(a)})}function z(a,b){var c;return c=b?b.filter(function(b){if(b.entityAspect.entityManager!==a)throw new Error("Only entities in this entityManager may be saved");return!b.entityAspect.entityState.isDetached()}):a.getChanges()}function B(a,b){a._inKeyFixup=!0,b.forEach(function(b){var c=a._entityGroupMap[b.entityTypeName];if(!c)throw new Error("Unable to locate the following fully qualified EntityType name: "+b.entityTypeName);c._fixupKey(b.tempValue,b.realValue)}),a._inKeyFixup=!1}function C(a,b){function c(){return new Error("The EntityManager.getChanges() 'entityTypes' parameter must be either an entityType or an array of entityTypes or null")}var d=a._entityGroupMap;if(b){if(b instanceof bp)return[d[b.name]];if(Array.isArray(b))return b.map(function(a){if(a instanceof bp)return d[a.name];throw c()});throw c()}return f(d)}function D(a,b){var c=b.entityAspect.getKey(),d=p(b.entityType.keyProperties,c.values,function(a,b){return a.defaultValue===b?a:null}).filter(function(a){return null!==a});if(d.length)if(b.entityType.autoGeneratedKeyType!==bt.None)a.generateTempKeyValue(b);else if(d.length===c.values.length)throw new Error("Cannot attach an object to an EntityManager without first setting its key or setting its entityType 'AutoGeneratedKeyType' property to something other than 'None'")}function F(a,b){function c(){return new Error("The EntityManager.getChanges() 'entityStates' parameter must either be null, an entityState or an array of entityStates")}if(!b)return null;if(bi.contains(b))b=[b];else{if(!Array.isArray(b))throw c();b.forEach(function(a){if(!bi.contains(a))throw c()})}return b}function G(a,b,c){var d=bs(a,b.entityType);d.attachEntity(b,c),a._linkRelatedEntities(b)}function H(a,b,c){var d=b.entityType.navigationProperties;d.forEach(function(d){var e=b.getProperty(d.name);if(d.isScalar){if(!e)return;a.attachEntity(e,c)}else e.forEach(function(b){a.attachEntity(b,c)})})}function I(a,b,c,d){try{var e=a.metadataStore;if(e.isEmpty()&&d.hasServerMetadata)throw new Error("cannot execute _executeQueryCore until metadataStore is populated.");if(c.fetchStrategy===bL.FromLocalCache)return bm.fcall(function(){var c=a.executeQueryLocally(b);return{results:c,query:b}});var f=d.makeUrl(e.toQueryString(b)),g={url:f,query:b,entityManager:a,dataService:d,queryOptions:c,refMap:{},deferredFns:[]},h=a.validationOptions.validateOnQuery;return d.adapterInstance.executeQuery(g).then(function(c){var e=v(function(){var b={isLoading:a.isLoading};return a.isLoading=!0,a._pendingPubs=[],b},function(c){a.isLoading=c.isLoading,a._pendingPubs.forEach(function(a){a()}),a._pendingPubs=null,b=null,g=null,c.error&&bm.reject(c.error)},function(){var e=d.jsonResultsAdapter.extractResults(c);Array.isArray(e)||(e=null==e?[]:[e]);var f=e.map(function(a){var b=J(a,g,{nodeType:"root"});return h&&b.entityAspect&&b.entityAspect.validateEntity(),b});return g.deferredFns.length>0&&g.deferredFns.forEach(function(a){a()}),{results:f,query:b,entityManager:a,httpResponse:c.httpResponse,inlineCount:c.inlineCount}});return bm.resolve(e)}).fail(function(c){return c&&(c.query=b,c.entityManager=a),bm.reject(c)})}catch(i){return i&&(i.query=b),bm.reject(i)}}function J(a,b,c){if(null==b.query&&a.entityAspect)return a.entityAspect.entityState.isDeleted()?b.entityManager.detachEntity(a):a.entityAspect.acceptChanges(),a;c=c||{};var d=b.dataService.jsonResultsAdapter.visitNode(a,b,c)||{};return a=d.node||a,b.query&&"root"===c.nodeType&&!d.entityType&&(d.entityType=b.query._getToEntityType&&b.query._getToEntityType(b.entityManager.metadataStore)),K(a,b,d)}function K(a,b,c,d){if(c.ignore||null==a)return null;if(c.nodeRefId){var e=L(c.nodeRefId,b);return"function"==typeof e&&null!=d?(b.deferredFns.push(function(){d(e)}),void 0):e}return c.entityType?c.entityType.isComplexType?a:M(a,b,c):(c.nodeId&&(b.refMap[c.nodeId]=a),"object"!=typeof a||A(a)?a:N(a,b))}function L(a,b){var c=b.refMap[a];return void 0===c?function(){return b.refMap[a]}:c}function M(a,b,c){a._$meta=c;var d=b.entityManager,e=c.entityType;"string"==typeof e&&(e=d.metadataStore._getEntityType(e,!1)),a.entityType=e;var f=b.queryOptions.mergeStrategy,g=null==b.query,h=R(a,e,!1),i=d.findEntityByKey(h);if(i){if(g&&i.entityAspect.entityState.isDeleted())return d.detachEntity(i),i;var j=i.entityAspect.entityState;if(f===bK.OverwriteChanges||j.isUnchanged()){O(i,a,b),i.entityAspect.wasLoaded=!0,c.extra&&(i.entityAspect.extraMetadata=c.extra),i.entityAspect.entityState=bi.Unchanged,i.entityAspect.originalValues={},i.entityAspect.propertyChanged.publish({entity:i,propertyName:null});var k=g?be.MergeOnSave:be.MergeOnQuery;d.entityChanged.publish({entityAction:k,entity:i}),j.isUnchanged||d._notifyStateChange(i,!1)}else Y(b,i,a),e.navigationProperties.forEach(function(c){c.isScalar?ba(a,c,b):bk(a,c,b)})}else i=e._createInstanceCore(),i.initializeFrom&&i.initializeFrom(a),O(i,a,b),c.extra&&(i.entityAspect.extraMetadata=c.extra),G(d,i,bi.Unchanged),i.entityAspect.wasLoaded=!0,d.entityChanged.publish({entityAction:be.AttachOnQuery,entity:i});return i}function N(b,c){var d=c.entityManager,e=c.dataService.jsonResultsAdapter,f=d.metadataStore.namingConvention.serverPropertyNameToClient,g={};return a(b,function(a,b){var d=e.visitNode(b,c,{nodeType:"anonProp",propertyName:a})||{};if(b=d.node||b,!d.ignore){var h=f(a);g[h]=Array.isArray(b)?b.map(function(b,f){return d=e.visitNode(b,c,{nodeType:"anonPropItem",propertyName:a})||{},K(b,c,d,function(a){g[h][f]=a()})}):K(b,c,d,function(a){g[h]=a()})}}),g}function O(a,b,c){Y(c,a,b);var d=a.entityType;P(a,b,d.dataProperties,!1),d.navigationProperties.forEach(function(d){d.isScalar?_(d,a,b,c):bg(d,a,b,c)})}function P(a,b,c,d){if(c.forEach(function(c){Q(a,b,c,d)}),d){var e=a.entityAspect?"entityAspect":"complexAspect",f=b[e].originalValuesMap;f&&(a[e].originalValues=f)}}function Q(a,b,c,d){var e=d?T:U,f=e(b,c);if(void 0!==f){var g;if(c.isComplexProperty){if(null===f)return;g=a.getProperty(c.name);var h=c.dataType,i=h.dataProperties;c.isScalar?P(g,f,i,d):(g.length=0,Array.isArray(f)&&f.forEach(function(b){var e=h._createInstanceCore(a,c);P(e,b,i,d),h._initializeInstance(e),g.push(e)}))}else{var j;c.isScalar?(j=W(c,f),a.setProperty(c.name,j)):(g=a.getProperty(c.name),g.length=0,Array.isArray(f)&&f.forEach(function(a){j=W(c,a),g.push(j)}))}}}function R(a,b,c){var d=c?T:U,e=b.keyProperties.map(function(b){return W(b,d(a,b))});return new bh(b,e)}function T(a,b){var c=a[b.name];return void 0!==c?c:b.defaultValue}function U(a,b){if(b.isUnmapped)return a[b.nameOnServer||b.name];var c=a[b.nameOnServer];return void 0!==c?c:b.defaultValue}function W(a,b){return void 0===b?void 0:(a.dataType.isDate&&b?A(b)||(b=bl.parseDateFromServer(b)):a.dataType===bl.Binary?b&&void 0!==b.$value&&(b=b.$value):a.dataType===bl.Time&&(b=bl.parseTimeFromServer(b)),b)}function Y(a,b,c){var d=c._$meta.nodeId;null!=d&&(a.refMap[d]=b)}function _(a,b,c,d){var e=ba(c,a,d);null!=e&&("function"==typeof e?d.deferredFns.push(function(){e=e(),bb(e,b,a)}):bb(e,b,a))}function ba(a,b,c){var d=a[b.nameOnServer];if(!d)return null;var e=J(d,c,{nodeType:"navProp",navigationProperty:b});return e}function bb(a,b,c){if(a){var d=c.name,e=b.getProperty(d);if(e!==a){b.setProperty(d,a);var f=c.inverse;if(!f)return;if(f.isScalar)a.setProperty(f.name,b);else{var g=a.getProperty(f.name);g.push(b)}}}}function bg(a,b,c,d){var e=bk(c,a,d);if(null!=e){var f=a.inverse;if(f){var g=b.getProperty(a.name);g.wasLoaded=!0,e.forEach(function(a){"function"==typeof a?d.deferredFns.push(function(){a=a(),bo(a,g,b,f)}):bo(a,g,b,f)})}}}function bk(a,b,c){var d=a[b.nameOnServer];if(!d)return null;if(!Array.isArray(d)&&(d=d.results,!d))return null;var e=d.map(function(a){return J(a,c,{nodeType:"navPropItem",navigationProperty:b})});return e}function bo(a,b,c,d){if(a){var e=a.getProperty(d.name);e!==c&&(b.push(a),a.setProperty(d.name,c))}}function bq(a){var b=a.filter(function(a){return a.entityAspect.isBeingSaved=!0,a.entityAspect.entityState.isModified()&&a.entityType.concurrencyProperties.length>0});0!==b.length&&b.forEach(function(a){a.entityType.concurrencyProperties.forEach(function(b){br(a,b)})})}function br(a,b){if(!a.entityAspect.originalValues[b.name]){var c=a.getProperty(b.name);if(c||(c=b.dataType.defaultValue),b.dataType.isNumeric)a.setProperty(b.name,c+1);else if(b.dataType.isDate){for(var d=new Date,e=new Date;d.getTime()===e.getTime();)e=new Date;a.setProperty(b.name,e)}else{if(b.dataType!==bl.Guid){if(b.dataType===bl.Binary)return;throw new Error("Unable to update the value of concurrency property before saving: "+b.name)}a.setProperty(b.name,x())}}}function bs(a,b){var c=a._entityGroupMap[b.name];return c||(c=new bN(a,b),a._entityGroupMap[b.name]=c),c}function bv(a,b){var c=b.getSelfAndSubtypes();return c.map(function(b){return bs(a,b)})}function bw(a,b){var c={},d=a.entityType||a.complexType;return d.dataProperties.forEach(function(d){if(d.isUnmapped){if(b)return;var e=a.getProperty(d.name);e=bA(e,d,!1),void 0!==e&&(c.__unmapped=c.__unmapped||{},c.__unmapped[d.name]=e)}else if(d.isComplexProperty)if(d.isScalar)c[d.nameOnServer]=bw(a.getProperty(d.name),b);else{var f=a.getProperty(d.name);c[d.nameOnServer]=f.map(function(a){return bw(a,b)})}else{var e=a.getProperty(d.name);e=bA(e,d,b),void 0!==e&&(c[d.nameOnServer]=e)}}),c}function by(b,c,d){var e=b.entityType||b.complexType,f=b.entityAspect||b.complexAspect,g=c.namingConvention.clientPropertyNameToServer,h={};return a(f.originalValues,function(a,b){var c=e.getProperty(a);b=bA(b,c,d),void 0!==b&&(h[g(a,c)]=b)}),e.complexProperties.forEach(function(a){var e=b.getProperty(a.name);if(a.isScalar){var f=by(e,c,d);E(f)||(h[g(a.name,a)]=f)}else{var i=e.map(function(a){return by(a,c,d)});h[g(a.name,a)]=i}}),h}function bz(b,c,d){var e=b.entityType||b.complexType,f=b.entityAspect||b.complexAspect,g=c.namingConvention.clientPropertyNameToServer,h={};return a(f.originalValues,function(a){var c=e.getProperty(a),f=b.getProperty(a);f=bA(f,c,d),void 0!==f&&(h[g(a,c)]=f)}),e.complexProperties.forEach(function(a){var d=b.getProperty(a.name);if(a.isScalar){var e=bz(d,c);E(e)||(h[g(a.name,a)]=e)}else{var f=d.map(function(a){return bz(a,c)});h[g(a.name,a)]=f}}),h}function bA(a,b,c){if(c){if(b.isUnmapped)return;b.dataType===bl.DateTimeOffset?a=a&&new Date(a.getTime()-6e4*a.getTimezoneOffset()):b.dataType.quoteJsonOData&&(a=null!=a?a.toString():a)}return a}function bB(){this.map={}}var bC=function(a){if(arguments.length>1)throw new Error("The EntityManager ctor has a single optional argument that is either a 'serviceName' or a configuration object.");0===arguments.length?a={serviceName:""}:"string"==typeof a&&(a={serviceName:a}),b(this,a,!0),this.entityChanged=new Z("entityChanged",this),this.validationErrorsChanged=new Z("validationErrorsChanged",this),this.hasChangesChanged=new Z("hasChangesChanged",this),this.clear()},bD=bC.prototype;return bD._$typeName="EntityManager",Z.bubbleEvent(bD,null),bD.setProperties=function(a){b(this,a,!1)},bD.createEntity=function(a,b,c){V(a,"entityType").isString().or().isInstanceOf(bp).check(),"string"==typeof a&&(a=this.metadataStore._getEntityType(a)),c=c||bi.Added;var d;return u(this,"isLoading",!0,function(){d=a.createEntity(b)}),c!==bi.Detached&&this.attachEntity(d,c),d},bC.importEntities=function(a,b){var c=new bO;return c.importEntities(a,b),c},bD.acceptChanges=function(){this.getChanges().forEach(function(a){a.entityAspect.acceptChanges()})},bD.rejectChanges=function(){this.getChanges().forEach(function(a){a.entityAspect.rejectChanges()})},bD.exportEntities=function(a){var b=n(this,a),c={metadataStore:this.metadataStore.exportMetadata(),dataService:this.dataService,saveOptions:this.saveOptions,queryOptions:this.queryOptions,validationOptions:this.validationOptions,tempKeys:b.tempKeys,entityGroupMap:b.entityGroupMap},d=JSON.stringify(c,null,$.stringifyPad);return d},bD.importEntities=function(b,c){c=c||{},X(c).whereParam("mergeStrategy").isEnumOf(bK).isOptional().withDefault(this.queryOptions.mergeStrategy).applyAll(c);var d=this,e="string"==typeof b?JSON.parse(b):b;this.metadataStore.importMetadata(e.metadataStore),this.dataService=e.dataService&&bj.fromJSON(e.dataService)||new bj({serviceName:e.serviceName}),this.saveOptions=new bP(e.saveOptions),this.queryOptions=bM.fromJSON(e.queryOptions),this.validationOptions=new bd(e.validationOptions);var f={};e.tempKeys.forEach(function(a){var b=bh.fromJSON(a,d.metadataStore);f[b.toString()]=new bh(b.entityType,d.keyGenerator.generateTempKeyValue(b.entityType,b.values[0]))});var g=[];return c.tempKeyMap=f,v(function(){d._pendingPubs=[]},function(){d._pendingPubs.forEach(function(a){a()}),d._pendingPubs=null},function(){a(e.entityGroupMap,function(a,b){var e=d.metadataStore._getEntityType(a,!0),f=bs(d,e),h=w(f,b,c);Array.prototype.push.apply(g,h)}),g.forEach(function(a){d._linkRelatedEntities(a)})}),{entities:g,tempKeyMapping:f}},bD.clear=function(){a(this._entityGroupMap,function(a,b){b._clear()}),this._entityGroupMap={},this._unattachedChildrenMap=new bB,this.keyGenerator=new this.keyGeneratorCtor,this.entityChanged.publish({entityAction:be.Clear}),this._hasChanges&&(this._hasChanges=!1,this.hasChangesChanged.publish({entityManager:this,hasChanges:!1}))},bD.createEmptyCopy=function(){var a=new bC({dataService:this.dataService,metadataStore:this.metadataStore,queryOptions:this.queryOptions,saveOptions:this.saveOptions,validationOptions:this.validationOptions,keyGeneratorCtor:this.keyGeneratorCtor});return a},bD.addEntity=function(a){return this.attachEntity(a,bi.Added)},bD.attachEntity=function(a,b){if(V(a,"entity").isRequired().check(),this.metadataStore._checkEntityType(a),b=V(b,"entityState").isEnumOf(bi).isOptional().check(bi.Unchanged),a.entityType.metadataStore!==this.metadataStore)throw new Error("Cannot attach this entity because the EntityType and MetadataStore associated with this entity does not match this EntityManager's MetadataStore.");var c=a.entityAspect;c||(c=new bf(a));var d=c.entityManager;if(d){if(d===this)return a;throw new Error("This entity already belongs to another EntityManager")}var e=this;return u(this,"isLoading",!0,function(){b.isAdded()&&D(e,a),G(e,a,b),H(e,a,b)}),this.validationOptions.validateOnAttach&&a.entityAspect.validateEntity(),b.isUnchanged()||this._notifyStateChange(a,!0),this.entityChanged.publish({entityAction:be.Attach,entity:a}),a},bD.detachEntity=function(a){V(a,"entity").isEntity().check();var b=a.entityAspect;if(!b)return!1;if(b.entityManager!==this)throw new Error("This entity does not belong to this EntityManager.");return b.setDetached()},bD.fetchMetadata=function(a,b,c){"function"==typeof a?(c=b,b=a,a=null):(V(a,"dataService").isInstanceOf(bj).isOptional().check(),V(b,"callback").isFunction().isOptional().check(),V(c,"errorCallback").isFunction().isOptional().check());var d=this.metadataStore.fetchMetadata(a||this.dataService);return y(d,b,c)},bD.executeQuery=function(a,b,c){V(a,"query").isInstanceOf(bx).or().isString().check(),V(b,"callback").isFunction().isOptional().check(),V(c,"errorCallback").isFunction().isOptional().check();var d,e=bM.resolve([a.queryOptions,this.queryOptions,bM.defaultInstance]),f=bj.resolve([a.dataService,this.dataService]);if(!f.hasServerMetadata||this.metadataStore.hasMetadataFor(f.serviceName))d=I(this,a,e,f);else{var g=this;d=this.fetchMetadata(f).then(function(){return I(g,a,e,f)})}return y(d,b,c)},bD.executeQueryLocally=function(a){V(a,"query").isInstanceOf(bx).check();var b=this.metadataStore,c=a._getFromEntityType(b,!0),d=bv(this,c),e=a._toFilterFunction(c);if(e)var f=function(a){return a&&!a.entityAspect.entityState.isDeleted()&&e(a)};else var f=function(a){return a&&!a.entityAspect.entityState.isDeleted()};var g=[];d.forEach(function(a){g.push.apply(g,a._entities.filter(f))});var h=a._toOrderByComparer(c);h&&g.sort(h);var i=a.skipCount;i&&(g=g.slice(i));var j=a.takeCount;j&&(g=g.slice(0,j));var k=a.selectClause;if(k){var l=k.toFunction();g=g.map(function(a){return l(a)})}return g},bD.saveChanges=function(a,b,f,h){V(a,"entities").isOptional().isArray().isEntity().check(),V(b,"saveOptions").isInstanceOf(bP).isOptional().check(),V(f,"callback").isFunction().isOptional().check(),V(h,"errorCallback").isFunction().isOptional().check(),b=b||this.saveOptions||bP.defaultInstance;var i=null==a,j=z(this,a);if(0===j.length){var k={entities:[],keyMappings:[]};return f&&f(k),bm.resolve(k)}if(!b.allowConcurrentSaves){var m=j.some(function(a){return a.entityAspect.isBeingSaved});if(m){var n=new Error("Concurrent saves not allowed - SaveOptions.allowConcurrentSaves is false");return h&&h(n),bm.reject(n)}}if(c(j),this.validationOptions.validateOnSave){var o=j.filter(function(a){var b=a.entityAspect,c=b.entityState.isDeleted()||b.validateEntity();return!c});if(o.length>0){var p=new Error("Client side validation errors encountered - see the entityErrors collection on this object for more detail");return p.entityErrors=d(o),h&&h(p),bm.reject(p)}}bq(j);var q=bj.resolve([b.dataService,this.dataService]),r={entityManager:this,dataService:q,resourceName:b.resourceName||this.saveOptions.resourceName||"SaveChanges"},s={mergeStrategy:bK.OverwriteChanges},t={entities:j,saveOptions:b},u=this;return q.adapterInstance.saveChanges(r,t).then(function(a){B(u,a.keyMappings);var b={query:null,entityManager:u,queryOptions:s,dataService:q,refMap:{},deferredFns:[]},c=a.entities.map(function(a){return J(a,b,{nodeType:"root"})});return l(j,!1),u._hasChanges=i&&g(j,c)?!1:u._hasChangesCore(),u._hasChanges||u.hasChangesChanged.publish({entityManager:u,hasChanges:!1}),a.entities=c,f&&f(a),bm.resolve(a)},function(a){return e(r,a),l(j,!1),h&&h(a),bm.reject(a)})},bD._findEntityGroup=function(a){return this._entityGroupMap[a.name]},bD.getEntityByKey=function(){var a,b=k(this,arguments).entityKey,c=b._subtypes;if(!c)return a=this._findEntityGroup(b.entityType),a&&a.findEntityByKey(b);for(var d=0,e=c.length;e>d;d++){a=this._findEntityGroup(c[d]);var f=a&&a.findEntityByKey(b);if(f)return f}},bD.fetchEntityByKey=function(){var a,b=k(this,arguments),c=b.entityKey,d=0===b.remainingArgs.length?!1:!!b.remainingArgs[0],e=!1;return d&&(a=this.getEntityByKey(c),e=a&&a.entityAspect.entityState.isDeleted(),e&&(a=null,this.queryOptions.mergeStrategy===bK.OverwriteChanges&&(e=!1))),a||e?bm.resolve({entity:a,entityKey:c,fromCache:!0}):bx.fromEntityKey(c).using(this).execute().then(function(b){return a=0===b.results.length?null:b.results[0],bm.resolve({entity:a,entityKey:c,fromCache:!1})})},bD.findEntityByKey=function(a){return this.getEntityByKey(a)},bD.generateTempKeyValue=function(a){V(a,"entity").isEntity().check();var b=a.entityType,c=this.keyGenerator.generateTempKeyValue(b),d=b.keyProperties[0];return a.setProperty(d.name,c),a.entityAspect.hasTempKey=!0,c},bD.hasChanges=function(a){return this._hasChanges?void 0===a?this._hasChanges:this._hasChangesCore(a):!1},bD._hasChangesCore=function(a){a=i(this,a);var b=C(this,a);return b.some(function(a){return a.hasChanges()})},bD.getChanges=function(a){a=i(this,a);var b=[bi.Added,bi.Modified,bi.Deleted];return j(this,a,b)},bD.rejectChanges=function(){if(!this._hasChanges)return[];var a=[bi.Added,bi.Modified,bi.Deleted],b=j(this,null,a);return this._hasChanges=!1,b.forEach(function(a){a.entityAspect.rejectChanges()}),this.hasChangesChanged.publish({entityManager:this,hasChanges:!1}),b},bD.getEntities=function(a,b){return a=i(this,a),V(b,"entityStates").isOptional().isEnumOf(bi).or().isNonEmptyArray().isEnumOf(bi).check(),b&&(b=F(this,b)),j(this,a,b)},bD._notifyStateChange=function(a,b){this.entityChanged.publish({entityAction:be.EntityStateChange,entity:a}),b?this._hasChanges||(this._hasChanges=!0,this.hasChangesChanged.publish({entityManager:this,hasChanges:!0})):this._hasChanges&&(this._hasChanges=this._hasChangesCore(),this._hasChanges||this.hasChangesChanged.publish({entityManager:this,hasChanges:!1}))},bD._linkRelatedEntities=function(a){var b=this,c=a.entityAspect;u(b,"isLoading",!0,function(){var d=b._unattachedChildrenMap,e=c.getKey(),f=d.getTuples(e);f&&f.forEach(function(b){var c,f,g=b.children.filter(function(a){return a.entityAspect.entityState!==bi.Detached}),h=b.navigationProperty;if(h.inverse)if(c=h,f=h.inverse,f.isScalar){var i=g[0];a.setProperty(f.name,i),i.setProperty(c.name,a)}else{var j=a.getProperty(f.name);g.forEach(function(b){j.push(b),b.setProperty(c.name,a)})}else if(h.parentType===a.entityType)if(f=h,f.isScalar)a.setProperty(f.name,g[0]);else{var j=a.getProperty(f.name);g.forEach(function(a){j._push(a)})}else c=h,g.forEach(function(b){b.setProperty(c.name,a)});d.removeChildren(e,c)}),a.entityType.navigationProperties.forEach(function(e){if(e.isScalar){var f=a.getProperty(e.name);if(f)return}var g=c.getParentKey(e);if(g){if(g._isEmpty())return;var h=b.findEntityByKey(g);h?a.setProperty(e.name,h):d.addChild(g,e,a)}}),a.entityType.foreignKeyProperties.forEach(function(c){var e=c.inverseNavigationProperty;if(e){var f=a.getProperty(c.name),g=new bh(e.parentType,[f]),h=b.findEntityByKey(g);h?e.isScalar?h.setProperty(e.name,a):b.isLoading?h.getProperty(e.name)._push(a):h.getProperty(e.name).push(a):d.addChild(g,e,a)}})})},bD.helper={unwrapInstance:bw,unwrapOriginalValues:by,unwrapChangedValues:bz,getEntityKeyFromRawEntity:R},bB.prototype.addChild=function(a,b,c){var d=this.getTuple(a,b);d||(d={navigationProperty:b,children:[]},r(this.map,a.toString()).push(d)),d.children.push(c)},bB.prototype.removeChildren=function(a,b){var c=this.map[a.toString()];c&&(o(c,function(a){return a.navigationProperty===b}),c.length||delete this.map[a.toString()])},bB.prototype.getChildren=function(a,b){var c=this.getTuple(a,b);return c?c.children.filter(function(a){return!a.entityAspect.entityState.isDetached()}):null},bB.prototype.getTuple=function(a,b){var c=this.map[a.toString()];if(!c)return null;var d=m(c,function(a){return a.navigationProperty===b});return d},bB.prototype.getTuples=function(a){return this.map[a.toString()]},bC}();Q.EntityManager=bO;var bP=function(){function a(a,b){return b&&X(b).whereParam("resourceName").isOptional().isString().whereParam("dataService").isOptional().isInstanceOf(bj).whereParam("allowConcurrentSaves").isBoolean().isOptional().whereParam("tag").isOptional().applyAll(a),a}var b=function(b){a(this,b)},c=b.prototype;return c._$typeName="SaveOptions",c.setAsDefault=function(){return i(this,b)},c.using=function(b){return a(this,b)},b.defaultInstance=new b({allowConcurrentSaves:!1}),b}();Q.SaveOptions=bP,Q.AbstractDataServiceAdapter=function(){function a(a,c,d){var e=b(c);return d&&(e.message=d+"; "+e.message),a.reject(e)}function b(a){var b=new Error;b.httpResponse=a,b.status=a.status;var d=a.data;if("string"==typeof d)try{d=JSON.parse(d)}catch(e){}if(d){var f=d.EntityErrors||d.entityErrors||d.Errors||d.errors;f&&a.saveContext?c(b,f,a.saveContext):(d=d.InnerException||d,b.message=d.ExceptionMessage||d.Message||d.toString())}else b.message=a.error&&a.error.toString();return b}function c(a,b,c){a.message="Server side errors encountered - see the entityErrors collection on this object for more detail";var d=c.entityManager.metadataStore.namingConvention.serverPropertyNameToClient;a.entityErrors=b.map(function(a){return{errorName:a.ErrorName,entityTypeName:bn.normalizeTypeName(a.EntityTypeName),keyValues:a.KeyValues,propertyName:a.PropertyName&&d(a.PropertyName),errorMessage:a.ErrorMessage}})}var d,e=function(){};return e.prototype.checkForRecomposition=function(a){"ajax"===a.interfaceName&&a.isDefault&&this.initialize()},e.prototype.initialize=function(){if(d=Q.config.getAdapterInstance("ajax"),!d)throw new Error("Unable to initialize ajax for WebApi.");var a=d.ajax;if(!a)throw new Error("Breeze was unable to find an 'ajax' adapter")},e.prototype.fetchMetadata=function(b,c){var e=c.serviceName,f=c.makeUrl("Metadata"),g=bm.defer();return d.ajax({type:"GET",url:f,dataType:"json",success:function(d){if(b.hasMetadataFor(e))return g.resolve("already fetched");var h=d.data;try{var i="string"==typeof h?JSON.parse(h):h;b.importMetadata(i)}catch(j){var k="Unable to either parse or import metadata: "+j.message;return a(g,d,"Metadata query failed for: "+f+". "+k)}b.hasMetadataFor(e)||b.addDataService(c),g.resolve(i)},error:function(b){a(g,b,"Metadata query failed for: "+f)}}),g.promise},e.prototype.executeQuery=function(b){var c=bm.defer(),e={type:"GET",url:b.url,params:b.query.parameters,dataType:"json",success:function(b){var d=b.data;try{var e;e=d&&d.Results?{results:d.Results,inlineCount:d.InlineCount,httpResponse:b}:{results:d,httpResponse:b},c.resolve(e)}catch(f){f instanceof Error?c.reject(f):a(b)}},error:function(b){a(c,b)}};return b.dataService.useJsonp&&(e.dataType="jsonp",e.crossDomain=!0),d.ajax(e),c.promise},e.prototype.saveChanges=function(b,c){var e=bm.defer();c=this._prepareSaveBundle(c,b);var f=JSON.stringify(c),g=b.dataService.makeUrl(b.resourceName),h=this;return d.ajax({type:"POST",url:g,dataType:"json",contentType:"application/json",data:f,success:function(c){var d=c.data;c.saveContext=b;var f=d.Errors||d.errors;if(f)a(e,c);else{var g=h._prepareSaveResult(b,d);e.resolve(g)}},error:function(c){c.saveContext=b,a(e,c)}}),e.promise},e.prototype._prepareSaveBundle=function(){throw new Error("Need a concrete implementation of _prepareSaveBundle")},e.prototype._prepareSaveResult=function(){throw new Error("Need a concrete implementation of _prepareSaveResult")},e.prototype.jsonResultsAdapter=new bk({name:"noop",visitNode:function(){return{}}}),e}(),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&define(["breeze"],a)}(function(a){function b(a){var c,d,e="";for(var f in a){var g=a[f];if(g instanceof Array)for(var h=0;h<g.length;++h)c=g[h],fullSubName=f+"["+h+"]",d={},d[fullSubName]=c,e+=b(d)+"&";else if(g instanceof Object)for(var i in g)c=g[i],fullSubName=f+"["+i+"]",d={},d[fullSubName]=c,e+=b(d)+"&";else void 0!==g&&(e+=encodeURIComponent(f)+"="+encodeURIComponent(g)+"&")}return e.length?e.substr(0,e.length-1):e}var c,d,e=a.core,f=function(){this.name="angular",this.defaultSettings={}};f.prototype.initialize=function(){var a=e.requireLib("angular");if(a){var b=a.injector(["ng"]);b.invoke(["$http","$rootScope",function(a,b){c=a,d=b}])}},f.prototype.setHttp=function(a){c=a,d=null},f.prototype.ajax=function(a){if(!c)throw new Error("Unable to locate angular for ajax adapter");var f={method:a.type,url:a.url,dataType:a.dataType,contentType:a.contentType,crossDomain:a.crossDomain};if(a.params){var g=f.url.indexOf("?")>=0?"&":"?";f.url=f.url+g+b(a.params)}if(a.data&&(f.data=a.data),!e.isEmpty(this.defaultSettings)){var h=e.extend({},this.defaultSettings);f=e.extend(h,f)}c(f).success(function(b,c,d){"null"===b&&(b=null);var e={data:b,status:c,getHeaders:d,config:a};a.success(e)}).error(function(b,c,d){var e={data:b,status:c,getHeaders:d,config:a};a.error(e)}),d&&d.$digest()},a.config.registerAdapter("ajax",f)}),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&define(["breeze"],a)}(function(a){function b(a){return function(b){return b&&b.length>0?a.getResponseHeader(b):a.getAllResponseHeaders()}}var c,d=a.core,e=function(){this.name="jQuery",this.defaultSettings={}};e.prototype.initialize=function(){c=d.requireLib("jQuery")},e.prototype.ajax=function(a){if(!c)throw new Error("Unable to locate jQuery");var e={type:a.type,url:a.url,data:a.params||a.data,dataType:a.dataType,contentType:a.contentType,crossDomain:a.crossDomain};if(!d.isEmpty(this.defaultSettings)){var f=d.extend({},this.defaultSettings);e=d.extend(f,e)}e.success=function(c,d,e){var f={data:c,status:e.status,getHeaders:b(e),config:a};a.success(f),e.onreadystatechange=null,e.abort=null},e.error=function(c,d,e){var f={data:c.responseText,status:c.status,getHeaders:b(c),error:e,config:a};a.error(f),c.onreadystatechange=null,c.abort=null},c.ajax(e)},a.config.registerAdapter("ajax",e)}),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&!Q&&define(["breeze"],a)}(function(a){function b(a,b){var d=[],e=[],f=[],g=a.dataService.serviceName,h=a.entityManager,i=h.helper,j=0;return b.entities.forEach(function(a){var b=a.entityAspect;j+=1;var k={headers:{"Content-ID":j,DataServiceVersion:"2.0"}};if(f[j]=a,b.entityState.isAdded())k.requestUri=a.entityType.defaultResourceName,k.method="POST",k.data=i.unwrapInstance(a,!0),e[j]=b.getKey();else if(b.entityState.isModified())c(k,b,g),k.method="MERGE",k.data=i.unwrapChangedValues(a,h.metadataStore,!0);else{if(!b.entityState.isDeleted())return;c(k,b,g),k.method="DELETE"}d.push(k)}),a.contentKeys=f,a.tempKeys=e,{__batchRequests:[{__changeRequests:d}]}}function c(a,b,c){var d=b.extraMetadata,e=d.uri||d.id;G(e,c)&&(e=e.substring(c.length)),a.requestUri=e,d.etag&&(a.headers["If-Match"]=d.etag)}function d(a,b){var c=new Error,d=a.response;if(c.message=d.statusText,c.statusText=d.statusText,c.status=d.statusCode,b&&(c.url=b),c.body=d.body,d.body){var f;try{var g=JSON.parse(d.body);c.body=g,g["odata.error"]&&(g=g["odata.error"]);var h="";do f=g.error||g.innererror,f||(h+=e(g)),f=f||g.internalexception,g=f||g;while(f);h.length>0&&(c.message=h)}catch(i){}}return c}function e(a){var b=a.message||"";return("string"==typeof b?b:b.value)+"; "}var f,g=a.core,h=a.MetadataStore,i=a.JsonResultsAdapter,j=function(){this.name="OData"};j.prototype.initialize=function(){f=g.requireLib("OData","Needed to support remote OData services"),f.jsonHandler.recognizeDates=!0},j.prototype.executeQuery=function(a){var b=bm.defer();return f.read({requestUri:a.url,headers:{DataServiceVersion:"2.0"}},function(a){var c;return a.__count&&(c=parseInt(a.__count,10)),b.resolve({results:a.results,inlineCount:c})},function(c){return b.reject(d(c,a.url))}),b.promise},j.prototype.fetchMetadata=function(a,b){var c=bm.defer(),e=b.serviceName,g=b.makeUrl("$metadata");return f.read(g,function(d){if(!d||!d.dataServices){var f=new Error("Metadata query failed for: "+g);return c.reject(f)}var h=d.dataServices;if(!a.hasMetadataFor(e)){try{a.importMetadata(h)}catch(i){return c.reject(new Error("Metadata query failed for "+g+"; Unable to process returned metadata: "+i.message))}a.addDataService(b)}return c.resolve(h)},function(a){var b=d(a,g);return b.message="Metadata query failed for: "+g+"; "+(b.message||""),c.reject(b)},f.metadataHandler),c.promise},j.prototype.saveChanges=function(a,c){var e=bm.defer(),g=a.entityManager.helper,h=a.dataService.makeUrl("$batch"),i=b(a,c),j=a.tempKeys,k=a.contentKeys;return f.request({headers:{DataServiceVersion:"2.0"},requestUri:h,method:"POST",data:i},function(a){var b=[],c=[],f={entities:b,keyMappings:c};return a.__batchResponses.forEach(function(a){a.__changeResponses.forEach(function(a){var f=a.response||a,i=f.statusCode;if(!i||i>=400)return e.reject(d(a,h));var l=a.headers["Content-ID"],m=a.data;if(m){var n=j[l];if(n){var o=n.entityType;if(o.autoGeneratedKeyType!==bt.None){var p=n.values[0],q=g.getEntityKeyFromRawEntity(m,o,!1),r={entityTypeName:o.name,tempValue:p,realValue:q.values[0]};c.push(r)}}b.push(m)}else{var s=k[l];b.push(s)}})}),e.resolve(f)},function(a){return e.reject(d(a,h))},f.batchHandler),e.promise},j.prototype.jsonResultsAdapter=new i({name:"OData_default",visitNode:function(a,b,c){var d={};if(null==a)return d;if(null!=a.__metadata){var e=h.normalizeTypeName(a.__metadata.type),f=e&&b.entityManager.metadataStore.getEntityType(e,!0);f&&f._mappedPropertiesCount<=Object.keys(a).length-1&&(d.entityType=f,d.extra=a.__metadata)}a.results&&(d.node=a.results);var i=c.propertyName;return d.ignore=null!=a.__deferred||"__metadata"===i||"EntityKey"===i&&a.$type&&g.stringStartsWith(a.$type,"System.Data"),d}}),a.config.registerAdapter("dataService",j)}),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&!Q&&define(["breeze"],a)}(function(a){a.core;var b=a.MetadataStore,c=a.JsonResultsAdapter,d=a.AbstractDataServiceAdapter,e=function(){this.name="webApi"};e.prototype=new d,e.prototype._prepareSaveBundle=function(a,b){var c=b.entityManager,d=c.metadataStore,e=c.helper;return a.entities=a.entities.map(function(a){var b=e.unwrapInstance(a),c=null;a.entityType.autoGeneratedKeyType!==bt.None&&(c={propertyName:a.entityType.keyProperties[0].nameOnServer,autoGeneratedKeyType:a.entityType.autoGeneratedKeyType.name});var f=e.unwrapOriginalValues(a,d);return b.entityAspect={entityTypeName:a.entityType.name,defaultResourceName:a.entityType.defaultResourceName,entityState:a.entityAspect.entityState.name,originalValuesMap:f,autoGeneratedKey:c},b}),a.saveOptions={tag:a.saveOptions.tag},a},e.prototype._prepareSaveResult=function(a,c){var d=c.KeyMappings.map(function(a){var c=b.normalizeTypeName(a.EntityTypeName);return{entityTypeName:c,tempValue:a.TempValue,realValue:a.RealValue}});return{entities:c.Entities,keyMappings:d,httpResponse:c.httpResponse}},e.prototype.jsonResultsAdapter=new c({name:"webApi_default",visitNode:function(a,c,d){if(null==a)return{};var e=b.normalizeTypeName(a.$type),f=e&&c.entityManager.metadataStore._getEntityType(e,!0),g=d.propertyName,h=g&&"$"===g.substr(0,1);return{entityType:f,nodeId:a.$id,nodeRefId:a.$ref,ignore:h}}}),a.config.registerAdapter("dataService",e)}),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&!Q&&define(["breeze"],a)}(function(a){var b=a.core;a.ComplexAspect;var c,d,e,f,g=Object.prototype.hasOwnProperty,h=function(){this.name="backbone"};h.prototype.initialize=function(){c=b.requireLib("Backbone"),d=b.requireLib("_;underscore"),e=c.Model.prototype.set,f=c.Model.prototype.get},h.prototype.createCtor=function(b){var d={};b.dataProperties.forEach(function(a){d[a.name]=a.defaultValue});var e=c.Model.extend({defaults:d,initialize:function(){if(b.navigationProperties){var d=this;b.navigationProperties.forEach(function(b){if(!b.isScalar){var e=a.makeRelationArray([],d,b);c.Model.prototype.set.call(d,b.name,e)}})}}});return e},h.prototype.getTrackablePropertyNames=function(a){var b=[];for(var c in a.attributes)b.push(c);return b},h.prototype.initializeEntityPrototype=function(a){a.getProperty=function(a){return this.get(a)},a.setProperty=function(a,b){return this.set(a,b),this},a.set=function(a,b,c){var h=this.entityAspect||this.complexAspect;if(!h)return e.call(this,a,b,c);var i,j,k,l=this,m=this.entityType||this.complexType;if(d.isObject(a)||null==a){if(i=a,c=b,!this._validate(i,c))return!1;for(k in i)if(g.call(i,k)){if(j=m.getProperty(k),null==j)throw new Error("Unknown property: "+a);var n=function(a){return function(b){return 0===arguments.length?f.call(l,a):e.call(l,a,b,c)}}(k);this._$interceptor(j,i[k],n)}}else{if(i={},i[a]=b,c||(c={}),!this._validate(i,c))return!1;if(j=m.getProperty(a),null==j)throw new Error("Unknown property: "+a);k=a,this._$interceptor(j,b,function(a){return 0===arguments.length?f.call(l,k):e.call(l,k,a,c)})}return this}},h.prototype.startTracking=function(d){if(!(d instanceof c.Model))throw new Error("This entity is not an Backbone.Model instance");var g=d.entityType||d.complexType,h=d.attributes;g.dataProperties.forEach(function(b){var c=b.name,f=h[c];b.isComplexProperty?f=b.isScalar?b.dataType._createInstanceCore(d,b):a.makeComplexArray([],d,b):b.isScalar?void 0===f&&(f=b.defaultValue):f=a.makePrimitiveArray([],d,b),e.call(d,c,f)}),g.navigationProperties&&g.navigationProperties.forEach(function(c){var g;if(c.name in h){var i=f.call(d,c.name);if(c.isScalar){if(i&&!i.entityType)throw g=b.formatString("The value of the '%1' property for entityType: '%2' must be either null or another entity",c.name,d.entityType.name),new Error(g)}else if(i){if(!i.parentEntity)throw g=b.formatString("The value of the '%1' property for entityType: '%2' must be either null or a Breeze relation array",c.name,d.entityType.name),new Error(g)}else i=a.makeRelationArray([],d,c),e.call(d,c.name,i)}else c.isScalar?e.call(d,c.name,null):(i=a.makeRelationArray([],d,c),e.call(d,c.name,i))})},a.config.registerAdapter("modelLibrary",h)}),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&!Q&&define(["breeze"],a)}(function(a){function b(a){var b=a.entityType||a.complexType,c=b._extra,f=c.alreadyWrappedProps||{};b.getProperties().forEach(function(b){var c=b.name;f[c]||(c in a?e(a,b):d(a,b),f[c]=!0)}),c.alreadyWrappedProps=f}function c(a){var b=Object.getPrototypeOf(a);a._backingStore||(a._backingStore={});var c=b.entityType||b.complexType;return c.getProperties().forEach(function(b){var c=b.name;if(a.hasOwnProperty(c)){var d=a[c];delete a[c],a[c]=d}}),a._backingStore}function d(a,b){var c=b.name,d=function(a){return function(){return 0==arguments.length?a[c]:(a[c]=arguments[0],void 0)}},e={get:function(){var a=this._backingStore;if(a||(this._pendingSets.process(),a=this._backingStore))return a[c]},set:function(a){var e=this._backingStore;if(!e)return this._pendingSets.schedule(this,c,a),void 0;var f=d(e);this._$interceptor(b,a,f)},enumerable:!0,configurable:!0};Object.defineProperty(a,c,e)}function e(a,b){if(!a.hasOwnProperty(b.name)){var c=Object.getPrototypeOf(a);return e(c,b),void 0}var d=Object.getOwnPropertyDescriptor(a,b.name);if(d.configurable&&!d.value&&d.set){var f=function(a){return function(){return 0==arguments.length?d.get.bind(a)():(d.set.bind(a)(arguments[0]),void 0)}},g={get:function(){return d.get.bind(this)()},set:function(a){this._$interceptor(b,a,f(this))},enumerable:d.enumerable,configurable:!0};Object.defineProperty(a,b.name,g)}}var f=a.core,g=function(){this.name="backingStore"};g.prototype.initialize=function(){},g.prototype.getTrackablePropertyNames=function(a){var b=[];for(var c in a)if("entityType"!==c&&"_$typeName"!==c&&"_pendingSets"!==c&&"_backingStore"!==c){var d=a[c];f.isFunction(d)||b.push(c)}return b},g.prototype.initializeEntityPrototype=function(a){a.getProperty=function(a){return this[a]},a.setProperty=function(a,b){if(!this._backingStore.hasOwnProperty(a))throw new Error("Unknown property name:"+a);return this[a]=b,this},a.initializeFrom=function(a){var b=this;this.entityType.unmappedProperties.forEach(function(c){var d=c.name;a[d]=b[d]}),this._backingStore||(this._backingStore={})},a._pendingSets=[],a._pendingSets.schedule=function(a,b,c){if(this.push({entity:a,propName:b,value:c}),!this.isPending){this.isPending=!0;var d=this;setTimeout(function(){d.process()})}},a._pendingSets.process=function(){0!==this.length&&(this.forEach(function(a){a.entity._backingStore||(a.entity._backingStore={}),a.entity._backingStore[a.propName]=a.value}),this.length=0,this.isPending=!1)},b(a)},g.prototype.startTracking=function(b,d){d._pendingSets.process();var e=c(b),f=b.entityType||b.complexType;f.getProperties().forEach(function(c){var d=c.name,f=b[d];if(c.isDataProperty)c.isComplexProperty?f=c.isScalar?c.dataType._createInstanceCore(b,c):a.makeComplexArray([],b,c):c.isScalar?void 0===f&&(f=c.defaultValue):f=a.makePrimitiveArray([],b,c);else{if(!c.isNavigationProperty)throw new Error("unknown property: "+d);if(void 0!==f)throw new Error("Cannot assign a navigation property in an entity ctor.: "+c.Name);f=c.isScalar?null:a.makeRelationArray([],b,c)}e[d]=f})},a.config.registerAdapter("modelLibrary",g)}),function(a){Q?a(Q):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("breeze")):"function"==typeof define&&define.amd&&!Q&&define(["breeze"],a)}(function(a){function b(){try{return Object.getPrototypeOf&&Object.defineProperty({},"x",{})}catch(a){return!1}}function c(a){var b=a.entityType||a.complexType;if(es5Descriptors={},b.getProperties().forEach(function(b){propDescr=d(a,b.name),propDescr&&(es5Descriptors[b.name]=propDescr)}),!E(es5Descriptors)){var c=b._extra;c.es5Descriptors=es5Descriptors,b._koDummy=h.observable(null)}}function d(a,b){if(a.hasOwnProperty(b))return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(a,b);var c=Object.getPrototypeOf(a);return c?d(c,b):null}function e(b,c,d){if(c.isDataProperty)c.isComplexProperty?d=c.isScalar?c.dataType._createInstanceCore(b,c):a.makeComplexArray([],b,c):c.isScalar?void 0===d&&(d=c.defaultValue):d=a.makePrimitiveArray([],b,c);else{if(!c.isNavigationProperty)throw new Error("unknown property: "+c.name);if(void 0!==d)throw new Error("Cannot assign a navigation property in an entity ctor.: "+c.name);d=c.isScalar?null:a.makeRelationArray([],b,c)}return d}function f(a){a._koObj._suppressBreeze=!0}function g(a){var b=a.array._koObj;b._suppressBreeze?b._suppressBreeze=!1:b.valueHasMutated()}var h,i=a.core,j=function(){this.name="ko"};j.prototype.initialize=function(){h=i.requireLib("ko","The Knockout library"),h.extenders.intercept=function(a,b){var c,d=b.instance,e=b.property;return c=a.splice?h.computed({read:a}):h.computed({read:a,write:function(b){return d._$interceptor(e,b,a),d}})}},j.prototype.getTrackablePropertyNames=function(a){var b=[];for(var c in a)if("entityType"!==c&&"_$typeName"!==c){var e=d(a,c);if(e&&e.get)b.push(c);else{var f=a[c];h.isObservable(f)?b.push(c):i.isFunction(f)||b.push(c)}}return b},j.prototype.initializeEntityPrototype=function(a){a.getProperty=function(a){return this[a]()},a.setProperty=function(a,b){return this[a](b),this},b()&&c(a)},j.prototype.startTracking=function(a){var b=a.entityType||a.complexType,c=b._extra.es5Descriptors||{};b.getProperties().sort(function(a,b){var c=a.isUnmapped?1:0,d=b.isUnmapped?1:0;return c-d}).forEach(function(d){var i,j=d.name,k=a[j],l=c[j];if(l){var m=l.get.bind(a);if(l.set){var n=l.set.bind(a),o=function(a){return 0===arguments.length?m():(n(a),void 0)};i=h.computed({read:function(){return b._koDummy(),m()},write:function(c){return a._$interceptor(d,c,o),b._koDummy.valueHasMutated(),a}})}else i=h.computed({read:m,write:function(){}})}else if(h.isObservable(k)){if(d.isNavigationProperty)throw new Error("Cannot assign a navigation property in an entity ctor.: "+j);i=k}else{var k=e(a,d,k);i=d.isScalar?h.observable(k):h.observableArray(k)}if(d.isScalar)if(l)Object.defineProperty(a,j,{enumerable:!0,configurable:!0,writable:!0,value:i});else{var p=i.extend({intercept:{instance:a,property:d}});a[j]=p}else k._koObj=i,i.subscribe(f,null,"beforeChange"),k.arrayChanged.subscribe(g),i.equalityComparer=function(){throw new Error("Collection navigation properties may NOT be set.")},a[j]=i})},a.config.registerAdapter("modelLibrary",j)}),Q.config.initializeAdapterInstances({dataService:"webApi",ajax:"jQuery"});var bQ=t("ko");return bQ?Q.config.initializeAdapterInstance("modelLibrary","ko"):Q.config.initializeAdapterInstance("modelLibrary","backingStore"),this.window&&(this.window.breeze=Q),Q})
;if("undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}"use strict",a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var b=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===b.prop("type")&&a.find(".active").removeClass("active")}this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?(this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350),void 0):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}"use strict";var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}"use strict",b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery)
;((function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){u(a),g(this,a)}function f(a){var b=o(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,i=b.second||0,j=b.millisecond||0;this._input=a,this._milliseconds=+j+1e3*i+6e4*h+36e5*g,this._days=+f+7*e,this._months=+d+12*c,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&bb.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function m(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function n(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=bK[a]||bL[b]||b}return a}function o(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=n(c),b&&(d[b]=a[c]));return d}function p(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}bb[b]=function(e,f){var g,h,i=bb.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=bb().utc().set(d,a);return i.call(bb.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function r(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function s(a){return t(a)?366:365}function t(a){return 0===a%4&&0!==a%100||0===a%400}function u(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[bg]<0||a._a[bg]>11?bg:a._a[bh]<1||a._a[bh]>r(a._a[bf],a._a[bg])?bh:a._a[bi]<0||a._a[bi]>23?bi:a._a[bj]<0||a._a[bj]>59?bj:a._a[bk]<0||a._a[bk]>59?bk:a._a[bl]<0||a._a[bl]>999?bl:-1,a._pf._overflowDayOfYear&&(bf>b||b>bh)&&(b=bh),a._pf.overflow=b)}function v(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function w(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function x(a){return a?a.toLowerCase().replace("_","-"):a}function y(a,b){return b.abbr=a,bm[a]||(bm[a]=new d),bm[a].set(b),bm[a]}function z(a){delete bm[a]}function A(a){var b,c,d,e,f=0,g=function(a){if(!bm[a]&&bn)try{require("./lang/"+a)}catch(b){}return bm[a]};if(!a)return bb.fn._lang;if(!k(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=x(a[f]).split("-"),b=e.length,d=x(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&m(e,d,!0)>=b-1)break;b--}f++}return bb.fn._lang}function B(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function C(a){var b,c,d=a.match(br);for(b=0,c=d.length;c>b;b++)d[b]=bP[d[b]]?bP[d[b]]:B(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function D(a,b){return a.isValid()?(b=E(b,a.lang()),bM[b]||(bM[b]=C(b)),bM[b](a)):a.lang().invalidDate()}function E(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(bs.lastIndex=0;d>=0&&bs.test(a);)a=a.replace(bs,c),bs.lastIndex=0,d-=1;return a}function F(a,b){var c;switch(a){case"DDDD":return bv;case"YYYY":case"GGGG":case"gggg":return bw;case"YYYYY":case"GGGGG":case"ggggg":return bx;case"S":case"SS":case"SSS":case"DDD":return bu;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return bz;case"a":case"A":return A(b._l)._meridiemParse;case"X":return bC;case"Z":case"ZZ":return bA;case"T":return bB;case"SSSS":return by;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return bt;default:return c=new RegExp(N(M(a.replace("\\","")),"i"))}}function G(a){var b=(bA.exec(a)||[])[0],c=(b+"").match(bH)||["-",0,0],d=+(60*c[1])+q(c[2]);return"+"===c[0]?-d:d}function H(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[bg]=q(b)-1);break;case"MMM":case"MMMM":d=A(c._l).monthsParse(b),null!=d?e[bg]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[bh]=q(b));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=q(b));break;case"YY":e[bf]=q(b)+(q(b)>68?1900:2e3);break;case"YYYY":case"YYYYY":e[bf]=q(b);break;case"a":case"A":c._isPm=A(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[bi]=q(b);break;case"m":case"mm":e[bj]=q(b);break;case"s":case"ss":e[bk]=q(b);break;case"S":case"SS":case"SSS":case"SSSS":e[bl]=q(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=G(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function I(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=K(a),a._w&&null==a._a[bh]&&null==a._a[bg]&&(f=function(b){return b?b.length<3?parseInt(b,10)>68?"19"+b:"20"+b:b:null==a._a[bf]?bb().weekYear():a._a[bf]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=X(f(g.GG),g.W||1,g.E,4,1):(i=A(a._l),j=null!=g.d?T(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=X(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[bf]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[bf]?d[bf]:a._a[bf],a._dayOfYear>s(e)&&(a._pf._overflowDayOfYear=!0),c=S(e,0,a._dayOfYear),a._a[bg]=c.getUTCMonth(),a._a[bh]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[bi]+=q((a._tzm||0)/60),l[bj]+=q((a._tzm||0)%60),a._d=(a._useUTC?S:R).apply(null,l)}}function J(a){var b;a._d||(b=o(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],I(a))}function K(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function L(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=A(a._l),h=""+a._i,i=h.length,j=0;for(d=E(a._f,g).match(br)||[],b=0;b<d.length;b++)e=d[b],c=(F(e,a).exec(h)||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),bP[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),H(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[bi]<12&&(a._a[bi]+=12),a._isPm===!1&&12===a._a[bi]&&(a._a[bi]=0),I(a),u(a)}function M(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function N(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a){var b,c,d,e,f;if(0===a._f.length)return a._pf.invalidFormat=!0,a._d=new Date(NaN),void 0;for(e=0;e<a._f.length;e++)f=0,b=g({},a),v(b),b._f=a._f[e],L(b),w(b)&&(f+=b._pf.charsLeftOver,f+=10*b._pf.unusedTokens.length,b._pf.score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function P(a){var b,c=a._i,d=bD.exec(c);if(d){for(a._pf.iso=!0,b=4;b>0;b--)if(d[b]){a._f=bF[b-1]+(d[6]||" ");break}for(b=0;4>b;b++)if(bG[b][1].exec(c)){a._f+=bG[b][0];break}bA.exec(c)&&(a._f+="Z"),L(a)}else a._d=new Date(c)}function Q(b){var c=b._i,d=bo.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?P(b):k(c)?(b._a=c.slice(0),I(b)):l(c)?b._d=new Date(+c):"object"==typeof c?J(b):b._d=new Date(c)}function R(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function S(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function T(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function U(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function V(a,b,c){var d=be(Math.abs(a)/1e3),e=be(d/60),f=be(e/60),g=be(f/24),h=be(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",be(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,U.apply({},i)}function W(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=bb(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function X(a,b,c,d,e){var f,g,h=(new Date(Date.UTC(a,0))).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:s(a-1)+g}}function Y(a){var b=a._i,c=a._f;return"undefined"==typeof a._pf&&v(a),null===b?bb.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=A().preparse(b)),bb.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?O(a):L(a):Q(a),new e(a))}function Z(a,b){bb.fn[a]=bb.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),bb.updateOffset(this),this):this._d["get"+c+b]()}}function $(a){bb.duration.fn[a]=function(){return this._data[a]}}function _(a,b){bb.duration.fn["as"+a]=function(){return+this/b}}function ba(a){var b=!1,c=bb;"undefined"==typeof ender&&(this.moment=a?function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)}:bb)}for(var bb,bc,bd="2.4.0",be=Math.round,bf=0,bg=1,bh=2,bi=3,bj=4,bk=5,bl=6,bm={},bn="undefined"!=typeof module&&module.exports,bo=/^\/?Date\((\-?\d+)/i,bp=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,bq=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,br=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,bs=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,bu=/\d{1,3}/,bv=/\d{3}/,bw=/\d{1,4}/,bx=/[+\-]?\d{1,6}/,by=/\d+/,bz=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,bA=/Z|[\+\-]\d\d:?\d\d/i,bB=/T/i,bC=/[\+\-]?\d+(\.\d{1,3})?/,bD=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,bE="YYYY-MM-DDTHH:mm:ssZ",bF=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],bG=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bH=/([\+\-]|\d\d)/gi,bI="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),bJ={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},bK={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},bL={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},bM={},bN="DDD w W M D d".split(" "),bO="M D H h m s w W".split(" "),bP={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return q(this.milliseconds()/100)},SS:function(){return i(q(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},SSSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(q(a/60),2)+":"+i(q(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(q(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},bQ=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];bN.length;)bc=bN.pop(),bP[bc+"o"]=c(bP[bc],bc);for(;bO.length;)bc=bO.pop(),bP[bc+bc]=b(bP[bc],2);for(bP.DDDD=b(bP.DDD,3),g(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=bb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=bb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return W(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bb=function(b,c,d,e){return"boolean"==typeof d&&(e=d,d=a),Y({_i:b,_f:c,_l:d,_strict:e,_isUTC:!1})},bb.utc=function(b,c,d,e){var f;return"boolean"==typeof d&&(e=d,d=a),f=Y({_useUTC:!0,_isUTC:!0,_l:d,_i:b,_f:c,_strict:e}).utc()},bb.unix=function(a){return bb(1e3*a)},bb.duration=function(a,b){var c,d,e,g=bb.isDuration(a),h="number"==typeof a,i=g?a._input:h?{}:a,j=null;return h?b?i[b]=a:i.milliseconds=a:(j=bp.exec(a))?(c="-"===j[1]?-1:1,i={y:0,d:q(j[bh])*c,h:q(j[bi])*c,m:q(j[bj])*c,s:q(j[bk])*c,ms:q(j[bl])*c}):(j=bq.exec(a))&&(c="-"===j[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},i={y:e(j[2]),M:e(j[3]),d:e(j[4]),h:e(j[5]),m:e(j[6]),s:e(j[7]),w:e(j[8])}),d=new f(i),g&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},bb.version=bd,bb.defaultFormat=bE,bb.updateOffset=function(){},bb.lang=function(a,b){var c;return a?(b?y(x(a),b):null===b?(z(a),a="en"):bm[a]||A(a),c=bb.duration.fn._lang=bb.fn._lang=A(a),c._abbr):bb.fn._lang._abbr},bb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),A(a)},bb.isMoment=function(a){return a instanceof e},bb.isDuration=function(a){return a instanceof f},bc=bQ.length-1;bc>=0;--bc)p(bQ[bc]);for(bb.normalizeUnits=function(a){return n(a)},bb.invalid=function(a){var b=bb.utc(NaN);return null!=a?g(b._pf,a):b._pf.userInvalidated=!0,b},bb.parseZone=function(a){return bb(a).parseZone()},g(bb.fn=e.prototype,{clone:function(){return bb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return D(bb(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return w(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?bb.utc(this._a):bb(this._a)).toArray())>0:!1},parsingFlags:function(){return g({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=D(this,a||bb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?bb.duration(+b,a):bb.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?bb.duration(+b,a):bb.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?bb(a).zone(this._offset||0):bb(a).local(),g=6e4*(this.zone()-f.zone());return b=n(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-bb(this).startOf("month")-(f-bb(f).startOf("month")))/d,e-=6e4*(this.zone()-bb(this).startOf("month").zone()-(f.zone()-bb(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return bb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(bb(),a)},calendar:function(){var a=this.diff(bb().zone(this.zone()).startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){return t(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=T(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),bb.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=n(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=n(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+bb(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+bb(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+bb(a).startOf(b)},min:function(a){return a=bb.apply(null,arguments),this>a?this:a},max:function(a){return a=bb.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=G(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,bb.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?bb(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){return r(this.year(),this.month())},dayOfYear:function(a){var b=be((bb(this).startOf("day")-bb(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=W(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=W(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=W(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=n(a),this[a]()},set:function(a,b){return a=n(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=A(b),this)}}),bc=0;bc<bI.length;bc++)Z(bI[bc].toLowerCase().replace(/s$/,""),bI[bc]);Z("year","FullYear"),bb.fn.days=bb.fn.day,bb.fn.months=bb.fn.month,bb.fn.weeks=bb.fn.week,bb.fn.isoWeeks=bb.fn.isoWeek,bb.fn.toJSON=bb.fn.toISOString,g(bb.duration.fn=f.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*q(this._months/12)},humanize:function(a){var b=+this,c=V(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=bb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=bb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=n(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=n(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:bb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(bc in bJ)bJ.hasOwnProperty(bc)&&(_(bc,bJ[bc]),$(bc.toLowerCase()));_("Weeks",6048e5),bb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},bb.lang("en",{ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),bn?(module.exports=bb,ba(!0)):"function"==typeof define&&define.amd?define("moment",function(b,c,d){return d.config().noGlobal!==!0&&ba(d.config().noGlobal===a),bb}):ba()})).call(this)
